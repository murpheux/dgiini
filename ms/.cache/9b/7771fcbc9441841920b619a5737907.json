{"id":"4L41","dependencies":[{"name":"/Users/murpheux/Workspace/projects/dgiini/microservices/package.json","includedInParent":true,"mtime":1563323962672},{"name":"/Users/murpheux/Workspace/projects/dgiini/microservices/.babelrc","includedInParent":true,"mtime":1557029603000},{"name":"/Users/murpheux/Workspace/projects/dgiini/microservices/node_modules/winston-transport/package.json","includedInParent":true,"mtime":1561510407439},{"name":"/Users/murpheux/Workspace/projects/dgiini/microservices/node_modules/winston-transport/.babelrc","includedInParent":true,"mtime":1561510407439},{"name":"util","loc":{"line":3,"column":21},"parent":"/Users/murpheux/Workspace/projects/dgiini/microservices/node_modules/winston-transport/legacy.js","resolved":"/Users/murpheux/.config/yarn/global/node_modules/node-libs-browser/node_modules/util/util.js"},{"name":"triple-beam","loc":{"line":4,"column":26},"parent":"/Users/murpheux/Workspace/projects/dgiini/microservices/node_modules/winston-transport/legacy.js","resolved":"/Users/murpheux/Workspace/projects/dgiini/microservices/node_modules/triple-beam/index.js"},{"name":"./","loc":{"line":5,"column":32},"parent":"/Users/murpheux/Workspace/projects/dgiini/microservices/node_modules/winston-transport/legacy.js","resolved":"/Users/murpheux/Workspace/projects/dgiini/microservices/node_modules/winston-transport/dist/index.js"}],"generated":{"js":"\"use strict\";var t=require(\"util\"),{LEVEL:r}=require(\"triple-beam\"),n=require(\"./\"),s=module.exports=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(n.call(this,t),!t.transport||\"function\"!=typeof t.transport.log)throw new Error(\"Invalid transport, must be an object with a log method.\");this.transport=t.transport,this.level=this.level||t.transport.level,this.handleExceptions=this.handleExceptions||t.transport.handleExceptions,this._deprecated(),this.transport.__winstonError||(this.transport.__winstonError=function(t){this.emit(\"error\",t,this.transport)}.bind(this),this.transport.on(\"error\",this.transport.__winstonError))};t.inherits(s,n),s.prototype._write=function(t,n,s){if(this.silent||!0===t.exception&&!this.handleExceptions)return s(null);(!this.level||this.levels[this.level]>=this.levels[t[r]])&&this.transport.log(t[r],t.message,t,this._nop),s(null)},s.prototype._writev=function(t,n){for(var s=0;s<t.length;s++)this._accept(t[s])&&(this.transport.log(t[s].chunk[r],t[s].chunk.message,t[s].chunk,this._nop),t[s].callback());return n(null)},s.prototype._deprecated=function(){console.error([\"\".concat(this.transport.name,\" is a legacy winston transport. Consider upgrading: \"),\"- Upgrade docs: https://github.com/winstonjs/winston/blob/master/UPGRADE-3.0.md\"].join(\"\\n\"))},s.prototype.close=function(){this.transport.close&&this.transport.close(),this.transport.__winstonError&&(this.transport.removeListener(\"error\",this.transport.__winstonError),this.transport.__winstonError=null)};"},"sourceMaps":{"js":{"mappings":[{"source":"../node_modules/winston-transport/legacy.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"../node_modules/winston-transport/legacy.js","original":{"line":3,"column":0},"generated":{"line":1,"column":13}},{"source":"../node_modules/winston-transport/legacy.js","name":"util","original":{"line":3,"column":6},"generated":{"line":1,"column":17}},{"source":"../node_modules/winston-transport/legacy.js","name":"require","original":{"line":3,"column":13},"generated":{"line":1,"column":19}},{"source":"../node_modules/winston-transport/legacy.js","original":{"line":3,"column":21},"generated":{"line":1,"column":27}},{"source":"../node_modules/winston-transport/legacy.js","name":"LEVEL","original":{"line":4,"column":8},"generated":{"line":1,"column":36}},{"source":"../node_modules/winston-transport/legacy.js","name":"LEVEL","original":{"line":4,"column":8},"generated":{"line":1,"column":42}},{"source":"../node_modules/winston-transport/legacy.js","name":"require","original":{"line":4,"column":18},"generated":{"line":1,"column":45}},{"source":"../node_modules/winston-transport/legacy.js","original":{"line":4,"column":26},"generated":{"line":1,"column":53}},{"source":"../node_modules/winston-transport/legacy.js","name":"TransportStream","original":{"line":5,"column":6},"generated":{"line":1,"column":68}},{"source":"../node_modules/winston-transport/legacy.js","name":"require","original":{"line":5,"column":24},"generated":{"line":1,"column":70}},{"source":"../node_modules/winston-transport/legacy.js","original":{"line":5,"column":32},"generated":{"line":1,"column":78}},{"source":"../node_modules/winston-transport/legacy.js","name":"LegacyTransportStream","original":{"line":15,"column":6},"generated":{"line":1,"column":84}},{"source":"../node_modules/winston-transport/legacy.js","name":"module","original":{"line":15,"column":30},"generated":{"line":1,"column":86}},{"source":"../node_modules/winston-transport/legacy.js","name":"exports","original":{"line":15,"column":37},"generated":{"line":1,"column":93}},{"source":"../node_modules/winston-transport/legacy.js","original":{"line":15,"column":47},"generated":{"line":1,"column":101}},{"source":"../node_modules/winston-transport/legacy.js","name":"options","original":{"line":15,"column":78},"generated":{"line":1,"column":112}},{"source":"../node_modules/winston-transport/legacy.js","name":"options","original":{"line":15,"column":78},"generated":{"line":1,"column":116}},{"source":"../node_modules/winston-transport/legacy.js","original":{"line":15,"column":88},"generated":{"line":1,"column":118}},{"source":"../node_modules/winston-transport/legacy.js","original":{"line":15,"column":88},"generated":{"line":1,"column":128}},{"source":"../node_modules/winston-transport/legacy.js","original":{"line":15,"column":88},"generated":{"line":1,"column":135}},{"source":"../node_modules/winston-transport/legacy.js","original":{"line":15,"column":88},"generated":{"line":1,"column":143}},{"source":"../node_modules/winston-transport/legacy.js","original":{"line":15,"column":88},"generated":{"line":1,"column":147}},{"source":"../node_modules/winston-transport/legacy.js","original":{"line":15,"column":88},"generated":{"line":1,"column":157}},{"source":"../node_modules/winston-transport/legacy.js","original":{"line":15,"column":88},"generated":{"line":1,"column":160}},{"source":"../node_modules/winston-transport/legacy.js","original":{"line":15,"column":88},"generated":{"line":1,"column":170}},{"source":"../node_modules/winston-transport/legacy.js","original":{"line":15,"column":88},"generated":{"line":1,"column":173}},{"source":"../node_modules/winston-transport/legacy.js","original":{"line":17,"column":6},"generated":{"line":1,"column":176}},{"source":"../node_modules/winston-transport/legacy.js","name":"TransportStream","original":{"line":16,"column":2},"generated":{"line":1,"column":179}},{"source":"../node_modules/winston-transport/legacy.js","name":"call","original":{"line":16,"column":18},"generated":{"line":1,"column":181}},{"source":"../node_modules/winston-transport/legacy.js","original":{"line":16,"column":23},"generated":{"line":1,"column":186}},{"source":"../node_modules/winston-transport/legacy.js","name":"options","original":{"line":16,"column":29},"generated":{"line":1,"column":191}},{"source":"../node_modules/winston-transport/legacy.js","name":"options","original":{"line":17,"column":7},"generated":{"line":1,"column":195}},{"source":"../node_modules/winston-transport/legacy.js","name":"transport","original":{"line":17,"column":15},"generated":{"line":1,"column":197}},{"source":"../node_modules/winston-transport/legacy.js","original":{"line":17,"column":61},"generated":{"line":1,"column":208}},{"source":"../node_modules/winston-transport/legacy.js","name":"options","original":{"line":17,"column":35},"generated":{"line":1,"column":227}},{"source":"../node_modules/winston-transport/legacy.js","name":"transport","original":{"line":17,"column":43},"generated":{"line":1,"column":229}},{"source":"../node_modules/winston-transport/legacy.js","name":"log","original":{"line":17,"column":53},"generated":{"line":1,"column":239}},{"source":"../node_modules/winston-transport/legacy.js","original":{"line":18,"column":10},"generated":{"line":1,"column":243}},{"source":"../node_modules/winston-transport/legacy.js","original":{"line":18,"column":10},"generated":{"line":1,"column":249}},{"source":"../node_modules/winston-transport/legacy.js","name":"Error","original":{"line":18,"column":14},"generated":{"line":1,"column":253}},{"source":"../node_modules/winston-transport/legacy.js","original":{"line":18,"column":20},"generated":{"line":1,"column":259}},{"source":"../node_modules/winston-transport/legacy.js","name":"transport","original":{"line":21,"column":7},"generated":{"line":1,"column":318}},{"source":"../node_modules/winston-transport/legacy.js","name":"transport","original":{"line":21,"column":7},"generated":{"line":1,"column":323}},{"source":"../node_modules/winston-transport/legacy.js","name":"options","original":{"line":21,"column":19},"generated":{"line":1,"column":333}},{"source":"../node_modules/winston-transport/legacy.js","name":"transport","original":{"line":21,"column":27},"generated":{"line":1,"column":335}},{"source":"../node_modules/winston-transport/legacy.js","name":"level","original":{"line":22,"column":7},"generated":{"line":1,"column":345}},{"source":"../node_modules/winston-transport/legacy.js","name":"level","original":{"line":22,"column":7},"generated":{"line":1,"column":350}},{"source":"../node_modules/winston-transport/legacy.js","original":{"line":22,"column":15},"generated":{"line":1,"column":356}},{"source":"../node_modules/winston-transport/legacy.js","name":"level","original":{"line":22,"column":20},"generated":{"line":1,"column":361}},{"source":"../node_modules/winston-transport/legacy.js","name":"options","original":{"line":22,"column":29},"generated":{"line":1,"column":368}},{"source":"../node_modules/winston-transport/legacy.js","name":"transport","original":{"line":22,"column":37},"generated":{"line":1,"column":370}},{"source":"../node_modules/winston-transport/legacy.js","name":"level","original":{"line":22,"column":47},"generated":{"line":1,"column":380}},{"source":"../node_modules/winston-transport/legacy.js","name":"handleExceptions","original":{"line":23,"column":7},"generated":{"line":1,"column":386}},{"source":"../node_modules/winston-transport/legacy.js","name":"handleExceptions","original":{"line":23,"column":7},"generated":{"line":1,"column":391}},{"source":"../node_modules/winston-transport/legacy.js","original":{"line":23,"column":26},"generated":{"line":1,"column":408}},{"source":"../node_modules/winston-transport/legacy.js","name":"handleExceptions","original":{"line":23,"column":31},"generated":{"line":1,"column":413}},{"source":"../node_modules/winston-transport/legacy.js","name":"options","original":{"line":23,"column":51},"generated":{"line":1,"column":431}},{"source":"../node_modules/winston-transport/legacy.js","name":"transport","original":{"line":23,"column":59},"generated":{"line":1,"column":433}},{"source":"../node_modules/winston-transport/legacy.js","name":"handleExceptions","original":{"line":23,"column":69},"generated":{"line":1,"column":443}},{"source":"../node_modules/winston-transport/legacy.js","name":"_deprecated","original":{"line":26,"column":7},"generated":{"line":1,"column":460}},{"source":"../node_modules/winston-transport/legacy.js","name":"_deprecated","original":{"line":26,"column":7},"generated":{"line":1,"column":465}},{"source":"../node_modules/winston-transport/legacy.js","original":{"line":35,"column":7},"generated":{"line":1,"column":479}},{"source":"../node_modules/winston-transport/legacy.js","name":"transport","original":{"line":35,"column":12},"generated":{"line":1,"column":484}},{"source":"../node_modules/winston-transport/legacy.js","name":"__winstonError","original":{"line":35,"column":22},"generated":{"line":1,"column":494}},{"source":"../node_modules/winston-transport/legacy.js","name":"transport","original":{"line":36,"column":9},"generated":{"line":1,"column":511}},{"source":"../node_modules/winston-transport/legacy.js","name":"transport","original":{"line":36,"column":9},"generated":{"line":1,"column":516}},{"source":"../node_modules/winston-transport/legacy.js","name":"__winstonError","original":{"line":36,"column":19},"generated":{"line":1,"column":526}},{"source":"../node_modules/winston-transport/legacy.js","name":"transportError","original":{"line":31,"column":11},"generated":{"line":1,"column":541}},{"source":"../node_modules/winston-transport/legacy.js","name":"err","original":{"line":31,"column":26},"generated":{"line":1,"column":550}},{"source":"../node_modules/winston-transport/legacy.js","name":"emit","original":{"line":32,"column":9},"generated":{"line":1,"column":553}},{"source":"../node_modules/winston-transport/legacy.js","name":"emit","original":{"line":32,"column":9},"generated":{"line":1,"column":558}},{"source":"../node_modules/winston-transport/legacy.js","original":{"line":32,"column":14},"generated":{"line":1,"column":563}},{"source":"../node_modules/winston-transport/legacy.js","name":"err","original":{"line":32,"column":23},"generated":{"line":1,"column":571}},{"source":"../node_modules/winston-transport/legacy.js","original":{"line":32,"column":28},"generated":{"line":1,"column":573}},{"source":"../node_modules/winston-transport/legacy.js","name":"transport","original":{"line":32,"column":33},"generated":{"line":1,"column":578}},{"source":"../node_modules/winston-transport/legacy.js","name":"bind","original":{"line":36,"column":51},"generated":{"line":1,"column":590}},{"source":"../node_modules/winston-transport/legacy.js","original":{"line":36,"column":56},"generated":{"line":1,"column":595}},{"source":"../node_modules/winston-transport/legacy.js","name":"transport","original":{"line":37,"column":9},"generated":{"line":1,"column":601}},{"source":"../node_modules/winston-transport/legacy.js","name":"transport","original":{"line":37,"column":9},"generated":{"line":1,"column":606}},{"source":"../node_modules/winston-transport/legacy.js","name":"on","original":{"line":37,"column":19},"generated":{"line":1,"column":616}},{"source":"../node_modules/winston-transport/legacy.js","original":{"line":37,"column":22},"generated":{"line":1,"column":619}},{"source":"../node_modules/winston-transport/legacy.js","original":{"line":37,"column":31},"generated":{"line":1,"column":627}},{"source":"../node_modules/winston-transport/legacy.js","name":"transport","original":{"line":37,"column":36},"generated":{"line":1,"column":632}},{"source":"../node_modules/winston-transport/legacy.js","name":"__winstonError","original":{"line":37,"column":46},"generated":{"line":1,"column":642}},{"source":"../node_modules/winston-transport/legacy.js","name":"util","original":{"line":44,"column":0},"generated":{"line":1,"column":660}},{"source":"../node_modules/winston-transport/legacy.js","name":"inherits","original":{"line":44,"column":5},"generated":{"line":1,"column":662}},{"source":"../node_modules/winston-transport/legacy.js","name":"LegacyTransportStream","original":{"line":44,"column":14},"generated":{"line":1,"column":671}},{"source":"../node_modules/winston-transport/legacy.js","name":"TransportStream","original":{"line":44,"column":37},"generated":{"line":1,"column":673}},{"source":"../node_modules/winston-transport/legacy.js","name":"LegacyTransportStream","original":{"line":54,"column":0},"generated":{"line":1,"column":676}},{"source":"../node_modules/winston-transport/legacy.js","name":"prototype","original":{"line":54,"column":22},"generated":{"line":1,"column":678}},{"source":"../node_modules/winston-transport/legacy.js","name":"_write","original":{"line":54,"column":32},"generated":{"line":1,"column":688}},{"source":"../node_modules/winston-transport/legacy.js","original":{"line":54,"column":41},"generated":{"line":1,"column":695}},{"source":"../node_modules/winston-transport/legacy.js","name":"info","original":{"line":54,"column":57},"generated":{"line":1,"column":704}},{"source":"../node_modules/winston-transport/legacy.js","name":"enc","original":{"line":54,"column":63},"generated":{"line":1,"column":706}},{"source":"../node_modules/winston-transport/legacy.js","name":"callback","original":{"line":54,"column":68},"generated":{"line":1,"column":708}},{"source":"../node_modules/winston-transport/legacy.js","original":{"line":55,"column":6},"generated":{"line":1,"column":711}},{"source":"../node_modules/winston-transport/legacy.js","original":{"line":55,"column":6},"generated":{"line":1,"column":714}},{"source":"../node_modules/winston-transport/legacy.js","name":"silent","original":{"line":55,"column":11},"generated":{"line":1,"column":719}},{"source":"../node_modules/winston-transport/legacy.js","original":{"line":55,"column":41},"generated":{"line":1,"column":728}},{"source":"../node_modules/winston-transport/legacy.js","name":"info","original":{"line":55,"column":22},"generated":{"line":1,"column":732}},{"source":"../node_modules/winston-transport/legacy.js","name":"exception","original":{"line":55,"column":27},"generated":{"line":1,"column":734}},{"source":"../node_modules/winston-transport/legacy.js","original":{"line":55,"column":50},"generated":{"line":1,"column":746}},{"source":"../node_modules/winston-transport/legacy.js","name":"handleExceptions","original":{"line":55,"column":55},"generated":{"line":1,"column":751}},{"source":"../node_modules/winston-transport/legacy.js","name":"callback","original":{"line":56,"column":11},"generated":{"line":1,"column":768}},{"source":"../node_modules/winston-transport/legacy.js","name":"callback","original":{"line":56,"column":11},"generated":{"line":1,"column":775}},{"source":"../node_modules/winston-transport/legacy.js","original":{"line":56,"column":20},"generated":{"line":1,"column":777}},{"source":"../node_modules/winston-transport/legacy.js","original":{"line":61,"column":7},"generated":{"line":1,"column":785}},{"source":"../node_modules/winston-transport/legacy.js","name":"level","original":{"line":61,"column":12},"generated":{"line":1,"column":790}},{"source":"../node_modules/winston-transport/legacy.js","original":{"line":61,"column":21},"generated":{"line":1,"column":797}},{"source":"../node_modules/winston-transport/legacy.js","name":"levels","original":{"line":61,"column":26},"generated":{"line":1,"column":802}},{"source":"../node_modules/winston-transport/legacy.js","original":{"line":61,"column":33},"generated":{"line":1,"column":809}},{"source":"../node_modules/winston-transport/legacy.js","name":"level","original":{"line":61,"column":38},"generated":{"line":1,"column":814}},{"source":"../node_modules/winston-transport/legacy.js","original":{"line":61,"column":48},"generated":{"line":1,"column":822}},{"source":"../node_modules/winston-transport/legacy.js","name":"levels","original":{"line":61,"column":53},"generated":{"line":1,"column":827}},{"source":"../node_modules/winston-transport/legacy.js","name":"info","original":{"line":61,"column":60},"generated":{"line":1,"column":834}},{"source":"../node_modules/winston-transport/legacy.js","name":"LEVEL","original":{"line":61,"column":65},"generated":{"line":1,"column":836}},{"source":"../node_modules/winston-transport/legacy.js","name":"transport","original":{"line":62,"column":9},"generated":{"line":1,"column":842}},{"source":"../node_modules/winston-transport/legacy.js","name":"transport","original":{"line":62,"column":9},"generated":{"line":1,"column":847}},{"source":"../node_modules/winston-transport/legacy.js","name":"log","original":{"line":62,"column":19},"generated":{"line":1,"column":857}},{"source":"../node_modules/winston-transport/legacy.js","name":"info","original":{"line":62,"column":23},"generated":{"line":1,"column":861}},{"source":"../node_modules/winston-transport/legacy.js","name":"LEVEL","original":{"line":62,"column":28},"generated":{"line":1,"column":863}},{"source":"../node_modules/winston-transport/legacy.js","name":"info","original":{"line":62,"column":36},"generated":{"line":1,"column":866}},{"source":"../node_modules/winston-transport/legacy.js","name":"message","original":{"line":62,"column":41},"generated":{"line":1,"column":868}},{"source":"../node_modules/winston-transport/legacy.js","name":"info","original":{"line":62,"column":50},"generated":{"line":1,"column":876}},{"source":"../node_modules/winston-transport/legacy.js","original":{"line":62,"column":56},"generated":{"line":1,"column":878}},{"source":"../node_modules/winston-transport/legacy.js","name":"_nop","original":{"line":62,"column":61},"generated":{"line":1,"column":883}},{"source":"../node_modules/winston-transport/legacy.js","name":"callback","original":{"line":65,"column":2},"generated":{"line":1,"column":889}},{"source":"../node_modules/winston-transport/legacy.js","original":{"line":65,"column":11},"generated":{"line":1,"column":891}},{"source":"../node_modules/winston-transport/legacy.js","name":"LegacyTransportStream","original":{"line":76,"column":0},"generated":{"line":1,"column":898}},{"source":"../node_modules/winston-transport/legacy.js","name":"prototype","original":{"line":76,"column":22},"generated":{"line":1,"column":900}},{"source":"../node_modules/winston-transport/legacy.js","name":"_writev","original":{"line":76,"column":32},"generated":{"line":1,"column":910}},{"source":"../node_modules/winston-transport/legacy.js","original":{"line":76,"column":42},"generated":{"line":1,"column":918}},{"source":"../node_modules/winston-transport/legacy.js","name":"chunks","original":{"line":76,"column":59},"generated":{"line":1,"column":927}},{"source":"../node_modules/winston-transport/legacy.js","name":"callback","original":{"line":76,"column":67},"generated":{"line":1,"column":929}},{"source":"../node_modules/winston-transport/legacy.js","original":{"line":77,"column":7},"generated":{"line":1,"column":932}},{"source":"../node_modules/winston-transport/legacy.js","original":{"line":77,"column":7},"generated":{"line":1,"column":936}},{"source":"../node_modules/winston-transport/legacy.js","name":"i","original":{"line":77,"column":11},"generated":{"line":1,"column":940}},{"source":"../node_modules/winston-transport/legacy.js","original":{"line":77,"column":15},"generated":{"line":1,"column":942}},{"source":"../node_modules/winston-transport/legacy.js","name":"i","original":{"line":77,"column":18},"generated":{"line":1,"column":944}},{"source":"../node_modules/winston-transport/legacy.js","name":"chunks","original":{"line":77,"column":22},"generated":{"line":1,"column":946}},{"source":"../node_modules/winston-transport/legacy.js","name":"length","original":{"line":77,"column":29},"generated":{"line":1,"column":948}},{"source":"../node_modules/winston-transport/legacy.js","name":"i","original":{"line":77,"column":37},"generated":{"line":1,"column":955}},{"source":"../node_modules/winston-transport/legacy.js","original":{"line":78,"column":8},"generated":{"line":1,"column":959}},{"source":"../node_modules/winston-transport/legacy.js","name":"_accept","original":{"line":78,"column":13},"generated":{"line":1,"column":964}},{"source":"../node_modules/winston-transport/legacy.js","name":"chunks","original":{"line":78,"column":21},"generated":{"line":1,"column":972}},{"source":"../node_modules/winston-transport/legacy.js","name":"i","original":{"line":78,"column":28},"generated":{"line":1,"column":974}},{"source":"../node_modules/winston-transport/legacy.js","name":"transport","original":{"line":79,"column":11},"generated":{"line":1,"column":980}},{"source":"../node_modules/winston-transport/legacy.js","name":"transport","original":{"line":79,"column":11},"generated":{"line":1,"column":985}},{"source":"../node_modules/winston-transport/legacy.js","name":"log","original":{"line":79,"column":21},"generated":{"line":1,"column":995}},{"source":"../node_modules/winston-transport/legacy.js","name":"chunks","original":{"line":80,"column":8},"generated":{"line":1,"column":999}},{"source":"../node_modules/winston-transport/legacy.js","name":"i","original":{"line":80,"column":15},"generated":{"line":1,"column":1001}},{"source":"../node_modules/winston-transport/legacy.js","name":"chunk","original":{"line":80,"column":18},"generated":{"line":1,"column":1004}},{"source":"../node_modules/winston-transport/legacy.js","name":"LEVEL","original":{"line":80,"column":24},"generated":{"line":1,"column":1010}},{"source":"../node_modules/winston-transport/legacy.js","name":"chunks","original":{"line":81,"column":8},"generated":{"line":1,"column":1013}},{"source":"../node_modules/winston-transport/legacy.js","name":"i","original":{"line":81,"column":15},"generated":{"line":1,"column":1015}},{"source":"../node_modules/winston-transport/legacy.js","name":"chunk","original":{"line":81,"column":18},"generated":{"line":1,"column":1018}},{"source":"../node_modules/winston-transport/legacy.js","name":"message","original":{"line":81,"column":24},"generated":{"line":1,"column":1024}},{"source":"../node_modules/winston-transport/legacy.js","name":"chunks","original":{"line":82,"column":8},"generated":{"line":1,"column":1032}},{"source":"../node_modules/winston-transport/legacy.js","name":"i","original":{"line":82,"column":15},"generated":{"line":1,"column":1034}},{"source":"../node_modules/winston-transport/legacy.js","name":"chunk","original":{"line":82,"column":18},"generated":{"line":1,"column":1037}},{"source":"../node_modules/winston-transport/legacy.js","original":{"line":83,"column":8},"generated":{"line":1,"column":1043}},{"source":"../node_modules/winston-transport/legacy.js","name":"_nop","original":{"line":83,"column":13},"generated":{"line":1,"column":1048}},{"source":"../node_modules/winston-transport/legacy.js","name":"chunks","original":{"line":85,"column":6},"generated":{"line":1,"column":1054}},{"source":"../node_modules/winston-transport/legacy.js","name":"i","original":{"line":85,"column":13},"generated":{"line":1,"column":1056}},{"source":"../node_modules/winston-transport/legacy.js","name":"callback","original":{"line":85,"column":16},"generated":{"line":1,"column":1059}},{"source":"../node_modules/winston-transport/legacy.js","name":"callback","original":{"line":89,"column":9},"generated":{"line":1,"column":1071}},{"source":"../node_modules/winston-transport/legacy.js","name":"callback","original":{"line":89,"column":9},"generated":{"line":1,"column":1078}},{"source":"../node_modules/winston-transport/legacy.js","original":{"line":89,"column":18},"generated":{"line":1,"column":1080}},{"source":"../node_modules/winston-transport/legacy.js","name":"LegacyTransportStream","original":{"line":97,"column":0},"generated":{"line":1,"column":1087}},{"source":"../node_modules/winston-transport/legacy.js","name":"prototype","original":{"line":97,"column":22},"generated":{"line":1,"column":1089}},{"source":"../node_modules/winston-transport/legacy.js","name":"_deprecated","original":{"line":97,"column":32},"generated":{"line":1,"column":1099}},{"source":"../node_modules/winston-transport/legacy.js","original":{"line":97,"column":46},"generated":{"line":1,"column":1111}},{"source":"../node_modules/winston-transport/legacy.js","name":"console","original":{"line":99,"column":2},"generated":{"line":1,"column":1122}},{"source":"../node_modules/winston-transport/legacy.js","name":"error","original":{"line":99,"column":10},"generated":{"line":1,"column":1130}},{"source":"../node_modules/winston-transport/legacy.js","original":{"line":99,"column":16},"generated":{"line":1,"column":1136}},{"source":"../node_modules/winston-transport/legacy.js","original":{"line":100,"column":7},"generated":{"line":1,"column":1137}},{"source":"../node_modules/winston-transport/legacy.js","original":{"line":100,"column":7},"generated":{"line":1,"column":1140}},{"source":"../node_modules/winston-transport/legacy.js","original":{"line":100,"column":7},"generated":{"line":1,"column":1147}},{"source":"../node_modules/winston-transport/legacy.js","name":"transport","original":{"line":100,"column":12},"generated":{"line":1,"column":1152}},{"source":"../node_modules/winston-transport/legacy.js","name":"name","original":{"line":100,"column":22},"generated":{"line":1,"column":1162}},{"source":"../node_modules/winston-transport/legacy.js","original":{"line":101,"column":4},"generated":{"line":1,"column":1167}},{"source":"../node_modules/winston-transport/legacy.js","original":{"line":101,"column":4},"generated":{"line":1,"column":1223}},{"source":"../node_modules/winston-transport/legacy.js","name":"join","original":{"line":102,"column":4},"generated":{"line":1,"column":1306}},{"source":"../node_modules/winston-transport/legacy.js","original":{"line":102,"column":9},"generated":{"line":1,"column":1311}},{"source":"../node_modules/winston-transport/legacy.js","name":"LegacyTransportStream","original":{"line":110,"column":0},"generated":{"line":1,"column":1319}},{"source":"../node_modules/winston-transport/legacy.js","name":"prototype","original":{"line":110,"column":22},"generated":{"line":1,"column":1321}},{"source":"../node_modules/winston-transport/legacy.js","name":"close","original":{"line":110,"column":32},"generated":{"line":1,"column":1331}},{"source":"../node_modules/winston-transport/legacy.js","original":{"line":110,"column":40},"generated":{"line":1,"column":1337}},{"source":"../node_modules/winston-transport/legacy.js","original":{"line":111,"column":6},"generated":{"line":1,"column":1348}},{"source":"../node_modules/winston-transport/legacy.js","name":"transport","original":{"line":111,"column":11},"generated":{"line":1,"column":1353}},{"source":"../node_modules/winston-transport/legacy.js","name":"close","original":{"line":111,"column":21},"generated":{"line":1,"column":1363}},{"source":"../node_modules/winston-transport/legacy.js","name":"transport","original":{"line":112,"column":9},"generated":{"line":1,"column":1370}},{"source":"../node_modules/winston-transport/legacy.js","name":"transport","original":{"line":112,"column":9},"generated":{"line":1,"column":1375}},{"source":"../node_modules/winston-transport/legacy.js","name":"close","original":{"line":112,"column":19},"generated":{"line":1,"column":1385}},{"source":"../node_modules/winston-transport/legacy.js","original":{"line":115,"column":6},"generated":{"line":1,"column":1393}},{"source":"../node_modules/winston-transport/legacy.js","name":"transport","original":{"line":115,"column":11},"generated":{"line":1,"column":1398}},{"source":"../node_modules/winston-transport/legacy.js","name":"__winstonError","original":{"line":115,"column":21},"generated":{"line":1,"column":1408}},{"source":"../node_modules/winston-transport/legacy.js","name":"transport","original":{"line":116,"column":9},"generated":{"line":1,"column":1425}},{"source":"../node_modules/winston-transport/legacy.js","name":"transport","original":{"line":116,"column":9},"generated":{"line":1,"column":1430}},{"source":"../node_modules/winston-transport/legacy.js","name":"removeListener","original":{"line":116,"column":19},"generated":{"line":1,"column":1440}},{"source":"../node_modules/winston-transport/legacy.js","original":{"line":116,"column":34},"generated":{"line":1,"column":1455}},{"source":"../node_modules/winston-transport/legacy.js","original":{"line":116,"column":43},"generated":{"line":1,"column":1463}},{"source":"../node_modules/winston-transport/legacy.js","name":"transport","original":{"line":116,"column":48},"generated":{"line":1,"column":1468}},{"source":"../node_modules/winston-transport/legacy.js","name":"__winstonError","original":{"line":116,"column":58},"generated":{"line":1,"column":1478}},{"source":"../node_modules/winston-transport/legacy.js","name":"transport","original":{"line":117,"column":9},"generated":{"line":1,"column":1494}},{"source":"../node_modules/winston-transport/legacy.js","name":"transport","original":{"line":117,"column":9},"generated":{"line":1,"column":1499}},{"source":"../node_modules/winston-transport/legacy.js","name":"__winstonError","original":{"line":117,"column":19},"generated":{"line":1,"column":1509}},{"source":"../node_modules/winston-transport/legacy.js","original":{"line":117,"column":36},"generated":{"line":1,"column":1524}}],"sources":{"../node_modules/winston-transport/legacy.js":"'use strict';\n\nconst util = require('util');\nconst { LEVEL } = require('triple-beam');\nconst TransportStream = require('./');\n\n/**\n * Constructor function for the LegacyTransportStream. This is an internal\n * wrapper `winston >= 3` uses to wrap older transports implementing\n * log(level, message, meta).\n * @param {Object} options - Options for this TransportStream instance.\n * @param {Transpot} options.transport - winston@2 or older Transport to wrap.\n */\n\nconst LegacyTransportStream = module.exports = function LegacyTransportStream(options = {}) {\n  TransportStream.call(this, options);\n  if (!options.transport || typeof options.transport.log !== 'function') {\n    throw new Error('Invalid transport, must be an object with a log method.');\n  }\n\n  this.transport = options.transport;\n  this.level = this.level || options.transport.level;\n  this.handleExceptions = this.handleExceptions || options.transport.handleExceptions;\n\n  // Display our deprecation notice.\n  this._deprecated();\n\n  // Properly bubble up errors from the transport to the\n  // LegacyTransportStream instance, but only once no matter how many times\n  // this transport is shared.\n  function transportError(err) {\n    this.emit('error', err, this.transport);\n  }\n\n  if (!this.transport.__winstonError) {\n    this.transport.__winstonError = transportError.bind(this);\n    this.transport.on('error', this.transport.__winstonError);\n  }\n};\n\n/*\n * Inherit from TransportStream using Node.js built-ins\n */\nutil.inherits(LegacyTransportStream, TransportStream);\n\n/**\n * Writes the info object to our transport instance.\n * @param {mixed} info - TODO: add param description.\n * @param {mixed} enc - TODO: add param description.\n * @param {function} callback - TODO: add param description.\n * @returns {undefined}\n * @private\n */\nLegacyTransportStream.prototype._write = function _write(info, enc, callback) {\n  if (this.silent || (info.exception === true && !this.handleExceptions)) {\n    return callback(null);\n  }\n\n  // Remark: This has to be handled in the base transport now because we\n  // cannot conditionally write to our pipe targets as stream.\n  if (!this.level || this.levels[this.level] >= this.levels[info[LEVEL]]) {\n    this.transport.log(info[LEVEL], info.message, info, this._nop);\n  }\n\n  callback(null);\n};\n\n/**\n * Writes the batch of info objects (i.e. \"object chunks\") to our transport\n * instance after performing any necessary filtering.\n * @param {mixed} chunks - TODO: add params description.\n * @param {function} callback - TODO: add params description.\n * @returns {mixed} - TODO: add returns description.\n * @private\n */\nLegacyTransportStream.prototype._writev = function _writev(chunks, callback) {\n  for (let i = 0; i < chunks.length; i++) {\n    if (this._accept(chunks[i])) {\n      this.transport.log(\n        chunks[i].chunk[LEVEL],\n        chunks[i].chunk.message,\n        chunks[i].chunk,\n        this._nop\n      );\n      chunks[i].callback();\n    }\n  }\n\n  return callback(null);\n};\n\n/**\n * Displays a deprecation notice. Defined as a function so it can be\n * overriden in tests.\n * @returns {undefined}\n */\nLegacyTransportStream.prototype._deprecated = function _deprecated() {\n  // eslint-disable-next-line no-console\n  console.error([\n    `${this.transport.name} is a legacy winston transport. Consider upgrading: `,\n    '- Upgrade docs: https://github.com/winstonjs/winston/blob/master/UPGRADE-3.0.md'\n  ].join('\\n'));\n};\n\n/**\n * Clean up error handling state on the legacy transport associated\n * with this instance.\n * @returns {undefined}\n */\nLegacyTransportStream.prototype.close = function close() {\n  if (this.transport.close) {\n    this.transport.close();\n  }\n\n  if (this.transport.__winstonError) {\n    this.transport.removeListener('error', this.transport.__winstonError);\n    this.transport.__winstonError = null;\n  }\n};\n"},"lineCount":null}},"error":null,"hash":"32b99d4f38d12add9943ed8033c9c545","cacheData":{"env":{}}}