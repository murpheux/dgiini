{"id":"8kCN","dependencies":[{"name":"/Users/murpheux/Workspace/projects/dgiini/microservices/package.json","includedInParent":true,"mtime":1563323962672},{"name":"/Users/murpheux/Workspace/projects/dgiini/microservices/.babelrc","includedInParent":true,"mtime":1557029603000},{"name":"/Users/murpheux/Workspace/projects/dgiini/microservices/node_modules/mongodb/package.json","includedInParent":true,"mtime":1561227911480},{"name":"./db_ops","loc":{"line":4,"column":38},"parent":"/Users/murpheux/Workspace/projects/dgiini/microservices/node_modules/mongodb/lib/operations/admin_ops.js","resolved":"/Users/murpheux/Workspace/projects/dgiini/microservices/node_modules/mongodb/lib/operations/db_ops.js"}],"generated":{"js":"\"use strict\";const r=require(\"./db_ops\").executeCommand,t=require(\"./db_ops\").executeDbAdminCommand;function e(r,e,l){t(r.s.db,{replSetGetStatus:1},e,l)}function l(r,e,l){t(r.s.db,{serverStatus:1},e,l)}function n(t,e,l,n){const o={validate:e},u=Object.keys(l);for(let r=0;r<u.length;r++)l.hasOwnProperty(u[r])&&\"session\"!==u[r]&&(o[u[r]]=l[u[r]]);r(t.s.db,o,l,(r,t)=>null!=r?n(r,null):0===t.ok?n(new Error(\"Error with validate command\"),null):null!=t.result&&t.result.constructor!==String?n(new Error(\"Error with validation data\"),null):null!=t.result&&null!=t.result.match(/exception|corrupt/)?n(new Error(\"Error: invalid collection \"+e),null):null==t.valid||t.valid?n(null,t):n(new Error(\"Error: invalid collection \"+e),null))}module.exports={replSetGetStatus:e,serverStatus:l,validateCollection:n};"},"sourceMaps":{"js":{"mappings":[{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","original":{"line":3,"column":0},"generated":{"line":1,"column":13}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"executeCommand","original":{"line":3,"column":6},"generated":{"line":1,"column":19}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"require","original":{"line":3,"column":23},"generated":{"line":1,"column":21}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","original":{"line":3,"column":31},"generated":{"line":1,"column":29}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"executeCommand","original":{"line":3,"column":43},"generated":{"line":1,"column":41}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"executeDbAdminCommand","original":{"line":4,"column":6},"generated":{"line":1,"column":56}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"require","original":{"line":4,"column":30},"generated":{"line":1,"column":58}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","original":{"line":4,"column":38},"generated":{"line":1,"column":66}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"executeDbAdminCommand","original":{"line":4,"column":50},"generated":{"line":1,"column":78}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","original":{"line":13,"column":0},"generated":{"line":1,"column":100}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"replSetGetStatus","original":{"line":13,"column":9},"generated":{"line":1,"column":109}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"admin","original":{"line":13,"column":26},"generated":{"line":1,"column":111}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"options","original":{"line":13,"column":33},"generated":{"line":1,"column":113}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"callback","original":{"line":13,"column":42},"generated":{"line":1,"column":115}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"executeDbAdminCommand","original":{"line":14,"column":2},"generated":{"line":1,"column":118}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"admin","original":{"line":14,"column":24},"generated":{"line":1,"column":120}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"s","original":{"line":14,"column":30},"generated":{"line":1,"column":122}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"db","original":{"line":14,"column":32},"generated":{"line":1,"column":124}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","original":{"line":14,"column":36},"generated":{"line":1,"column":127}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"replSetGetStatus","original":{"line":14,"column":38},"generated":{"line":1,"column":128}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","original":{"line":14,"column":56},"generated":{"line":1,"column":145}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"options","original":{"line":14,"column":61},"generated":{"line":1,"column":148}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"callback","original":{"line":14,"column":70},"generated":{"line":1,"column":150}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","original":{"line":24,"column":0},"generated":{"line":1,"column":153}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"serverStatus","original":{"line":24,"column":9},"generated":{"line":1,"column":162}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"admin","original":{"line":24,"column":22},"generated":{"line":1,"column":164}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"options","original":{"line":24,"column":29},"generated":{"line":1,"column":166}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"callback","original":{"line":24,"column":38},"generated":{"line":1,"column":168}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"executeDbAdminCommand","original":{"line":25,"column":2},"generated":{"line":1,"column":171}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"admin","original":{"line":25,"column":24},"generated":{"line":1,"column":173}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"s","original":{"line":25,"column":30},"generated":{"line":1,"column":175}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"db","original":{"line":25,"column":32},"generated":{"line":1,"column":177}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","original":{"line":25,"column":36},"generated":{"line":1,"column":180}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"serverStatus","original":{"line":25,"column":38},"generated":{"line":1,"column":181}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","original":{"line":25,"column":52},"generated":{"line":1,"column":194}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"options","original":{"line":25,"column":57},"generated":{"line":1,"column":197}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"callback","original":{"line":25,"column":66},"generated":{"line":1,"column":199}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","original":{"line":36,"column":0},"generated":{"line":1,"column":202}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"validateCollection","original":{"line":36,"column":9},"generated":{"line":1,"column":211}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"admin","original":{"line":36,"column":28},"generated":{"line":1,"column":213}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"collectionName","original":{"line":36,"column":35},"generated":{"line":1,"column":215}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"options","original":{"line":36,"column":51},"generated":{"line":1,"column":217}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"callback","original":{"line":36,"column":60},"generated":{"line":1,"column":219}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"command","original":{"line":37,"column":8},"generated":{"line":1,"column":222}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"command","original":{"line":37,"column":8},"generated":{"line":1,"column":228}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","original":{"line":37,"column":18},"generated":{"line":1,"column":230}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"validate","original":{"line":37,"column":20},"generated":{"line":1,"column":231}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"collectionName","original":{"line":37,"column":30},"generated":{"line":1,"column":240}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"keys","original":{"line":38,"column":8},"generated":{"line":1,"column":243}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"Object","original":{"line":38,"column":15},"generated":{"line":1,"column":245}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"keys","original":{"line":38,"column":22},"generated":{"line":1,"column":252}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"options","original":{"line":38,"column":27},"generated":{"line":1,"column":257}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","original":{"line":41,"column":7},"generated":{"line":1,"column":260}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","original":{"line":41,"column":7},"generated":{"line":1,"column":264}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"i","original":{"line":41,"column":11},"generated":{"line":1,"column":268}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","original":{"line":41,"column":15},"generated":{"line":1,"column":270}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"i","original":{"line":41,"column":18},"generated":{"line":1,"column":272}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"keys","original":{"line":41,"column":22},"generated":{"line":1,"column":274}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"length","original":{"line":41,"column":27},"generated":{"line":1,"column":276}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"i","original":{"line":41,"column":35},"generated":{"line":1,"column":283}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"options","original":{"line":42,"column":8},"generated":{"line":1,"column":287}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"hasOwnProperty","original":{"line":42,"column":16},"generated":{"line":1,"column":289}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"keys","original":{"line":42,"column":31},"generated":{"line":1,"column":304}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"i","original":{"line":42,"column":36},"generated":{"line":1,"column":306}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","original":{"line":42,"column":55},"generated":{"line":1,"column":311}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"keys","original":{"line":42,"column":43},"generated":{"line":1,"column":323}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"i","original":{"line":42,"column":48},"generated":{"line":1,"column":325}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"command","original":{"line":43,"column":6},"generated":{"line":1,"column":330}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"keys","original":{"line":43,"column":14},"generated":{"line":1,"column":332}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"i","original":{"line":43,"column":19},"generated":{"line":1,"column":334}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"options","original":{"line":43,"column":25},"generated":{"line":1,"column":338}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"keys","original":{"line":43,"column":33},"generated":{"line":1,"column":340}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"i","original":{"line":43,"column":38},"generated":{"line":1,"column":342}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"executeCommand","original":{"line":47,"column":2},"generated":{"line":1,"column":347}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"admin","original":{"line":47,"column":17},"generated":{"line":1,"column":349}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"s","original":{"line":47,"column":23},"generated":{"line":1,"column":351}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"db","original":{"line":47,"column":25},"generated":{"line":1,"column":353}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"command","original":{"line":47,"column":29},"generated":{"line":1,"column":356}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"options","original":{"line":47,"column":38},"generated":{"line":1,"column":358}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","original":{"line":47,"column":47},"generated":{"line":1,"column":360}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"err","original":{"line":47,"column":48},"generated":{"line":1,"column":361}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"doc","original":{"line":47,"column":53},"generated":{"line":1,"column":363}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","original":{"line":48,"column":15},"generated":{"line":1,"column":367}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"err","original":{"line":48,"column":8},"generated":{"line":1,"column":373}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"callback","original":{"line":48,"column":28},"generated":{"line":1,"column":375}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"err","original":{"line":48,"column":37},"generated":{"line":1,"column":377}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","original":{"line":48,"column":42},"generated":{"line":1,"column":379}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","original":{"line":50,"column":19},"generated":{"line":1,"column":385}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"doc","original":{"line":50,"column":8},"generated":{"line":1,"column":389}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"ok","original":{"line":50,"column":12},"generated":{"line":1,"column":391}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"callback","original":{"line":50,"column":29},"generated":{"line":1,"column":394}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","original":{"line":50,"column":38},"generated":{"line":1,"column":396}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"Error","original":{"line":50,"column":42},"generated":{"line":1,"column":400}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","original":{"line":50,"column":48},"generated":{"line":1,"column":406}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","original":{"line":50,"column":80},"generated":{"line":1,"column":437}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","original":{"line":51,"column":22},"generated":{"line":1,"column":443}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"doc","original":{"line":51,"column":8},"generated":{"line":1,"column":449}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"result","original":{"line":51,"column":12},"generated":{"line":1,"column":451}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"doc","original":{"line":51,"column":30},"generated":{"line":1,"column":459}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"result","original":{"line":51,"column":34},"generated":{"line":1,"column":461}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"constructor","original":{"line":51,"column":41},"generated":{"line":1,"column":468}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"String","original":{"line":51,"column":57},"generated":{"line":1,"column":482}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"callback","original":{"line":52,"column":13},"generated":{"line":1,"column":489}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","original":{"line":52,"column":22},"generated":{"line":1,"column":491}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"Error","original":{"line":52,"column":26},"generated":{"line":1,"column":495}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","original":{"line":52,"column":32},"generated":{"line":1,"column":501}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","original":{"line":52,"column":63},"generated":{"line":1,"column":531}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","original":{"line":53,"column":22},"generated":{"line":1,"column":537}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"doc","original":{"line":53,"column":8},"generated":{"line":1,"column":543}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"result","original":{"line":53,"column":12},"generated":{"line":1,"column":545}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","original":{"line":53,"column":71},"generated":{"line":1,"column":553}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"doc","original":{"line":53,"column":30},"generated":{"line":1,"column":559}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"result","original":{"line":53,"column":34},"generated":{"line":1,"column":561}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"match","original":{"line":53,"column":41},"generated":{"line":1,"column":568}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","original":{"line":53,"column":47},"generated":{"line":1,"column":574}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"callback","original":{"line":54,"column":13},"generated":{"line":1,"column":595}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","original":{"line":54,"column":22},"generated":{"line":1,"column":597}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"Error","original":{"line":54,"column":26},"generated":{"line":1,"column":601}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","original":{"line":54,"column":32},"generated":{"line":1,"column":607}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"collectionName","original":{"line":54,"column":63},"generated":{"line":1,"column":636}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","original":{"line":54,"column":80},"generated":{"line":1,"column":639}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","original":{"line":55,"column":21},"generated":{"line":1,"column":645}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"doc","original":{"line":55,"column":8},"generated":{"line":1,"column":651}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"valid","original":{"line":55,"column":12},"generated":{"line":1,"column":653}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"doc","original":{"line":55,"column":30},"generated":{"line":1,"column":660}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"valid","original":{"line":55,"column":34},"generated":{"line":1,"column":662}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"callback","original":{"line":58,"column":11},"generated":{"line":1,"column":668}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","original":{"line":58,"column":20},"generated":{"line":1,"column":670}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"doc","original":{"line":58,"column":26},"generated":{"line":1,"column":675}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"callback","original":{"line":56,"column":13},"generated":{"line":1,"column":678}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","original":{"line":56,"column":22},"generated":{"line":1,"column":680}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"Error","original":{"line":56,"column":26},"generated":{"line":1,"column":684}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","original":{"line":56,"column":32},"generated":{"line":1,"column":690}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"collectionName","original":{"line":56,"column":63},"generated":{"line":1,"column":719}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","original":{"line":56,"column":80},"generated":{"line":1,"column":722}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"module","original":{"line":62,"column":0},"generated":{"line":1,"column":729}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"exports","original":{"line":62,"column":7},"generated":{"line":1,"column":736}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","original":{"line":62,"column":17},"generated":{"line":1,"column":744}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"replSetGetStatus","original":{"line":62,"column":19},"generated":{"line":1,"column":745}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"replSetGetStatus","original":{"line":62,"column":19},"generated":{"line":1,"column":762}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"serverStatus","original":{"line":62,"column":37},"generated":{"line":1,"column":764}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"serverStatus","original":{"line":62,"column":37},"generated":{"line":1,"column":777}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"validateCollection","original":{"line":62,"column":51},"generated":{"line":1,"column":779}},{"source":"../node_modules/mongodb/lib/operations/admin_ops.js","name":"validateCollection","original":{"line":62,"column":51},"generated":{"line":1,"column":798}}],"sources":{"../node_modules/mongodb/lib/operations/admin_ops.js":"'use strict';\n\nconst executeCommand = require('./db_ops').executeCommand;\nconst executeDbAdminCommand = require('./db_ops').executeDbAdminCommand;\n\n/**\n * Get ReplicaSet status\n *\n * @param {Admin} a collection instance.\n * @param {Object} [options] Optional settings. See Admin.prototype.replSetGetStatus for a list of options.\n * @param {Admin~resultCallback} [callback] The command result callback.\n */\nfunction replSetGetStatus(admin, options, callback) {\n  executeDbAdminCommand(admin.s.db, { replSetGetStatus: 1 }, options, callback);\n}\n\n/**\n * Retrieve this db's server status.\n *\n * @param {Admin} a collection instance.\n * @param {Object} [options] Optional settings. See Admin.prototype.serverStatus for a list of options.\n * @param {Admin~resultCallback} [callback] The command result callback\n */\nfunction serverStatus(admin, options, callback) {\n  executeDbAdminCommand(admin.s.db, { serverStatus: 1 }, options, callback);\n}\n\n/**\n * Validate an existing collection\n *\n * @param {Admin} a collection instance.\n * @param {string} collectionName The name of the collection to validate.\n * @param {Object} [options] Optional settings. See Admin.prototype.validateCollection for a list of options.\n * @param {Admin~resultCallback} [callback] The command result callback.\n */\nfunction validateCollection(admin, collectionName, options, callback) {\n  const command = { validate: collectionName };\n  const keys = Object.keys(options);\n\n  // Decorate command with extra options\n  for (let i = 0; i < keys.length; i++) {\n    if (options.hasOwnProperty(keys[i]) && keys[i] !== 'session') {\n      command[keys[i]] = options[keys[i]];\n    }\n  }\n\n  executeCommand(admin.s.db, command, options, (err, doc) => {\n    if (err != null) return callback(err, null);\n\n    if (doc.ok === 0) return callback(new Error('Error with validate command'), null);\n    if (doc.result != null && doc.result.constructor !== String)\n      return callback(new Error('Error with validation data'), null);\n    if (doc.result != null && doc.result.match(/exception|corrupt/) != null)\n      return callback(new Error('Error: invalid collection ' + collectionName), null);\n    if (doc.valid != null && !doc.valid)\n      return callback(new Error('Error: invalid collection ' + collectionName), null);\n\n    return callback(null, doc);\n  });\n}\n\nmodule.exports = { replSetGetStatus, serverStatus, validateCollection };\n"},"lineCount":null}},"error":null,"hash":"debe2158ed6fbd572c47cc4306113128","cacheData":{"env":{}}}