{"id":"PERo","dependencies":[{"name":"/Users/murpheux/Workspace/projects/dgiini/microservices/package.json","includedInParent":true,"mtime":1563323962672},{"name":"/Users/murpheux/Workspace/projects/dgiini/microservices/.babelrc","includedInParent":true,"mtime":1557029603000},{"name":"/Users/murpheux/Workspace/projects/dgiini/microservices/node_modules/mongodb-core/package.json","includedInParent":true,"mtime":1561227911279},{"name":"./server_description","loc":{"line":3,"column":34},"parent":"/Users/murpheux/Workspace/projects/dgiini/microservices/node_modules/mongodb-core/lib/sdam/monitoring.js","resolved":"/Users/murpheux/Workspace/projects/dgiini/microservices/node_modules/mongodb-core/lib/sdam/server_description.js"},{"name":"../utils","loc":{"line":4,"column":38},"parent":"/Users/murpheux/Workspace/projects/dgiini/microservices/node_modules/mongodb-core/lib/sdam/monitoring.js","resolved":"/Users/murpheux/Workspace/projects/dgiini/microservices/node_modules/mongodb-core/lib/utils.js"},{"name":"process","parent":"/Users/murpheux/Workspace/projects/dgiini/microservices/node_modules/mongodb-core/lib/sdam/monitoring.js","resolved":"/Users/murpheux/.config/yarn/global/node_modules/process/browser.js"}],"generated":{"js":"var process = require(\"process\");\nvar e=require(\"process\");const t=require(\"./server_description\").ServerDescription,o=require(\"../utils\").calculateDurationInMs;class r{constructor(e,t,o,r){Object.assign(this,{topologyId:e,address:t,previousDescription:o,newDescription:r})}}class s{constructor(e,t){Object.assign(this,{topologyId:e,address:t})}}class n{constructor(e,t){Object.assign(this,{topologyId:e,address:t})}}class i{constructor(e,t,o){Object.assign(this,{topologyId:e,previousDescription:t,newDescription:o})}}class c{constructor(e){Object.assign(this,{topologyId:e})}}class a{constructor(e){Object.assign(this,{topologyId:e})}}class d{constructor(e){Object.assign(this,{connectionId:e})}}class l{constructor(e,t,o){Object.assign(this,{duration:e,reply:t,connectionId:o})}}class u{constructor(e,t,o){Object.assign(this,{duration:e,failure:t,connectionId:o})}}function p(r,s){const n=(s=s||{}).heartbeatFrequencyMS||1e4;if(!0===s.initial)return void(r.s.monitorId=setTimeout(()=>p(r),n));const i=t=>{let s=e.hrtime();r.emit(\"serverHeartbeatStarted\",new d(r.name)),e.nextTick(()=>r.emit(\"monitoring\",r)),r.command(\"admin.$cmd\",{ismaster:!0},{monitoring:!0,socketTimeout:r.s.options.connectionTimeout||2e3},(e,n)=>{let i=o(s);if(e)return r.emit(\"serverHeartbeatFailed\",new u(i,e,r.name)),t(e,null);const c=n.result;return r.emit(\"serverHeartbeatSucceded\",new l(i,c,r.name)),t(null,c)})},c=e=>{r.s.monitoring=!1,r.emit(\"descriptionReceived\",new t(r.description.address,e)),r.s.monitorId=setTimeout(()=>p(r),n)};r.s.monitoring=!0,i((e,o)=>{e?r.s.pool.reset(()=>{i((e,o)=>{if(e)return r.s.monitoring=!1,void r.emit(\"descriptionReceived\",new t(r.description.address,null,{error:e}));c(o)})}):c(o)})}module.exports={ServerDescriptionChangedEvent:r,ServerOpeningEvent:s,ServerClosedEvent:n,TopologyDescriptionChangedEvent:i,TopologyOpeningEvent:c,TopologyClosedEvent:a,ServerHeartbeatStartedEvent:d,ServerHeartbeatSucceededEvent:l,ServerHeartbeatFailedEvent:u,monitorServer:p};"},"sourceMaps":{"js":{"mappings":[{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":229,"column":0},"generated":{"line":2,"column":0}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":229,"column":0},"generated":{"line":2,"column":4}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":229,"column":0},"generated":{"line":2,"column":6}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":229,"column":0},"generated":{"line":2,"column":14}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":3,"column":0},"generated":{"line":2,"column":25}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":3,"column":0},"generated":{"line":2,"column":31}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":3,"column":0},"generated":{"line":2,"column":33}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":3,"column":0},"generated":{"line":2,"column":41}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":3,"column":0},"generated":{"line":2,"column":65}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":4,"column":0},"generated":{"line":2,"column":83}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":4,"column":0},"generated":{"line":2,"column":85}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":4,"column":0},"generated":{"line":2,"column":93}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":4,"column":0},"generated":{"line":2,"column":105}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":14,"column":0},"generated":{"line":2,"column":127}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":14,"column":0},"generated":{"line":2,"column":133}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":15,"column":0},"generated":{"line":2,"column":135}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":15,"column":0},"generated":{"line":2,"column":147}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":15,"column":0},"generated":{"line":2,"column":149}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":15,"column":0},"generated":{"line":2,"column":151}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":15,"column":0},"generated":{"line":2,"column":153}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":16,"column":0},"generated":{"line":2,"column":156}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":16,"column":0},"generated":{"line":2,"column":163}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":16,"column":0},"generated":{"line":2,"column":170}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":16,"column":0},"generated":{"line":2,"column":175}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":16,"column":0},"generated":{"line":2,"column":176}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":16,"column":0},"generated":{"line":2,"column":187}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":16,"column":0},"generated":{"line":2,"column":189}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":16,"column":0},"generated":{"line":2,"column":197}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":16,"column":0},"generated":{"line":2,"column":199}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":16,"column":0},"generated":{"line":2,"column":219}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":16,"column":0},"generated":{"line":2,"column":221}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":16,"column":0},"generated":{"line":2,"column":236}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":26,"column":0},"generated":{"line":2,"column":241}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":26,"column":0},"generated":{"line":2,"column":247}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":27,"column":0},"generated":{"line":2,"column":249}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":27,"column":0},"generated":{"line":2,"column":261}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":27,"column":0},"generated":{"line":2,"column":263}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":28,"column":0},"generated":{"line":2,"column":266}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":28,"column":0},"generated":{"line":2,"column":273}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":28,"column":0},"generated":{"line":2,"column":280}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":28,"column":0},"generated":{"line":2,"column":285}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":28,"column":0},"generated":{"line":2,"column":286}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":28,"column":0},"generated":{"line":2,"column":297}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":28,"column":0},"generated":{"line":2,"column":299}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":28,"column":0},"generated":{"line":2,"column":307}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":38,"column":0},"generated":{"line":2,"column":312}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":38,"column":0},"generated":{"line":2,"column":318}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":39,"column":0},"generated":{"line":2,"column":320}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":39,"column":0},"generated":{"line":2,"column":332}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":39,"column":0},"generated":{"line":2,"column":334}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":40,"column":0},"generated":{"line":2,"column":337}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":40,"column":0},"generated":{"line":2,"column":344}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":40,"column":0},"generated":{"line":2,"column":351}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":40,"column":0},"generated":{"line":2,"column":356}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":40,"column":0},"generated":{"line":2,"column":357}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":40,"column":0},"generated":{"line":2,"column":368}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":40,"column":0},"generated":{"line":2,"column":370}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":40,"column":0},"generated":{"line":2,"column":378}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":51,"column":0},"generated":{"line":2,"column":383}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":51,"column":0},"generated":{"line":2,"column":389}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":52,"column":0},"generated":{"line":2,"column":391}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":52,"column":0},"generated":{"line":2,"column":403}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":52,"column":0},"generated":{"line":2,"column":405}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":52,"column":0},"generated":{"line":2,"column":407}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":53,"column":0},"generated":{"line":2,"column":410}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":53,"column":0},"generated":{"line":2,"column":417}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":53,"column":0},"generated":{"line":2,"column":424}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":53,"column":0},"generated":{"line":2,"column":429}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":53,"column":0},"generated":{"line":2,"column":430}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":53,"column":0},"generated":{"line":2,"column":441}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":53,"column":0},"generated":{"line":2,"column":443}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":53,"column":0},"generated":{"line":2,"column":463}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":53,"column":0},"generated":{"line":2,"column":465}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":53,"column":0},"generated":{"line":2,"column":480}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":62,"column":0},"generated":{"line":2,"column":485}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":62,"column":0},"generated":{"line":2,"column":491}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":63,"column":0},"generated":{"line":2,"column":493}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":63,"column":0},"generated":{"line":2,"column":505}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":64,"column":0},"generated":{"line":2,"column":508}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":64,"column":0},"generated":{"line":2,"column":515}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":64,"column":0},"generated":{"line":2,"column":522}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":64,"column":0},"generated":{"line":2,"column":527}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":64,"column":0},"generated":{"line":2,"column":528}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":64,"column":0},"generated":{"line":2,"column":539}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":73,"column":0},"generated":{"line":2,"column":544}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":73,"column":0},"generated":{"line":2,"column":550}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":74,"column":0},"generated":{"line":2,"column":552}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":74,"column":0},"generated":{"line":2,"column":564}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":75,"column":0},"generated":{"line":2,"column":567}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":75,"column":0},"generated":{"line":2,"column":574}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":75,"column":0},"generated":{"line":2,"column":581}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":75,"column":0},"generated":{"line":2,"column":586}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":75,"column":0},"generated":{"line":2,"column":587}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":75,"column":0},"generated":{"line":2,"column":598}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":85,"column":0},"generated":{"line":2,"column":603}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":85,"column":0},"generated":{"line":2,"column":609}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":86,"column":0},"generated":{"line":2,"column":611}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":86,"column":0},"generated":{"line":2,"column":623}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":87,"column":0},"generated":{"line":2,"column":626}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":87,"column":0},"generated":{"line":2,"column":633}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":87,"column":0},"generated":{"line":2,"column":640}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":87,"column":0},"generated":{"line":2,"column":645}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":87,"column":0},"generated":{"line":2,"column":646}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":87,"column":0},"generated":{"line":2,"column":659}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":98,"column":0},"generated":{"line":2,"column":664}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":98,"column":0},"generated":{"line":2,"column":670}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":99,"column":0},"generated":{"line":2,"column":672}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":99,"column":0},"generated":{"line":2,"column":684}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":99,"column":0},"generated":{"line":2,"column":686}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":99,"column":0},"generated":{"line":2,"column":688}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":100,"column":0},"generated":{"line":2,"column":691}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":100,"column":0},"generated":{"line":2,"column":698}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":100,"column":0},"generated":{"line":2,"column":705}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":100,"column":0},"generated":{"line":2,"column":710}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":100,"column":0},"generated":{"line":2,"column":711}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":100,"column":0},"generated":{"line":2,"column":720}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":100,"column":0},"generated":{"line":2,"column":722}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":100,"column":0},"generated":{"line":2,"column":728}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":100,"column":0},"generated":{"line":2,"column":730}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":100,"column":0},"generated":{"line":2,"column":743}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":111,"column":0},"generated":{"line":2,"column":748}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":111,"column":0},"generated":{"line":2,"column":754}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":112,"column":0},"generated":{"line":2,"column":756}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":112,"column":0},"generated":{"line":2,"column":768}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":112,"column":0},"generated":{"line":2,"column":770}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":112,"column":0},"generated":{"line":2,"column":772}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":113,"column":0},"generated":{"line":2,"column":775}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":113,"column":0},"generated":{"line":2,"column":782}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":113,"column":0},"generated":{"line":2,"column":789}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":113,"column":0},"generated":{"line":2,"column":794}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":113,"column":0},"generated":{"line":2,"column":795}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":113,"column":0},"generated":{"line":2,"column":804}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":113,"column":0},"generated":{"line":2,"column":806}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":113,"column":0},"generated":{"line":2,"column":814}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":113,"column":0},"generated":{"line":2,"column":816}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":113,"column":0},"generated":{"line":2,"column":829}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":125,"column":0},"generated":{"line":2,"column":834}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":125,"column":0},"generated":{"line":2,"column":843}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":125,"column":0},"generated":{"line":2,"column":845}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":125,"column":0},"generated":{"line":2,"column":847}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":127,"column":0},"generated":{"line":2,"column":850}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":127,"column":0},"generated":{"line":2,"column":856}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":126,"column":0},"generated":{"line":2,"column":859}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":126,"column":0},"generated":{"line":2,"column":861}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":126,"column":0},"generated":{"line":2,"column":864}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":127,"column":0},"generated":{"line":2,"column":868}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":127,"column":0},"generated":{"line":2,"column":890}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":129,"column":0},"generated":{"line":2,"column":894}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":129,"column":0},"generated":{"line":2,"column":898}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":129,"column":0},"generated":{"line":2,"column":902}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":129,"column":0},"generated":{"line":2,"column":904}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":131,"column":0},"generated":{"line":2,"column":912}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":130,"column":0},"generated":{"line":2,"column":924}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":130,"column":0},"generated":{"line":2,"column":926}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":130,"column":0},"generated":{"line":2,"column":928}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":130,"column":0},"generated":{"line":2,"column":938}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":130,"column":0},"generated":{"line":2,"column":949}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":130,"column":0},"generated":{"line":2,"column":953}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":130,"column":0},"generated":{"line":2,"column":955}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":130,"column":0},"generated":{"line":2,"column":958}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":135,"column":0},"generated":{"line":2,"column":962}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":135,"column":0},"generated":{"line":2,"column":968}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":135,"column":0},"generated":{"line":2,"column":970}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":136,"column":0},"generated":{"line":2,"column":974}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":136,"column":0},"generated":{"line":2,"column":978}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":136,"column":0},"generated":{"line":2,"column":980}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":136,"column":0},"generated":{"line":2,"column":982}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":139,"column":0},"generated":{"line":2,"column":991}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":139,"column":0},"generated":{"line":2,"column":993}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":139,"column":0},"generated":{"line":2,"column":998}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":139,"column":0},"generated":{"line":2,"column":1023}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":139,"column":0},"generated":{"line":2,"column":1027}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":139,"column":0},"generated":{"line":2,"column":1029}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":139,"column":0},"generated":{"line":2,"column":1031}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":142,"column":0},"generated":{"line":2,"column":1038}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":142,"column":0},"generated":{"line":2,"column":1040}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":142,"column":0},"generated":{"line":2,"column":1049}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":142,"column":0},"generated":{"line":2,"column":1053}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":142,"column":0},"generated":{"line":2,"column":1055}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":142,"column":0},"generated":{"line":2,"column":1060}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":142,"column":0},"generated":{"line":2,"column":1073}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":144,"column":0},"generated":{"line":2,"column":1077}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":144,"column":0},"generated":{"line":2,"column":1079}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":145,"column":0},"generated":{"line":2,"column":1087}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":146,"column":0},"generated":{"line":2,"column":1100}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":146,"column":0},"generated":{"line":2,"column":1101}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":146,"column":0},"generated":{"line":2,"column":1111}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":147,"column":0},"generated":{"line":2,"column":1114}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":148,"column":0},"generated":{"line":2,"column":1115}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":148,"column":0},"generated":{"line":2,"column":1127}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":149,"column":0},"generated":{"line":2,"column":1129}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":149,"column":0},"generated":{"line":2,"column":1143}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":149,"column":0},"generated":{"line":2,"column":1145}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":149,"column":0},"generated":{"line":2,"column":1147}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":149,"column":0},"generated":{"line":2,"column":1155}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":149,"column":0},"generated":{"line":2,"column":1174}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":151,"column":0},"generated":{"line":2,"column":1179}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":151,"column":0},"generated":{"line":2,"column":1180}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":151,"column":0},"generated":{"line":2,"column":1182}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":152,"column":0},"generated":{"line":2,"column":1187}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":152,"column":0},"generated":{"line":2,"column":1191}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":152,"column":0},"generated":{"line":2,"column":1193}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":152,"column":0},"generated":{"line":2,"column":1195}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":154,"column":0},"generated":{"line":2,"column":1198}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":154,"column":0},"generated":{"line":2,"column":1201}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":160,"column":0},"generated":{"line":2,"column":1203}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":155,"column":0},"generated":{"line":2,"column":1210}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":155,"column":0},"generated":{"line":2,"column":1212}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":156,"column":0},"generated":{"line":2,"column":1217}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":157,"column":0},"generated":{"line":2,"column":1241}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":157,"column":0},"generated":{"line":2,"column":1245}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":157,"column":0},"generated":{"line":2,"column":1247}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":157,"column":0},"generated":{"line":2,"column":1249}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":157,"column":0},"generated":{"line":2,"column":1251}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":157,"column":0},"generated":{"line":2,"column":1253}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":160,"column":0},"generated":{"line":2,"column":1260}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":160,"column":0},"generated":{"line":2,"column":1262}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":160,"column":0},"generated":{"line":2,"column":1264}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":163,"column":0},"generated":{"line":2,"column":1270}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":163,"column":0},"generated":{"line":2,"column":1276}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":163,"column":0},"generated":{"line":2,"column":1278}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":163,"column":0},"generated":{"line":2,"column":1280}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":169,"column":0},"generated":{"line":2,"column":1287}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":164,"column":0},"generated":{"line":2,"column":1294}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":164,"column":0},"generated":{"line":2,"column":1296}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":165,"column":0},"generated":{"line":2,"column":1301}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":166,"column":0},"generated":{"line":2,"column":1327}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":166,"column":0},"generated":{"line":2,"column":1331}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":166,"column":0},"generated":{"line":2,"column":1333}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":166,"column":0},"generated":{"line":2,"column":1335}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":166,"column":0},"generated":{"line":2,"column":1337}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":166,"column":0},"generated":{"line":2,"column":1339}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":169,"column":0},"generated":{"line":2,"column":1346}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":169,"column":0},"generated":{"line":2,"column":1348}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":169,"column":0},"generated":{"line":2,"column":1353}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":174,"column":0},"generated":{"line":2,"column":1359}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":174,"column":0},"generated":{"line":2,"column":1361}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":175,"column":0},"generated":{"line":2,"column":1365}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":175,"column":0},"generated":{"line":2,"column":1367}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":175,"column":0},"generated":{"line":2,"column":1369}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":175,"column":0},"generated":{"line":2,"column":1381}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":178,"column":0},"generated":{"line":2,"column":1383}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":178,"column":0},"generated":{"line":2,"column":1385}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":178,"column":0},"generated":{"line":2,"column":1390}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":178,"column":0},"generated":{"line":2,"column":1412}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":178,"column":0},"generated":{"line":2,"column":1416}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":178,"column":0},"generated":{"line":2,"column":1418}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":178,"column":0},"generated":{"line":2,"column":1420}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":178,"column":0},"generated":{"line":2,"column":1432}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":178,"column":0},"generated":{"line":2,"column":1440}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":181,"column":0},"generated":{"line":2,"column":1444}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":181,"column":0},"generated":{"line":2,"column":1446}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":181,"column":0},"generated":{"line":2,"column":1448}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":181,"column":0},"generated":{"line":2,"column":1458}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":181,"column":0},"generated":{"line":2,"column":1469}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":181,"column":0},"generated":{"line":2,"column":1473}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":181,"column":0},"generated":{"line":2,"column":1475}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":181,"column":0},"generated":{"line":2,"column":1478}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":185,"column":0},"generated":{"line":2,"column":1482}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":185,"column":0},"generated":{"line":2,"column":1484}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":185,"column":0},"generated":{"line":2,"column":1486}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":185,"column":0},"generated":{"line":2,"column":1498}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":186,"column":0},"generated":{"line":2,"column":1500}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":186,"column":0},"generated":{"line":2,"column":1502}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":186,"column":0},"generated":{"line":2,"column":1503}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":186,"column":0},"generated":{"line":2,"column":1505}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":187,"column":0},"generated":{"line":2,"column":1510}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":195,"column":0},"generated":{"line":2,"column":1512}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":195,"column":0},"generated":{"line":2,"column":1514}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":195,"column":0},"generated":{"line":2,"column":1516}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":195,"column":0},"generated":{"line":2,"column":1521}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":195,"column":0},"generated":{"line":2,"column":1527}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":197,"column":0},"generated":{"line":2,"column":1532}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":197,"column":0},"generated":{"line":2,"column":1534}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":197,"column":0},"generated":{"line":2,"column":1535}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":197,"column":0},"generated":{"line":2,"column":1537}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":198,"column":0},"generated":{"line":2,"column":1542}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":198,"column":0},"generated":{"line":2,"column":1545}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":208,"column":0},"generated":{"line":2,"column":1547}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":199,"column":0},"generated":{"line":2,"column":1554}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":199,"column":0},"generated":{"line":2,"column":1556}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":199,"column":0},"generated":{"line":2,"column":1558}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":199,"column":0},"generated":{"line":2,"column":1570}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":202,"column":0},"generated":{"line":2,"column":1577}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":202,"column":0},"generated":{"line":2,"column":1579}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":203,"column":0},"generated":{"line":2,"column":1584}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":204,"column":0},"generated":{"line":2,"column":1606}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":204,"column":0},"generated":{"line":2,"column":1610}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":204,"column":0},"generated":{"line":2,"column":1612}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":204,"column":0},"generated":{"line":2,"column":1614}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":204,"column":0},"generated":{"line":2,"column":1626}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":204,"column":0},"generated":{"line":2,"column":1634}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":204,"column":0},"generated":{"line":2,"column":1639}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":204,"column":0},"generated":{"line":2,"column":1640}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":204,"column":0},"generated":{"line":2,"column":1646}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":211,"column":0},"generated":{"line":2,"column":1651}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":211,"column":0},"generated":{"line":2,"column":1653}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":188,"column":0},"generated":{"line":2,"column":1660}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":188,"column":0},"generated":{"line":2,"column":1662}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":217,"column":0},"generated":{"line":2,"column":1667}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":217,"column":0},"generated":{"line":2,"column":1674}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":217,"column":0},"generated":{"line":2,"column":1682}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":218,"column":0},"generated":{"line":2,"column":1683}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":218,"column":0},"generated":{"line":2,"column":1713}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":219,"column":0},"generated":{"line":2,"column":1715}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":219,"column":0},"generated":{"line":2,"column":1734}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":220,"column":0},"generated":{"line":2,"column":1736}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":220,"column":0},"generated":{"line":2,"column":1754}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":221,"column":0},"generated":{"line":2,"column":1756}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":221,"column":0},"generated":{"line":2,"column":1788}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":222,"column":0},"generated":{"line":2,"column":1790}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":222,"column":0},"generated":{"line":2,"column":1811}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":223,"column":0},"generated":{"line":2,"column":1813}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":223,"column":0},"generated":{"line":2,"column":1833}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":224,"column":0},"generated":{"line":2,"column":1835}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":224,"column":0},"generated":{"line":2,"column":1863}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":225,"column":0},"generated":{"line":2,"column":1865}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":225,"column":0},"generated":{"line":2,"column":1895}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":226,"column":0},"generated":{"line":2,"column":1897}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":226,"column":0},"generated":{"line":2,"column":1924}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":227,"column":0},"generated":{"line":2,"column":1926}},{"source":"../node_modules/mongodb-core/lib/sdam/monitoring.js","original":{"line":227,"column":0},"generated":{"line":2,"column":1940}}],"sources":{"../node_modules/mongodb-core/lib/sdam/monitoring.js":"'use strict';\n\nconst ServerDescription = require('./server_description').ServerDescription;\nconst calculateDurationInMs = require('../utils').calculateDurationInMs;\n\n/**\n * Published when server description changes, but does NOT include changes to the RTT.\n *\n * @property {Object} topologyId A unique identifier for the topology\n * @property {ServerAddress} address The address (host/port pair) of the server\n * @property {ServerDescription} previousDescription The previous server description\n * @property {ServerDescription} newDescription The new server description\n */\nclass ServerDescriptionChangedEvent {\n  constructor(topologyId, address, previousDescription, newDescription) {\n    Object.assign(this, { topologyId, address, previousDescription, newDescription });\n  }\n}\n\n/**\n * Published when server is initialized.\n *\n * @property {Object} topologyId A unique identifier for the topology\n * @property {ServerAddress} address The address (host/port pair) of the server\n */\nclass ServerOpeningEvent {\n  constructor(topologyId, address) {\n    Object.assign(this, { topologyId, address });\n  }\n}\n\n/**\n * Published when server is closed.\n *\n * @property {ServerAddress} address The address (host/port pair) of the server\n * @property {Object} topologyId A unique identifier for the topology\n */\nclass ServerClosedEvent {\n  constructor(topologyId, address) {\n    Object.assign(this, { topologyId, address });\n  }\n}\n\n/**\n * Published when topology description changes.\n *\n * @property {Object} topologyId\n * @property {TopologyDescription} previousDescription The old topology description\n * @property {TopologyDescription} newDescription The new topology description\n */\nclass TopologyDescriptionChangedEvent {\n  constructor(topologyId, previousDescription, newDescription) {\n    Object.assign(this, { topologyId, previousDescription, newDescription });\n  }\n}\n\n/**\n * Published when topology is initialized.\n *\n * @param {Object} topologyId A unique identifier for the topology\n */\nclass TopologyOpeningEvent {\n  constructor(topologyId) {\n    Object.assign(this, { topologyId });\n  }\n}\n\n/**\n * Published when topology is closed.\n *\n * @param {Object} topologyId A unique identifier for the topology\n */\nclass TopologyClosedEvent {\n  constructor(topologyId) {\n    Object.assign(this, { topologyId });\n  }\n}\n\n/**\n * Fired when the server monitor’s ismaster command is started - immediately before\n * the ismaster command is serialized into raw BSON and written to the socket.\n *\n * @property {Object} connectionId The connection id for the command\n */\nclass ServerHeartbeatStartedEvent {\n  constructor(connectionId) {\n    Object.assign(this, { connectionId });\n  }\n}\n\n/**\n * Fired when the server monitor’s ismaster succeeds.\n *\n * @param {Number} duration The execution time of the event in ms\n * @param {Object} reply The command reply\n * @param {Object} connectionId The connection id for the command\n */\nclass ServerHeartbeatSucceededEvent {\n  constructor(duration, reply, connectionId) {\n    Object.assign(this, { duration, reply, connectionId });\n  }\n}\n\n/**\n * Fired when the server monitor’s ismaster fails, either with an “ok: 0” or a socket exception.\n *\n * @param {Number} duration The execution time of the event in ms\n * @param {MongoError|Object} failure The command failure\n * @param {Object} connectionId The connection id for the command\n */\nclass ServerHeartbeatFailedEvent {\n  constructor(duration, failure, connectionId) {\n    Object.assign(this, { duration, failure, connectionId });\n  }\n}\n\n/**\n * Performs a server check as described by the SDAM spec.\n *\n * NOTE: This method automatically reschedules itself, so that there is always an active\n * monitoring process\n *\n * @param {Server} server The server to monitor\n */\nfunction monitorServer(server, options) {\n  options = options || {};\n  const heartbeatFrequencyMS = options.heartbeatFrequencyMS || 10000;\n\n  if (options.initial === true) {\n    server.s.monitorId = setTimeout(() => monitorServer(server), heartbeatFrequencyMS);\n    return;\n  }\n\n  // executes a single check of a server\n  const checkServer = callback => {\n    let start = process.hrtime();\n\n    // emit a signal indicating we have started the heartbeat\n    server.emit('serverHeartbeatStarted', new ServerHeartbeatStartedEvent(server.name));\n\n    // NOTE: legacy monitoring event\n    process.nextTick(() => server.emit('monitoring', server));\n\n    server.command(\n      'admin.$cmd',\n      { ismaster: true },\n      {\n        monitoring: true,\n        socketTimeout: server.s.options.connectionTimeout || 2000\n      },\n      (err, result) => {\n        let duration = calculateDurationInMs(start);\n\n        if (err) {\n          server.emit(\n            'serverHeartbeatFailed',\n            new ServerHeartbeatFailedEvent(duration, err, server.name)\n          );\n\n          return callback(err, null);\n        }\n\n        const isMaster = result.result;\n        server.emit(\n          'serverHeartbeatSucceded',\n          new ServerHeartbeatSucceededEvent(duration, isMaster, server.name)\n        );\n\n        return callback(null, isMaster);\n      }\n    );\n  };\n\n  const successHandler = isMaster => {\n    server.s.monitoring = false;\n\n    // emit an event indicating that our description has changed\n    server.emit('descriptionReceived', new ServerDescription(server.description.address, isMaster));\n\n    // schedule the next monitoring process\n    server.s.monitorId = setTimeout(() => monitorServer(server), heartbeatFrequencyMS);\n  };\n\n  // run the actual monitoring loop\n  server.s.monitoring = true;\n  checkServer((err, isMaster) => {\n    if (!err) {\n      successHandler(isMaster);\n      return;\n    }\n\n    // According to the SDAM specification's \"Network error during server check\" section, if\n    // an ismaster call fails we reset the server's pool. If a server was once connected,\n    // change its type to `Unknown` only after retrying once.\n    server.s.pool.reset(() => {\n      // otherwise re-attempt monitoring once\n      checkServer((error, isMaster) => {\n        if (error) {\n          server.s.monitoring = false;\n\n          // we revert to an `Unknown` by emitting a default description with no isMaster\n          server.emit(\n            'descriptionReceived',\n            new ServerDescription(server.description.address, null, { error })\n          );\n\n          // we do not reschedule monitoring in this case\n          return;\n        }\n\n        successHandler(isMaster);\n      });\n    });\n  });\n}\n\nmodule.exports = {\n  ServerDescriptionChangedEvent,\n  ServerOpeningEvent,\n  ServerClosedEvent,\n  TopologyDescriptionChangedEvent,\n  TopologyOpeningEvent,\n  TopologyClosedEvent,\n  ServerHeartbeatStartedEvent,\n  ServerHeartbeatSucceededEvent,\n  ServerHeartbeatFailedEvent,\n  monitorServer\n};\n"},"lineCount":null}},"error":null,"hash":"4ac3c51b62e3fa8b697a7b92a7333a83","cacheData":{"env":{}}}