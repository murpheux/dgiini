{"id":"Uyr2","dependencies":[{"name":"/Users/murpheux/Workspace/projects/dgiini/microservices/.babelrc","includedInParent":true,"mtime":1557029603000},{"name":"/Users/murpheux/Workspace/projects/dgiini/microservices/package.json","includedInParent":true,"mtime":1563334619778},{"name":"../shared/common","loc":{"line":8,"column":19},"parent":"/Users/murpheux/Workspace/projects/dgiini/microservices/src/routes/message_route.js","resolved":"/Users/murpheux/Workspace/projects/dgiini/microservices/src/shared/common.js"},{"name":"../shared/lib","loc":{"line":9,"column":54},"parent":"/Users/murpheux/Workspace/projects/dgiini/microservices/src/routes/message_route.js","resolved":"/Users/murpheux/Workspace/projects/dgiini/microservices/src/shared/lib.js"},{"name":"../shared/winston","loc":{"line":10,"column":20},"parent":"/Users/murpheux/Workspace/projects/dgiini/microservices/src/routes/message_route.js","resolved":"/Users/murpheux/Workspace/projects/dgiini/microservices/src/shared/winston.js"},{"name":"../data/mongo_access","loc":{"line":12,"column":25},"parent":"/Users/murpheux/Workspace/projects/dgiini/microservices/src/routes/message_route.js","resolved":"/Users/murpheux/Workspace/projects/dgiini/microservices/src/data/mongo_access.js"}],"generated":{"js":"\"use strict\";var e=d(require(\"express\")),s=d(require(\"fluent-validator\")),t=d(require(\"http-status-codes\")),a=d(require(\"../shared/common\")),r=require(\"../shared/lib\"),o=d(require(\"../shared/winston\"));function d(e){return e&&e.__esModule?e:{default:e}}const u=require(\"../data/mongo_access\"),R=e.default.Router(),n=process.env.MESSAGE_DATABASE||\"dg_messagedb\",E=\"messages\",l=\"validation errors encountered\",i=[\"messages\"];u.setup_database(a.default.database_uri,n,r.options,i).then(e=>{o.default.info(`Collection ${i} created!`)},e=>{o.default.error(\"Error! \",e)}),R.get(\"/messages/:id\",(e,d)=>{const R=e.params.id;var E=(0,s.default)().validate(R).isNotEmpty().and.isMongoObjectId();E.hasErrors()?d.status(t.default.BAD_REQUEST).json((0,r.build_response)(t.default.BAD_REQUEST,l,E.getErrors())):u.get_connection(a.default.database_uri,n,r.options).then(e=>{(async()=>{return await u.getone(e,\"messages\",{_id:R})})().then(e=>{d.status(t.default.OK).json((0,r.build_response)(t.default.OK,\"\",e))},e=>{o.default.error(e),d.status(t.default.INTERNAL_SERVER_ERROR).json((0,r.build_response)(t.default.INTERNAL_SERVER_ERROR,e.message,e))})},e=>{o.default.error(e),d.status(t.default.INTERNAL_SERVER_ERROR).json((0,r.build_response)(t.default.INTERNAL_SERVER_ERROR,e.message,e))})}),R.get(\"/messages/to/:sender\",(e,d)=>{const R=e.params.sender;var E=(0,s.default)().validate(R).isNotEmpty().and.isMongoObjectId();const i=(0,r.build_paging)(e);i.filter={to:R},E.hasErrors()?d.status(t.default.BAD_REQUEST).json((0,r.build_response)(t.default.BAD_REQUEST,l,E.getErrors())):u.get_connection(a.default.database_uri,n,r.options).then(e=>{(async()=>{return await u.getlist(e,\"messages\",i)})().then(e=>{d.status(t.default.OK).json((0,r.build_response)(t.default.OK,\"\",e))},e=>{o.default.error(e),d.status(t.default.INTERNAL_SERVER_ERROR).json((0,r.build_response)(t.default.INTERNAL_SERVER_ERROR,e.message,e))})},e=>{o.default.error(e),d.status(t.default.INTERNAL_SERVER_ERROR).json((0,r.build_response)(t.default.INTERNAL_SERVER_ERROR,e.message,e))})}),R.get(\"/messages/from/:sender\",(e,d)=>{const R=e.params.sender;var E=(0,s.default)().validate(R).isNotEmpty().and.isMongoObjectId();const i=(0,r.build_paging)(e);i.filter={from:R},E.hasErrors()?d.status(t.default.BAD_REQUEST).json((0,r.build_response)(t.default.BAD_REQUEST,l,E.getErrors())):u.get_connection(a.default.database_uri,n,r.options).then(e=>{(async()=>{return await u.getlist(e,\"messages\",i)})().then(e=>{d.status(t.default.OK).json((0,r.build_response)(t.default.OK,\"\",e))},e=>{o.default.error(e),d.status(t.default.INTERNAL_SERVER_ERROR).json((0,r.build_response)(t.default.INTERNAL_SERVER_ERROR,e.message,e))})},e=>{o.default.error(e),d.status(t.default.INTERNAL_SERVER_ERROR).json((0,r.build_response)(t.default.INTERNAL_SERVER_ERROR,e.message,e))})}),R.get(\"/messages/task/:id\",(e,d)=>{const R=e.params.id;var E=(0,s.default)().validate(R).isNotNull().and.isNotEmpty().and.isMongoObjectId();const i=(0,r.build_paging)(e);i.filter={task:R},E.hasErrors()?d.status(t.default.BAD_REQUEST).json((0,r.build_response)(t.default.BAD_REQUEST,l,E.getErrors())):u.get_connection(a.default.database_uri,n,r.options).then(e=>{(async()=>{return await u.getlist(e,\"messages\",i)})().then(e=>{d.status(t.default.OK).json((0,r.build_response)(t.default.OK,\"\",e))},e=>{o.default.error(e),d.status(t.default.INTERNAL_SERVER_ERROR).json((0,r.build_response)(t.default.INTERNAL_SERVER_ERROR,e.message,e))})},e=>{o.default.error(e),d.status(t.default.INTERNAL_SERVER_ERROR).json((0,r.build_response)(t.default.INTERNAL_SERVER_ERROR,e.message,e))})}),R.post(\"/messages/task/:id\",(e,s)=>{const d=e.body,R=_(d),E=e.params.id;R.validate(E).isNotEmpty().isMongoObjectId(),R.hasErrors()?s.status(t.default.BAD_REQUEST).json((0,r.build_response)(t.default.BAD_REQUEST,l,R.getErrors())):(d.task=E,d.isRead=!1,d.sentdate=new Date,u.get_connection(a.default.database_uri,n,r.options).then(e=>{(async()=>{return await u.create(e,\"messages\",d)})().then(e=>{s.status(t.default.OK).json((0,r.build_response)(t.default.OK,\"\",e.ops[0]))},e=>{o.default.error(e),s.status(t.default.INTERNAL_SERVER_ERROR).json((0,r.build_response)(t.default.INTERNAL_SERVER_ERROR,e.message,e))})},e=>{o.default.error(e),s.status(t.default.INTERNAL_SERVER_ERROR).json((0,r.build_response)(t.default.INTERNAL_SERVER_ERROR,e.message,e))}))}),R.post(\"/sendmessage\",(e,s)=>{const d=e.body,R=_(d);R.hasErrors()?s.status(t.default.BAD_REQUEST).json((0,r.build_response)(t.default.BAD_REQUEST,l,R.getErrors())):u.get_connection(a.default.database_uri,n,r.options).then(e=>{(async()=>{return await u.create(e,\"messages\",d)})().then(e=>{s.status(t.default.OK).json((0,r.build_response)(t.default.OK,\"\",e))},e=>{o.default.error(e),s.status(t.default.INTERNAL_SERVER_ERROR).json((0,r.build_response)(t.default.INTERNAL_SERVER_ERROR,e.message,e))})},e=>{o.default.error(e),s.status(t.default.INTERNAL_SERVER_ERROR).json((0,r.build_response)(t.default.INTERNAL_SERVER_ERROR,e.message,e))})});const _=e=>{return(0,s.default)().validate(e.from).isNotNull().and.isNotEmpty().and.isMongoObjectId().validate(e.to).isNotNull().and.isNotEmpty().and.isMongoObjectId().validate(e.message).isNotNull().and.isNotEmpty().validate(e.replyto).isNull().or.isMongoObjectId()};module.exports=R;"},"sourceMaps":{"js":{"mappings":[{"source":"routes/message_route.js","original":{"line":2,"column":0},"generated":{"line":1,"column":0}},{"source":"routes/message_route.js","original":{"line":4,"column":0},"generated":{"line":1,"column":13}},{"source":"routes/message_route.js","original":{"line":4,"column":0},"generated":{"line":1,"column":17}},{"source":"routes/message_route.js","original":{"line":4,"column":0},"generated":{"line":1,"column":19}},{"source":"routes/message_route.js","original":{"line":4,"column":0},"generated":{"line":1,"column":21}},{"source":"routes/message_route.js","original":{"line":4,"column":0},"generated":{"line":1,"column":29}},{"source":"routes/message_route.js","original":{"line":5,"column":0},"generated":{"line":1,"column":41}},{"source":"routes/message_route.js","original":{"line":5,"column":0},"generated":{"line":1,"column":43}},{"source":"routes/message_route.js","original":{"line":5,"column":0},"generated":{"line":1,"column":45}},{"source":"routes/message_route.js","original":{"line":5,"column":0},"generated":{"line":1,"column":53}},{"source":"routes/message_route.js","original":{"line":6,"column":0},"generated":{"line":1,"column":74}},{"source":"routes/message_route.js","original":{"line":6,"column":0},"generated":{"line":1,"column":76}},{"source":"routes/message_route.js","original":{"line":6,"column":0},"generated":{"line":1,"column":78}},{"source":"routes/message_route.js","original":{"line":6,"column":0},"generated":{"line":1,"column":86}},{"source":"routes/message_route.js","original":{"line":8,"column":0},"generated":{"line":1,"column":108}},{"source":"routes/message_route.js","original":{"line":8,"column":0},"generated":{"line":1,"column":110}},{"source":"routes/message_route.js","original":{"line":8,"column":0},"generated":{"line":1,"column":112}},{"source":"routes/message_route.js","original":{"line":8,"column":0},"generated":{"line":1,"column":120}},{"source":"routes/message_route.js","original":{"line":9,"column":0},"generated":{"line":1,"column":141}},{"source":"routes/message_route.js","original":{"line":9,"column":0},"generated":{"line":1,"column":143}},{"source":"routes/message_route.js","original":{"line":9,"column":0},"generated":{"line":1,"column":151}},{"source":"routes/message_route.js","original":{"line":10,"column":0},"generated":{"line":1,"column":168}},{"source":"routes/message_route.js","original":{"line":10,"column":0},"generated":{"line":1,"column":170}},{"source":"routes/message_route.js","original":{"line":10,"column":0},"generated":{"line":1,"column":172}},{"source":"routes/message_route.js","original":{"line":10,"column":0},"generated":{"line":1,"column":180}},{"source":"routes/message_route.js","original":{"line":251,"column":0},"generated":{"line":1,"column":202}},{"source":"routes/message_route.js","original":{"line":251,"column":0},"generated":{"line":1,"column":211}},{"source":"routes/message_route.js","original":{"line":251,"column":0},"generated":{"line":1,"column":213}},{"source":"routes/message_route.js","original":{"line":251,"column":0},"generated":{"line":1,"column":216}},{"source":"routes/message_route.js","original":{"line":251,"column":0},"generated":{"line":1,"column":223}},{"source":"routes/message_route.js","original":{"line":251,"column":0},"generated":{"line":1,"column":226}},{"source":"routes/message_route.js","original":{"line":251,"column":0},"generated":{"line":1,"column":228}},{"source":"routes/message_route.js","original":{"line":251,"column":0},"generated":{"line":1,"column":239}},{"source":"routes/message_route.js","original":{"line":251,"column":0},"generated":{"line":1,"column":241}},{"source":"routes/message_route.js","original":{"line":251,"column":0},"generated":{"line":1,"column":242}},{"source":"routes/message_route.js","original":{"line":251,"column":0},"generated":{"line":1,"column":250}},{"source":"routes/message_route.js","original":{"line":12,"column":0},"generated":{"line":1,"column":253}},{"source":"routes/message_route.js","name":"mgaccess","original":{"line":12,"column":6},"generated":{"line":1,"column":259}},{"source":"routes/message_route.js","name":"require","original":{"line":12,"column":17},"generated":{"line":1,"column":261}},{"source":"routes/message_route.js","original":{"line":12,"column":25},"generated":{"line":1,"column":269}},{"source":"routes/message_route.js","name":"router","original":{"line":13,"column":6},"generated":{"line":1,"column":293}},{"source":"routes/message_route.js","name":"express","original":{"line":13,"column":15},"generated":{"line":1,"column":295}},{"source":"routes/message_route.js","name":"Router","original":{"line":13,"column":23},"generated":{"line":1,"column":297}},{"source":"routes/message_route.js","name":"Router","original":{"line":13,"column":23},"generated":{"line":1,"column":305}},{"source":"routes/message_route.js","name":"database_name","original":{"line":14,"column":6},"generated":{"line":1,"column":314}},{"source":"routes/message_route.js","name":"process","original":{"line":14,"column":22},"generated":{"line":1,"column":316}},{"source":"routes/message_route.js","name":"env","original":{"line":14,"column":30},"generated":{"line":1,"column":324}},{"source":"routes/message_route.js","name":"MESSAGE_DATABASE","original":{"line":14,"column":34},"generated":{"line":1,"column":328}},{"source":"routes/message_route.js","original":{"line":14,"column":54},"generated":{"line":1,"column":346}},{"source":"routes/message_route.js","name":"MESSAGE_COLL","original":{"line":15,"column":6},"generated":{"line":1,"column":361}},{"source":"routes/message_route.js","original":{"line":15,"column":21},"generated":{"line":1,"column":363}},{"source":"routes/message_route.js","name":"VALIDATION_MSG","original":{"line":16,"column":6},"generated":{"line":1,"column":374}},{"source":"routes/message_route.js","original":{"line":16,"column":23},"generated":{"line":1,"column":376}},{"source":"routes/message_route.js","name":"collections","original":{"line":18,"column":6},"generated":{"line":1,"column":408}},{"source":"routes/message_route.js","original":{"line":18,"column":20},"generated":{"line":1,"column":410}},{"source":"routes/message_route.js","original":{"line":15,"column":21},"generated":{"line":1,"column":411}},{"source":"routes/message_route.js","name":"mgaccess","original":{"line":19,"column":0},"generated":{"line":1,"column":423}},{"source":"routes/message_route.js","name":"setup_database","original":{"line":19,"column":9},"generated":{"line":1,"column":425}},{"source":"routes/message_route.js","name":"common","original":{"line":19,"column":24},"generated":{"line":1,"column":440}},{"source":"routes/message_route.js","name":"database_uri","original":{"line":19,"column":31},"generated":{"line":1,"column":442}},{"source":"routes/message_route.js","name":"database_uri","original":{"line":19,"column":31},"generated":{"line":1,"column":450}},{"source":"routes/message_route.js","name":"database_name","original":{"line":19,"column":45},"generated":{"line":1,"column":463}},{"source":"routes/message_route.js","name":"options","original":{"line":19,"column":60},"generated":{"line":1,"column":465}},{"source":"routes/message_route.js","original":{"line":19,"column":0},"generated":{"line":1,"column":467}},{"source":"routes/message_route.js","name":"collections","original":{"line":19,"column":69},"generated":{"line":1,"column":475}},{"source":"routes/message_route.js","name":"then","original":{"line":19,"column":82},"generated":{"line":1,"column":478}},{"source":"routes/message_route.js","name":"_","original":{"line":20,"column":4},"generated":{"line":1,"column":483}},{"source":"routes/message_route.js","name":"info","original":{"line":21,"column":16},"generated":{"line":1,"column":487}},{"source":"routes/message_route.js","name":"info","original":{"line":21,"column":16},"generated":{"line":1,"column":489}},{"source":"routes/message_route.js","name":"info","original":{"line":21,"column":16},"generated":{"line":1,"column":497}},{"source":"routes/message_route.js","name":"collections","original":{"line":21,"column":35},"generated":{"line":1,"column":516}},{"source":"routes/message_route.js","name":"err","original":{"line":23,"column":4},"generated":{"line":1,"column":531}},{"source":"routes/message_route.js","name":"error","original":{"line":23,"column":21},"generated":{"line":1,"column":535}},{"source":"routes/message_route.js","name":"error","original":{"line":23,"column":21},"generated":{"line":1,"column":537}},{"source":"routes/message_route.js","name":"error","original":{"line":23,"column":21},"generated":{"line":1,"column":545}},{"source":"routes/message_route.js","original":{"line":23,"column":27},"generated":{"line":1,"column":551}},{"source":"routes/message_route.js","name":"err","original":{"line":23,"column":38},"generated":{"line":1,"column":561}},{"source":"routes/message_route.js","name":"router","original":{"line":27,"column":0},"generated":{"line":1,"column":566}},{"source":"routes/message_route.js","name":"get","original":{"line":27,"column":7},"generated":{"line":1,"column":568}},{"source":"routes/message_route.js","original":{"line":27,"column":11},"generated":{"line":1,"column":572}},{"source":"routes/message_route.js","original":{"line":27,"column":28},"generated":{"line":1,"column":588}},{"source":"routes/message_route.js","name":"req","original":{"line":27,"column":29},"generated":{"line":1,"column":589}},{"source":"routes/message_route.js","name":"res","original":{"line":27,"column":34},"generated":{"line":1,"column":591}},{"source":"routes/message_route.js","name":"id","original":{"line":28,"column":10},"generated":{"line":1,"column":596}},{"source":"routes/message_route.js","name":"id","original":{"line":28,"column":10},"generated":{"line":1,"column":602}},{"source":"routes/message_route.js","name":"req","original":{"line":28,"column":15},"generated":{"line":1,"column":604}},{"source":"routes/message_route.js","name":"params","original":{"line":28,"column":19},"generated":{"line":1,"column":606}},{"source":"routes/message_route.js","name":"id","original":{"line":28,"column":26},"generated":{"line":1,"column":613}},{"source":"routes/message_route.js","name":"validation","original":{"line":29,"column":8},"generated":{"line":1,"column":616}},{"source":"routes/message_route.js","name":"validation","original":{"line":29,"column":8},"generated":{"line":1,"column":620}},{"source":"routes/message_route.js","original":{"line":29,"column":21},"generated":{"line":1,"column":623}},{"source":"routes/message_route.js","name":"validate","original":{"line":29,"column":33},"generated":{"line":1,"column":625}},{"source":"routes/message_route.js","name":"validate","original":{"line":29,"column":33},"generated":{"line":1,"column":627}},{"source":"routes/message_route.js","name":"validate","original":{"line":29,"column":33},"generated":{"line":1,"column":638}},{"source":"routes/message_route.js","name":"id","original":{"line":29,"column":42},"generated":{"line":1,"column":647}},{"source":"routes/message_route.js","name":"isNotEmpty","original":{"line":29,"column":46},"generated":{"line":1,"column":650}},{"source":"routes/message_route.js","name":"and","original":{"line":29,"column":59},"generated":{"line":1,"column":663}},{"source":"routes/message_route.js","name":"isMongoObjectId","original":{"line":29,"column":63},"generated":{"line":1,"column":667}},{"source":"routes/message_route.js","name":"validation","original":{"line":31,"column":8},"generated":{"line":1,"column":685}},{"source":"routes/message_route.js","name":"hasErrors","original":{"line":31,"column":19},"generated":{"line":1,"column":687}},{"source":"routes/message_route.js","name":"res","original":{"line":32,"column":8},"generated":{"line":1,"column":699}},{"source":"routes/message_route.js","name":"status","original":{"line":32,"column":12},"generated":{"line":1,"column":701}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":32,"column":19},"generated":{"line":1,"column":708}},{"source":"routes/message_route.js","name":"BAD_REQUEST","original":{"line":32,"column":30},"generated":{"line":1,"column":710}},{"source":"routes/message_route.js","name":"BAD_REQUEST","original":{"line":32,"column":30},"generated":{"line":1,"column":718}},{"source":"routes/message_route.js","name":"json","original":{"line":32,"column":43},"generated":{"line":1,"column":731}},{"source":"routes/message_route.js","original":{"line":32,"column":48},"generated":{"line":1,"column":737}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":32,"column":63},"generated":{"line":1,"column":739}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":32,"column":63},"generated":{"line":1,"column":741}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":32,"column":63},"generated":{"line":1,"column":757}},{"source":"routes/message_route.js","name":"BAD_REQUEST","original":{"line":32,"column":74},"generated":{"line":1,"column":759}},{"source":"routes/message_route.js","name":"BAD_REQUEST","original":{"line":32,"column":74},"generated":{"line":1,"column":767}},{"source":"routes/message_route.js","name":"VALIDATION_MSG","original":{"line":32,"column":87},"generated":{"line":1,"column":779}},{"source":"routes/message_route.js","name":"validation","original":{"line":32,"column":103},"generated":{"line":1,"column":781}},{"source":"routes/message_route.js","name":"getErrors","original":{"line":32,"column":114},"generated":{"line":1,"column":783}},{"source":"routes/message_route.js","name":"mgaccess","original":{"line":34,"column":8},"generated":{"line":1,"column":797}},{"source":"routes/message_route.js","name":"get_connection","original":{"line":34,"column":17},"generated":{"line":1,"column":799}},{"source":"routes/message_route.js","name":"common","original":{"line":34,"column":32},"generated":{"line":1,"column":814}},{"source":"routes/message_route.js","name":"database_uri","original":{"line":34,"column":39},"generated":{"line":1,"column":816}},{"source":"routes/message_route.js","name":"database_uri","original":{"line":34,"column":39},"generated":{"line":1,"column":824}},{"source":"routes/message_route.js","name":"database_name","original":{"line":34,"column":53},"generated":{"line":1,"column":837}},{"source":"routes/message_route.js","name":"options","original":{"line":34,"column":68},"generated":{"line":1,"column":839}},{"source":"routes/message_route.js","original":{"line":34,"column":8},"generated":{"line":1,"column":841}},{"source":"routes/message_route.js","name":"then","original":{"line":34,"column":77},"generated":{"line":1,"column":850}},{"source":"routes/message_route.js","name":"db","original":{"line":35,"column":12},"generated":{"line":1,"column":855}},{"source":"routes/message_route.js","original":{"line":36,"column":38},"generated":{"line":1,"column":859}},{"source":"routes/message_route.js","name":"result","original":{"line":38,"column":27},"generated":{"line":1,"column":870}},{"source":"routes/message_route.js","name":"mgaccess","original":{"line":37,"column":39},"generated":{"line":1,"column":883}},{"source":"routes/message_route.js","name":"getone","original":{"line":37,"column":48},"generated":{"line":1,"column":885}},{"source":"routes/message_route.js","name":"db","original":{"line":37,"column":55},"generated":{"line":1,"column":892}},{"source":"routes/message_route.js","original":{"line":15,"column":21},"generated":{"line":1,"column":894}},{"source":"routes/message_route.js","original":{"line":37,"column":73},"generated":{"line":1,"column":905}},{"source":"routes/message_route.js","name":"_id","original":{"line":37,"column":75},"generated":{"line":1,"column":906}},{"source":"routes/message_route.js","name":"id","original":{"line":37,"column":80},"generated":{"line":1,"column":910}},{"source":"routes/message_route.js","name":"invoke_getone","original":{"line":41,"column":16},"generated":{"line":1,"column":915}},{"source":"routes/message_route.js","name":"then","original":{"line":41,"column":32},"generated":{"line":1,"column":918}},{"source":"routes/message_route.js","name":"message","original":{"line":42,"column":20},"generated":{"line":1,"column":923}},{"source":"routes/message_route.js","name":"res","original":{"line":43,"column":24},"generated":{"line":1,"column":927}},{"source":"routes/message_route.js","name":"status","original":{"line":43,"column":28},"generated":{"line":1,"column":929}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":43,"column":35},"generated":{"line":1,"column":936}},{"source":"routes/message_route.js","name":"OK","original":{"line":43,"column":46},"generated":{"line":1,"column":938}},{"source":"routes/message_route.js","name":"OK","original":{"line":43,"column":46},"generated":{"line":1,"column":946}},{"source":"routes/message_route.js","name":"json","original":{"line":43,"column":50},"generated":{"line":1,"column":950}},{"source":"routes/message_route.js","original":{"line":43,"column":55},"generated":{"line":1,"column":956}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":43,"column":70},"generated":{"line":1,"column":958}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":43,"column":70},"generated":{"line":1,"column":960}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":43,"column":70},"generated":{"line":1,"column":976}},{"source":"routes/message_route.js","name":"OK","original":{"line":43,"column":81},"generated":{"line":1,"column":978}},{"source":"routes/message_route.js","name":"OK","original":{"line":43,"column":81},"generated":{"line":1,"column":986}},{"source":"routes/message_route.js","original":{"line":43,"column":85},"generated":{"line":1,"column":989}},{"source":"routes/message_route.js","name":"message","original":{"line":43,"column":89},"generated":{"line":1,"column":992}},{"source":"routes/message_route.js","name":"err","original":{"line":45,"column":20},"generated":{"line":1,"column":997}},{"source":"routes/message_route.js","name":"error","original":{"line":46,"column":32},"generated":{"line":1,"column":1001}},{"source":"routes/message_route.js","name":"error","original":{"line":46,"column":32},"generated":{"line":1,"column":1003}},{"source":"routes/message_route.js","name":"error","original":{"line":46,"column":32},"generated":{"line":1,"column":1011}},{"source":"routes/message_route.js","name":"err","original":{"line":46,"column":38},"generated":{"line":1,"column":1017}},{"source":"routes/message_route.js","name":"res","original":{"line":47,"column":24},"generated":{"line":1,"column":1020}},{"source":"routes/message_route.js","name":"status","original":{"line":47,"column":28},"generated":{"line":1,"column":1022}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":47,"column":35},"generated":{"line":1,"column":1029}},{"source":"routes/message_route.js","name":"INTERNAL_SERVER_ERROR","original":{"line":47,"column":46},"generated":{"line":1,"column":1031}},{"source":"routes/message_route.js","name":"INTERNAL_SERVER_ERROR","original":{"line":47,"column":46},"generated":{"line":1,"column":1039}},{"source":"routes/message_route.js","name":"json","original":{"line":47,"column":69},"generated":{"line":1,"column":1062}},{"source":"routes/message_route.js","original":{"line":47,"column":74},"generated":{"line":1,"column":1068}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":47,"column":89},"generated":{"line":1,"column":1070}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":47,"column":89},"generated":{"line":1,"column":1072}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":47,"column":89},"generated":{"line":1,"column":1088}},{"source":"routes/message_route.js","name":"INTERNAL_SERVER_ERROR","original":{"line":47,"column":100},"generated":{"line":1,"column":1090}},{"source":"routes/message_route.js","name":"INTERNAL_SERVER_ERROR","original":{"line":47,"column":100},"generated":{"line":1,"column":1098}},{"source":"routes/message_route.js","name":"err","original":{"line":47,"column":123},"generated":{"line":1,"column":1120}},{"source":"routes/message_route.js","name":"message","original":{"line":47,"column":127},"generated":{"line":1,"column":1122}},{"source":"routes/message_route.js","name":"err","original":{"line":47,"column":136},"generated":{"line":1,"column":1130}},{"source":"routes/message_route.js","name":"err","original":{"line":51,"column":12},"generated":{"line":1,"column":1137}},{"source":"routes/message_route.js","name":"error","original":{"line":52,"column":24},"generated":{"line":1,"column":1141}},{"source":"routes/message_route.js","name":"error","original":{"line":52,"column":24},"generated":{"line":1,"column":1143}},{"source":"routes/message_route.js","name":"error","original":{"line":52,"column":24},"generated":{"line":1,"column":1151}},{"source":"routes/message_route.js","name":"err","original":{"line":52,"column":30},"generated":{"line":1,"column":1157}},{"source":"routes/message_route.js","name":"res","original":{"line":53,"column":16},"generated":{"line":1,"column":1160}},{"source":"routes/message_route.js","name":"status","original":{"line":53,"column":20},"generated":{"line":1,"column":1162}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":53,"column":27},"generated":{"line":1,"column":1169}},{"source":"routes/message_route.js","name":"INTERNAL_SERVER_ERROR","original":{"line":53,"column":38},"generated":{"line":1,"column":1171}},{"source":"routes/message_route.js","name":"INTERNAL_SERVER_ERROR","original":{"line":53,"column":38},"generated":{"line":1,"column":1179}},{"source":"routes/message_route.js","name":"json","original":{"line":53,"column":61},"generated":{"line":1,"column":1202}},{"source":"routes/message_route.js","original":{"line":53,"column":66},"generated":{"line":1,"column":1208}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":53,"column":81},"generated":{"line":1,"column":1210}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":53,"column":81},"generated":{"line":1,"column":1212}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":53,"column":81},"generated":{"line":1,"column":1228}},{"source":"routes/message_route.js","name":"INTERNAL_SERVER_ERROR","original":{"line":53,"column":92},"generated":{"line":1,"column":1230}},{"source":"routes/message_route.js","name":"INTERNAL_SERVER_ERROR","original":{"line":53,"column":92},"generated":{"line":1,"column":1238}},{"source":"routes/message_route.js","name":"err","original":{"line":53,"column":115},"generated":{"line":1,"column":1260}},{"source":"routes/message_route.js","name":"message","original":{"line":53,"column":119},"generated":{"line":1,"column":1262}},{"source":"routes/message_route.js","name":"err","original":{"line":53,"column":128},"generated":{"line":1,"column":1270}},{"source":"routes/message_route.js","name":"router","original":{"line":59,"column":0},"generated":{"line":1,"column":1278}},{"source":"routes/message_route.js","name":"get","original":{"line":59,"column":7},"generated":{"line":1,"column":1280}},{"source":"routes/message_route.js","original":{"line":59,"column":11},"generated":{"line":1,"column":1284}},{"source":"routes/message_route.js","original":{"line":59,"column":35},"generated":{"line":1,"column":1307}},{"source":"routes/message_route.js","name":"req","original":{"line":59,"column":36},"generated":{"line":1,"column":1308}},{"source":"routes/message_route.js","name":"res","original":{"line":59,"column":41},"generated":{"line":1,"column":1310}},{"source":"routes/message_route.js","name":"sender","original":{"line":60,"column":10},"generated":{"line":1,"column":1315}},{"source":"routes/message_route.js","name":"sender","original":{"line":60,"column":10},"generated":{"line":1,"column":1321}},{"source":"routes/message_route.js","name":"req","original":{"line":60,"column":19},"generated":{"line":1,"column":1323}},{"source":"routes/message_route.js","name":"params","original":{"line":60,"column":23},"generated":{"line":1,"column":1325}},{"source":"routes/message_route.js","name":"sender","original":{"line":60,"column":30},"generated":{"line":1,"column":1332}},{"source":"routes/message_route.js","name":"validation","original":{"line":61,"column":8},"generated":{"line":1,"column":1339}},{"source":"routes/message_route.js","name":"validation","original":{"line":61,"column":8},"generated":{"line":1,"column":1343}},{"source":"routes/message_route.js","original":{"line":61,"column":21},"generated":{"line":1,"column":1346}},{"source":"routes/message_route.js","name":"validate","original":{"line":61,"column":33},"generated":{"line":1,"column":1348}},{"source":"routes/message_route.js","name":"validate","original":{"line":61,"column":33},"generated":{"line":1,"column":1350}},{"source":"routes/message_route.js","name":"validate","original":{"line":61,"column":33},"generated":{"line":1,"column":1361}},{"source":"routes/message_route.js","name":"sender","original":{"line":61,"column":42},"generated":{"line":1,"column":1370}},{"source":"routes/message_route.js","name":"isNotEmpty","original":{"line":61,"column":50},"generated":{"line":1,"column":1373}},{"source":"routes/message_route.js","name":"and","original":{"line":61,"column":63},"generated":{"line":1,"column":1386}},{"source":"routes/message_route.js","name":"isMongoObjectId","original":{"line":61,"column":67},"generated":{"line":1,"column":1390}},{"source":"routes/message_route.js","name":"paging","original":{"line":63,"column":10},"generated":{"line":1,"column":1408}},{"source":"routes/message_route.js","name":"paging","original":{"line":63,"column":10},"generated":{"line":1,"column":1414}},{"source":"routes/message_route.js","original":{"line":63,"column":19},"generated":{"line":1,"column":1417}},{"source":"routes/message_route.js","name":"req","original":{"line":63,"column":32},"generated":{"line":1,"column":1419}},{"source":"routes/message_route.js","name":"req","original":{"line":63,"column":32},"generated":{"line":1,"column":1421}},{"source":"routes/message_route.js","name":"req","original":{"line":63,"column":32},"generated":{"line":1,"column":1435}},{"source":"routes/message_route.js","name":"paging","original":{"line":64,"column":4},"generated":{"line":1,"column":1438}},{"source":"routes/message_route.js","name":"filter","original":{"line":64,"column":11},"generated":{"line":1,"column":1440}},{"source":"routes/message_route.js","original":{"line":64,"column":20},"generated":{"line":1,"column":1447}},{"source":"routes/message_route.js","name":"to","original":{"line":64,"column":22},"generated":{"line":1,"column":1448}},{"source":"routes/message_route.js","name":"sender","original":{"line":64,"column":26},"generated":{"line":1,"column":1451}},{"source":"routes/message_route.js","name":"validation","original":{"line":66,"column":8},"generated":{"line":1,"column":1454}},{"source":"routes/message_route.js","name":"hasErrors","original":{"line":66,"column":19},"generated":{"line":1,"column":1456}},{"source":"routes/message_route.js","name":"res","original":{"line":67,"column":8},"generated":{"line":1,"column":1468}},{"source":"routes/message_route.js","name":"status","original":{"line":67,"column":12},"generated":{"line":1,"column":1470}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":67,"column":19},"generated":{"line":1,"column":1477}},{"source":"routes/message_route.js","name":"BAD_REQUEST","original":{"line":67,"column":30},"generated":{"line":1,"column":1479}},{"source":"routes/message_route.js","name":"BAD_REQUEST","original":{"line":67,"column":30},"generated":{"line":1,"column":1487}},{"source":"routes/message_route.js","name":"json","original":{"line":67,"column":43},"generated":{"line":1,"column":1500}},{"source":"routes/message_route.js","original":{"line":67,"column":48},"generated":{"line":1,"column":1506}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":67,"column":63},"generated":{"line":1,"column":1508}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":67,"column":63},"generated":{"line":1,"column":1510}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":67,"column":63},"generated":{"line":1,"column":1526}},{"source":"routes/message_route.js","name":"BAD_REQUEST","original":{"line":67,"column":74},"generated":{"line":1,"column":1528}},{"source":"routes/message_route.js","name":"BAD_REQUEST","original":{"line":67,"column":74},"generated":{"line":1,"column":1536}},{"source":"routes/message_route.js","name":"VALIDATION_MSG","original":{"line":67,"column":87},"generated":{"line":1,"column":1548}},{"source":"routes/message_route.js","name":"validation","original":{"line":67,"column":103},"generated":{"line":1,"column":1550}},{"source":"routes/message_route.js","name":"getErrors","original":{"line":67,"column":114},"generated":{"line":1,"column":1552}},{"source":"routes/message_route.js","name":"mgaccess","original":{"line":69,"column":8},"generated":{"line":1,"column":1566}},{"source":"routes/message_route.js","name":"get_connection","original":{"line":69,"column":17},"generated":{"line":1,"column":1568}},{"source":"routes/message_route.js","name":"common","original":{"line":69,"column":32},"generated":{"line":1,"column":1583}},{"source":"routes/message_route.js","name":"database_uri","original":{"line":69,"column":39},"generated":{"line":1,"column":1585}},{"source":"routes/message_route.js","name":"database_uri","original":{"line":69,"column":39},"generated":{"line":1,"column":1593}},{"source":"routes/message_route.js","name":"database_name","original":{"line":69,"column":53},"generated":{"line":1,"column":1606}},{"source":"routes/message_route.js","name":"options","original":{"line":69,"column":68},"generated":{"line":1,"column":1608}},{"source":"routes/message_route.js","original":{"line":69,"column":8},"generated":{"line":1,"column":1610}},{"source":"routes/message_route.js","name":"then","original":{"line":69,"column":77},"generated":{"line":1,"column":1619}},{"source":"routes/message_route.js","name":"db","original":{"line":70,"column":12},"generated":{"line":1,"column":1624}},{"source":"routes/message_route.js","original":{"line":71,"column":39},"generated":{"line":1,"column":1628}},{"source":"routes/message_route.js","name":"result","original":{"line":73,"column":27},"generated":{"line":1,"column":1639}},{"source":"routes/message_route.js","name":"mgaccess","original":{"line":72,"column":39},"generated":{"line":1,"column":1652}},{"source":"routes/message_route.js","name":"getlist","original":{"line":72,"column":48},"generated":{"line":1,"column":1654}},{"source":"routes/message_route.js","name":"db","original":{"line":72,"column":56},"generated":{"line":1,"column":1662}},{"source":"routes/message_route.js","original":{"line":15,"column":21},"generated":{"line":1,"column":1664}},{"source":"routes/message_route.js","name":"paging","original":{"line":72,"column":74},"generated":{"line":1,"column":1675}},{"source":"routes/message_route.js","name":"invoke_getlist","original":{"line":76,"column":16},"generated":{"line":1,"column":1679}},{"source":"routes/message_route.js","name":"then","original":{"line":76,"column":33},"generated":{"line":1,"column":1682}},{"source":"routes/message_route.js","name":"messages","original":{"line":77,"column":20},"generated":{"line":1,"column":1687}},{"source":"routes/message_route.js","name":"res","original":{"line":78,"column":24},"generated":{"line":1,"column":1691}},{"source":"routes/message_route.js","name":"status","original":{"line":78,"column":28},"generated":{"line":1,"column":1693}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":78,"column":35},"generated":{"line":1,"column":1700}},{"source":"routes/message_route.js","name":"OK","original":{"line":78,"column":46},"generated":{"line":1,"column":1702}},{"source":"routes/message_route.js","name":"OK","original":{"line":78,"column":46},"generated":{"line":1,"column":1710}},{"source":"routes/message_route.js","name":"json","original":{"line":78,"column":50},"generated":{"line":1,"column":1714}},{"source":"routes/message_route.js","original":{"line":78,"column":55},"generated":{"line":1,"column":1720}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":78,"column":70},"generated":{"line":1,"column":1722}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":78,"column":70},"generated":{"line":1,"column":1724}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":78,"column":70},"generated":{"line":1,"column":1740}},{"source":"routes/message_route.js","name":"OK","original":{"line":78,"column":81},"generated":{"line":1,"column":1742}},{"source":"routes/message_route.js","name":"OK","original":{"line":78,"column":81},"generated":{"line":1,"column":1750}},{"source":"routes/message_route.js","original":{"line":78,"column":85},"generated":{"line":1,"column":1753}},{"source":"routes/message_route.js","name":"messages","original":{"line":78,"column":89},"generated":{"line":1,"column":1756}},{"source":"routes/message_route.js","name":"err","original":{"line":80,"column":20},"generated":{"line":1,"column":1761}},{"source":"routes/message_route.js","name":"error","original":{"line":81,"column":32},"generated":{"line":1,"column":1765}},{"source":"routes/message_route.js","name":"error","original":{"line":81,"column":32},"generated":{"line":1,"column":1767}},{"source":"routes/message_route.js","name":"error","original":{"line":81,"column":32},"generated":{"line":1,"column":1775}},{"source":"routes/message_route.js","name":"err","original":{"line":81,"column":38},"generated":{"line":1,"column":1781}},{"source":"routes/message_route.js","name":"res","original":{"line":82,"column":24},"generated":{"line":1,"column":1784}},{"source":"routes/message_route.js","name":"status","original":{"line":82,"column":28},"generated":{"line":1,"column":1786}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":82,"column":35},"generated":{"line":1,"column":1793}},{"source":"routes/message_route.js","name":"INTERNAL_SERVER_ERROR","original":{"line":82,"column":46},"generated":{"line":1,"column":1795}},{"source":"routes/message_route.js","name":"INTERNAL_SERVER_ERROR","original":{"line":82,"column":46},"generated":{"line":1,"column":1803}},{"source":"routes/message_route.js","name":"json","original":{"line":82,"column":69},"generated":{"line":1,"column":1826}},{"source":"routes/message_route.js","original":{"line":82,"column":74},"generated":{"line":1,"column":1832}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":82,"column":89},"generated":{"line":1,"column":1834}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":82,"column":89},"generated":{"line":1,"column":1836}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":82,"column":89},"generated":{"line":1,"column":1852}},{"source":"routes/message_route.js","name":"INTERNAL_SERVER_ERROR","original":{"line":82,"column":100},"generated":{"line":1,"column":1854}},{"source":"routes/message_route.js","name":"INTERNAL_SERVER_ERROR","original":{"line":82,"column":100},"generated":{"line":1,"column":1862}},{"source":"routes/message_route.js","name":"err","original":{"line":82,"column":123},"generated":{"line":1,"column":1884}},{"source":"routes/message_route.js","name":"message","original":{"line":82,"column":127},"generated":{"line":1,"column":1886}},{"source":"routes/message_route.js","name":"err","original":{"line":82,"column":136},"generated":{"line":1,"column":1894}},{"source":"routes/message_route.js","name":"err","original":{"line":86,"column":12},"generated":{"line":1,"column":1901}},{"source":"routes/message_route.js","name":"error","original":{"line":87,"column":24},"generated":{"line":1,"column":1905}},{"source":"routes/message_route.js","name":"error","original":{"line":87,"column":24},"generated":{"line":1,"column":1907}},{"source":"routes/message_route.js","name":"error","original":{"line":87,"column":24},"generated":{"line":1,"column":1915}},{"source":"routes/message_route.js","name":"err","original":{"line":87,"column":30},"generated":{"line":1,"column":1921}},{"source":"routes/message_route.js","name":"res","original":{"line":88,"column":16},"generated":{"line":1,"column":1924}},{"source":"routes/message_route.js","name":"status","original":{"line":88,"column":20},"generated":{"line":1,"column":1926}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":88,"column":27},"generated":{"line":1,"column":1933}},{"source":"routes/message_route.js","name":"INTERNAL_SERVER_ERROR","original":{"line":88,"column":38},"generated":{"line":1,"column":1935}},{"source":"routes/message_route.js","name":"INTERNAL_SERVER_ERROR","original":{"line":88,"column":38},"generated":{"line":1,"column":1943}},{"source":"routes/message_route.js","name":"json","original":{"line":88,"column":61},"generated":{"line":1,"column":1966}},{"source":"routes/message_route.js","original":{"line":88,"column":66},"generated":{"line":1,"column":1972}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":88,"column":81},"generated":{"line":1,"column":1974}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":88,"column":81},"generated":{"line":1,"column":1976}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":88,"column":81},"generated":{"line":1,"column":1992}},{"source":"routes/message_route.js","name":"INTERNAL_SERVER_ERROR","original":{"line":88,"column":92},"generated":{"line":1,"column":1994}},{"source":"routes/message_route.js","name":"INTERNAL_SERVER_ERROR","original":{"line":88,"column":92},"generated":{"line":1,"column":2002}},{"source":"routes/message_route.js","name":"err","original":{"line":88,"column":115},"generated":{"line":1,"column":2024}},{"source":"routes/message_route.js","name":"message","original":{"line":88,"column":119},"generated":{"line":1,"column":2026}},{"source":"routes/message_route.js","name":"err","original":{"line":88,"column":128},"generated":{"line":1,"column":2034}},{"source":"routes/message_route.js","name":"router","original":{"line":95,"column":0},"generated":{"line":1,"column":2042}},{"source":"routes/message_route.js","name":"get","original":{"line":95,"column":7},"generated":{"line":1,"column":2044}},{"source":"routes/message_route.js","original":{"line":95,"column":11},"generated":{"line":1,"column":2048}},{"source":"routes/message_route.js","original":{"line":95,"column":37},"generated":{"line":1,"column":2073}},{"source":"routes/message_route.js","name":"req","original":{"line":95,"column":38},"generated":{"line":1,"column":2074}},{"source":"routes/message_route.js","name":"res","original":{"line":95,"column":43},"generated":{"line":1,"column":2076}},{"source":"routes/message_route.js","name":"sender","original":{"line":96,"column":10},"generated":{"line":1,"column":2081}},{"source":"routes/message_route.js","name":"sender","original":{"line":96,"column":10},"generated":{"line":1,"column":2087}},{"source":"routes/message_route.js","name":"req","original":{"line":96,"column":19},"generated":{"line":1,"column":2089}},{"source":"routes/message_route.js","name":"params","original":{"line":96,"column":23},"generated":{"line":1,"column":2091}},{"source":"routes/message_route.js","name":"sender","original":{"line":96,"column":30},"generated":{"line":1,"column":2098}},{"source":"routes/message_route.js","name":"validation","original":{"line":97,"column":8},"generated":{"line":1,"column":2105}},{"source":"routes/message_route.js","name":"validation","original":{"line":97,"column":8},"generated":{"line":1,"column":2109}},{"source":"routes/message_route.js","original":{"line":97,"column":21},"generated":{"line":1,"column":2112}},{"source":"routes/message_route.js","name":"validate","original":{"line":97,"column":33},"generated":{"line":1,"column":2114}},{"source":"routes/message_route.js","name":"validate","original":{"line":97,"column":33},"generated":{"line":1,"column":2116}},{"source":"routes/message_route.js","name":"validate","original":{"line":97,"column":33},"generated":{"line":1,"column":2127}},{"source":"routes/message_route.js","name":"sender","original":{"line":97,"column":42},"generated":{"line":1,"column":2136}},{"source":"routes/message_route.js","name":"isNotEmpty","original":{"line":97,"column":50},"generated":{"line":1,"column":2139}},{"source":"routes/message_route.js","name":"and","original":{"line":97,"column":63},"generated":{"line":1,"column":2152}},{"source":"routes/message_route.js","name":"isMongoObjectId","original":{"line":97,"column":67},"generated":{"line":1,"column":2156}},{"source":"routes/message_route.js","name":"paging","original":{"line":99,"column":10},"generated":{"line":1,"column":2174}},{"source":"routes/message_route.js","name":"paging","original":{"line":99,"column":10},"generated":{"line":1,"column":2180}},{"source":"routes/message_route.js","original":{"line":99,"column":19},"generated":{"line":1,"column":2183}},{"source":"routes/message_route.js","name":"req","original":{"line":99,"column":32},"generated":{"line":1,"column":2185}},{"source":"routes/message_route.js","name":"req","original":{"line":99,"column":32},"generated":{"line":1,"column":2187}},{"source":"routes/message_route.js","name":"req","original":{"line":99,"column":32},"generated":{"line":1,"column":2201}},{"source":"routes/message_route.js","name":"paging","original":{"line":100,"column":4},"generated":{"line":1,"column":2204}},{"source":"routes/message_route.js","name":"filter","original":{"line":100,"column":11},"generated":{"line":1,"column":2206}},{"source":"routes/message_route.js","original":{"line":100,"column":20},"generated":{"line":1,"column":2213}},{"source":"routes/message_route.js","name":"from","original":{"line":100,"column":22},"generated":{"line":1,"column":2214}},{"source":"routes/message_route.js","name":"sender","original":{"line":100,"column":28},"generated":{"line":1,"column":2219}},{"source":"routes/message_route.js","name":"validation","original":{"line":102,"column":8},"generated":{"line":1,"column":2222}},{"source":"routes/message_route.js","name":"hasErrors","original":{"line":102,"column":19},"generated":{"line":1,"column":2224}},{"source":"routes/message_route.js","name":"res","original":{"line":103,"column":8},"generated":{"line":1,"column":2236}},{"source":"routes/message_route.js","name":"status","original":{"line":103,"column":12},"generated":{"line":1,"column":2238}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":103,"column":19},"generated":{"line":1,"column":2245}},{"source":"routes/message_route.js","name":"BAD_REQUEST","original":{"line":103,"column":30},"generated":{"line":1,"column":2247}},{"source":"routes/message_route.js","name":"BAD_REQUEST","original":{"line":103,"column":30},"generated":{"line":1,"column":2255}},{"source":"routes/message_route.js","name":"json","original":{"line":103,"column":43},"generated":{"line":1,"column":2268}},{"source":"routes/message_route.js","original":{"line":103,"column":48},"generated":{"line":1,"column":2274}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":103,"column":63},"generated":{"line":1,"column":2276}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":103,"column":63},"generated":{"line":1,"column":2278}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":103,"column":63},"generated":{"line":1,"column":2294}},{"source":"routes/message_route.js","name":"BAD_REQUEST","original":{"line":103,"column":74},"generated":{"line":1,"column":2296}},{"source":"routes/message_route.js","name":"BAD_REQUEST","original":{"line":103,"column":74},"generated":{"line":1,"column":2304}},{"source":"routes/message_route.js","name":"VALIDATION_MSG","original":{"line":103,"column":87},"generated":{"line":1,"column":2316}},{"source":"routes/message_route.js","name":"validation","original":{"line":103,"column":103},"generated":{"line":1,"column":2318}},{"source":"routes/message_route.js","name":"getErrors","original":{"line":103,"column":114},"generated":{"line":1,"column":2320}},{"source":"routes/message_route.js","name":"mgaccess","original":{"line":105,"column":8},"generated":{"line":1,"column":2334}},{"source":"routes/message_route.js","name":"get_connection","original":{"line":105,"column":17},"generated":{"line":1,"column":2336}},{"source":"routes/message_route.js","name":"common","original":{"line":105,"column":32},"generated":{"line":1,"column":2351}},{"source":"routes/message_route.js","name":"database_uri","original":{"line":105,"column":39},"generated":{"line":1,"column":2353}},{"source":"routes/message_route.js","name":"database_uri","original":{"line":105,"column":39},"generated":{"line":1,"column":2361}},{"source":"routes/message_route.js","name":"database_name","original":{"line":105,"column":53},"generated":{"line":1,"column":2374}},{"source":"routes/message_route.js","name":"options","original":{"line":105,"column":68},"generated":{"line":1,"column":2376}},{"source":"routes/message_route.js","original":{"line":105,"column":8},"generated":{"line":1,"column":2378}},{"source":"routes/message_route.js","name":"then","original":{"line":105,"column":77},"generated":{"line":1,"column":2387}},{"source":"routes/message_route.js","name":"db","original":{"line":106,"column":12},"generated":{"line":1,"column":2392}},{"source":"routes/message_route.js","original":{"line":107,"column":39},"generated":{"line":1,"column":2396}},{"source":"routes/message_route.js","name":"result","original":{"line":109,"column":27},"generated":{"line":1,"column":2407}},{"source":"routes/message_route.js","name":"mgaccess","original":{"line":108,"column":39},"generated":{"line":1,"column":2420}},{"source":"routes/message_route.js","name":"getlist","original":{"line":108,"column":48},"generated":{"line":1,"column":2422}},{"source":"routes/message_route.js","name":"db","original":{"line":108,"column":56},"generated":{"line":1,"column":2430}},{"source":"routes/message_route.js","original":{"line":15,"column":21},"generated":{"line":1,"column":2432}},{"source":"routes/message_route.js","name":"paging","original":{"line":108,"column":74},"generated":{"line":1,"column":2443}},{"source":"routes/message_route.js","name":"invoke_getlist","original":{"line":112,"column":16},"generated":{"line":1,"column":2447}},{"source":"routes/message_route.js","name":"then","original":{"line":112,"column":33},"generated":{"line":1,"column":2450}},{"source":"routes/message_route.js","name":"messages","original":{"line":113,"column":20},"generated":{"line":1,"column":2455}},{"source":"routes/message_route.js","name":"res","original":{"line":114,"column":24},"generated":{"line":1,"column":2459}},{"source":"routes/message_route.js","name":"status","original":{"line":114,"column":28},"generated":{"line":1,"column":2461}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":114,"column":35},"generated":{"line":1,"column":2468}},{"source":"routes/message_route.js","name":"OK","original":{"line":114,"column":46},"generated":{"line":1,"column":2470}},{"source":"routes/message_route.js","name":"OK","original":{"line":114,"column":46},"generated":{"line":1,"column":2478}},{"source":"routes/message_route.js","name":"json","original":{"line":114,"column":50},"generated":{"line":1,"column":2482}},{"source":"routes/message_route.js","original":{"line":114,"column":55},"generated":{"line":1,"column":2488}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":114,"column":70},"generated":{"line":1,"column":2490}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":114,"column":70},"generated":{"line":1,"column":2492}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":114,"column":70},"generated":{"line":1,"column":2508}},{"source":"routes/message_route.js","name":"OK","original":{"line":114,"column":81},"generated":{"line":1,"column":2510}},{"source":"routes/message_route.js","name":"OK","original":{"line":114,"column":81},"generated":{"line":1,"column":2518}},{"source":"routes/message_route.js","original":{"line":114,"column":85},"generated":{"line":1,"column":2521}},{"source":"routes/message_route.js","name":"messages","original":{"line":114,"column":89},"generated":{"line":1,"column":2524}},{"source":"routes/message_route.js","name":"err","original":{"line":116,"column":20},"generated":{"line":1,"column":2529}},{"source":"routes/message_route.js","name":"error","original":{"line":117,"column":32},"generated":{"line":1,"column":2533}},{"source":"routes/message_route.js","name":"error","original":{"line":117,"column":32},"generated":{"line":1,"column":2535}},{"source":"routes/message_route.js","name":"error","original":{"line":117,"column":32},"generated":{"line":1,"column":2543}},{"source":"routes/message_route.js","name":"err","original":{"line":117,"column":38},"generated":{"line":1,"column":2549}},{"source":"routes/message_route.js","name":"res","original":{"line":118,"column":24},"generated":{"line":1,"column":2552}},{"source":"routes/message_route.js","name":"status","original":{"line":118,"column":28},"generated":{"line":1,"column":2554}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":118,"column":35},"generated":{"line":1,"column":2561}},{"source":"routes/message_route.js","name":"INTERNAL_SERVER_ERROR","original":{"line":118,"column":46},"generated":{"line":1,"column":2563}},{"source":"routes/message_route.js","name":"INTERNAL_SERVER_ERROR","original":{"line":118,"column":46},"generated":{"line":1,"column":2571}},{"source":"routes/message_route.js","name":"json","original":{"line":118,"column":69},"generated":{"line":1,"column":2594}},{"source":"routes/message_route.js","original":{"line":118,"column":74},"generated":{"line":1,"column":2600}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":118,"column":89},"generated":{"line":1,"column":2602}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":118,"column":89},"generated":{"line":1,"column":2604}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":118,"column":89},"generated":{"line":1,"column":2620}},{"source":"routes/message_route.js","name":"INTERNAL_SERVER_ERROR","original":{"line":118,"column":100},"generated":{"line":1,"column":2622}},{"source":"routes/message_route.js","name":"INTERNAL_SERVER_ERROR","original":{"line":118,"column":100},"generated":{"line":1,"column":2630}},{"source":"routes/message_route.js","name":"err","original":{"line":118,"column":123},"generated":{"line":1,"column":2652}},{"source":"routes/message_route.js","name":"message","original":{"line":118,"column":127},"generated":{"line":1,"column":2654}},{"source":"routes/message_route.js","name":"err","original":{"line":118,"column":136},"generated":{"line":1,"column":2662}},{"source":"routes/message_route.js","name":"err","original":{"line":122,"column":12},"generated":{"line":1,"column":2669}},{"source":"routes/message_route.js","name":"error","original":{"line":123,"column":24},"generated":{"line":1,"column":2673}},{"source":"routes/message_route.js","name":"error","original":{"line":123,"column":24},"generated":{"line":1,"column":2675}},{"source":"routes/message_route.js","name":"error","original":{"line":123,"column":24},"generated":{"line":1,"column":2683}},{"source":"routes/message_route.js","name":"err","original":{"line":123,"column":30},"generated":{"line":1,"column":2689}},{"source":"routes/message_route.js","name":"res","original":{"line":124,"column":16},"generated":{"line":1,"column":2692}},{"source":"routes/message_route.js","name":"status","original":{"line":124,"column":20},"generated":{"line":1,"column":2694}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":124,"column":27},"generated":{"line":1,"column":2701}},{"source":"routes/message_route.js","name":"INTERNAL_SERVER_ERROR","original":{"line":124,"column":38},"generated":{"line":1,"column":2703}},{"source":"routes/message_route.js","name":"INTERNAL_SERVER_ERROR","original":{"line":124,"column":38},"generated":{"line":1,"column":2711}},{"source":"routes/message_route.js","name":"json","original":{"line":124,"column":61},"generated":{"line":1,"column":2734}},{"source":"routes/message_route.js","original":{"line":124,"column":66},"generated":{"line":1,"column":2740}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":124,"column":81},"generated":{"line":1,"column":2742}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":124,"column":81},"generated":{"line":1,"column":2744}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":124,"column":81},"generated":{"line":1,"column":2760}},{"source":"routes/message_route.js","name":"INTERNAL_SERVER_ERROR","original":{"line":124,"column":92},"generated":{"line":1,"column":2762}},{"source":"routes/message_route.js","name":"INTERNAL_SERVER_ERROR","original":{"line":124,"column":92},"generated":{"line":1,"column":2770}},{"source":"routes/message_route.js","name":"err","original":{"line":124,"column":115},"generated":{"line":1,"column":2792}},{"source":"routes/message_route.js","name":"message","original":{"line":124,"column":119},"generated":{"line":1,"column":2794}},{"source":"routes/message_route.js","name":"err","original":{"line":124,"column":128},"generated":{"line":1,"column":2802}},{"source":"routes/message_route.js","name":"router","original":{"line":131,"column":0},"generated":{"line":1,"column":2810}},{"source":"routes/message_route.js","name":"get","original":{"line":131,"column":7},"generated":{"line":1,"column":2812}},{"source":"routes/message_route.js","original":{"line":131,"column":11},"generated":{"line":1,"column":2816}},{"source":"routes/message_route.js","original":{"line":131,"column":33},"generated":{"line":1,"column":2837}},{"source":"routes/message_route.js","name":"req","original":{"line":131,"column":34},"generated":{"line":1,"column":2838}},{"source":"routes/message_route.js","name":"res","original":{"line":131,"column":39},"generated":{"line":1,"column":2840}},{"source":"routes/message_route.js","name":"id","original":{"line":132,"column":10},"generated":{"line":1,"column":2845}},{"source":"routes/message_route.js","name":"id","original":{"line":132,"column":10},"generated":{"line":1,"column":2851}},{"source":"routes/message_route.js","name":"req","original":{"line":132,"column":15},"generated":{"line":1,"column":2853}},{"source":"routes/message_route.js","name":"params","original":{"line":132,"column":19},"generated":{"line":1,"column":2855}},{"source":"routes/message_route.js","name":"id","original":{"line":132,"column":26},"generated":{"line":1,"column":2862}},{"source":"routes/message_route.js","name":"validation","original":{"line":133,"column":8},"generated":{"line":1,"column":2865}},{"source":"routes/message_route.js","name":"validation","original":{"line":133,"column":8},"generated":{"line":1,"column":2869}},{"source":"routes/message_route.js","original":{"line":133,"column":21},"generated":{"line":1,"column":2872}},{"source":"routes/message_route.js","name":"validate","original":{"line":133,"column":33},"generated":{"line":1,"column":2874}},{"source":"routes/message_route.js","name":"validate","original":{"line":133,"column":33},"generated":{"line":1,"column":2876}},{"source":"routes/message_route.js","name":"validate","original":{"line":133,"column":33},"generated":{"line":1,"column":2887}},{"source":"routes/message_route.js","name":"id","original":{"line":133,"column":42},"generated":{"line":1,"column":2896}},{"source":"routes/message_route.js","name":"isNotNull","original":{"line":133,"column":46},"generated":{"line":1,"column":2899}},{"source":"routes/message_route.js","name":"and","original":{"line":133,"column":58},"generated":{"line":1,"column":2911}},{"source":"routes/message_route.js","name":"isNotEmpty","original":{"line":133,"column":62},"generated":{"line":1,"column":2915}},{"source":"routes/message_route.js","name":"and","original":{"line":133,"column":75},"generated":{"line":1,"column":2928}},{"source":"routes/message_route.js","name":"isMongoObjectId","original":{"line":133,"column":79},"generated":{"line":1,"column":2932}},{"source":"routes/message_route.js","name":"paging","original":{"line":135,"column":10},"generated":{"line":1,"column":2950}},{"source":"routes/message_route.js","name":"paging","original":{"line":135,"column":10},"generated":{"line":1,"column":2956}},{"source":"routes/message_route.js","original":{"line":135,"column":19},"generated":{"line":1,"column":2959}},{"source":"routes/message_route.js","name":"req","original":{"line":135,"column":32},"generated":{"line":1,"column":2961}},{"source":"routes/message_route.js","name":"req","original":{"line":135,"column":32},"generated":{"line":1,"column":2963}},{"source":"routes/message_route.js","name":"req","original":{"line":135,"column":32},"generated":{"line":1,"column":2977}},{"source":"routes/message_route.js","name":"paging","original":{"line":136,"column":4},"generated":{"line":1,"column":2980}},{"source":"routes/message_route.js","name":"filter","original":{"line":136,"column":11},"generated":{"line":1,"column":2982}},{"source":"routes/message_route.js","original":{"line":136,"column":20},"generated":{"line":1,"column":2989}},{"source":"routes/message_route.js","name":"id","original":{"line":136,"column":30},"generated":{"line":1,"column":2990}},{"source":"routes/message_route.js","name":"id","original":{"line":136,"column":30},"generated":{"line":1,"column":2995}},{"source":"routes/message_route.js","name":"validation","original":{"line":138,"column":8},"generated":{"line":1,"column":2998}},{"source":"routes/message_route.js","name":"hasErrors","original":{"line":138,"column":19},"generated":{"line":1,"column":3000}},{"source":"routes/message_route.js","name":"res","original":{"line":139,"column":8},"generated":{"line":1,"column":3012}},{"source":"routes/message_route.js","name":"status","original":{"line":139,"column":12},"generated":{"line":1,"column":3014}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":139,"column":19},"generated":{"line":1,"column":3021}},{"source":"routes/message_route.js","name":"BAD_REQUEST","original":{"line":139,"column":30},"generated":{"line":1,"column":3023}},{"source":"routes/message_route.js","name":"BAD_REQUEST","original":{"line":139,"column":30},"generated":{"line":1,"column":3031}},{"source":"routes/message_route.js","name":"json","original":{"line":139,"column":43},"generated":{"line":1,"column":3044}},{"source":"routes/message_route.js","original":{"line":139,"column":48},"generated":{"line":1,"column":3050}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":139,"column":63},"generated":{"line":1,"column":3052}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":139,"column":63},"generated":{"line":1,"column":3054}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":139,"column":63},"generated":{"line":1,"column":3070}},{"source":"routes/message_route.js","name":"BAD_REQUEST","original":{"line":139,"column":74},"generated":{"line":1,"column":3072}},{"source":"routes/message_route.js","name":"BAD_REQUEST","original":{"line":139,"column":74},"generated":{"line":1,"column":3080}},{"source":"routes/message_route.js","name":"VALIDATION_MSG","original":{"line":139,"column":87},"generated":{"line":1,"column":3092}},{"source":"routes/message_route.js","name":"validation","original":{"line":139,"column":103},"generated":{"line":1,"column":3094}},{"source":"routes/message_route.js","name":"getErrors","original":{"line":139,"column":114},"generated":{"line":1,"column":3096}},{"source":"routes/message_route.js","name":"mgaccess","original":{"line":141,"column":8},"generated":{"line":1,"column":3110}},{"source":"routes/message_route.js","name":"get_connection","original":{"line":141,"column":17},"generated":{"line":1,"column":3112}},{"source":"routes/message_route.js","name":"common","original":{"line":141,"column":32},"generated":{"line":1,"column":3127}},{"source":"routes/message_route.js","name":"database_uri","original":{"line":141,"column":39},"generated":{"line":1,"column":3129}},{"source":"routes/message_route.js","name":"database_uri","original":{"line":141,"column":39},"generated":{"line":1,"column":3137}},{"source":"routes/message_route.js","name":"database_name","original":{"line":141,"column":53},"generated":{"line":1,"column":3150}},{"source":"routes/message_route.js","name":"options","original":{"line":141,"column":68},"generated":{"line":1,"column":3152}},{"source":"routes/message_route.js","original":{"line":141,"column":8},"generated":{"line":1,"column":3154}},{"source":"routes/message_route.js","name":"then","original":{"line":141,"column":77},"generated":{"line":1,"column":3163}},{"source":"routes/message_route.js","name":"db","original":{"line":142,"column":12},"generated":{"line":1,"column":3168}},{"source":"routes/message_route.js","original":{"line":143,"column":39},"generated":{"line":1,"column":3172}},{"source":"routes/message_route.js","name":"result","original":{"line":145,"column":27},"generated":{"line":1,"column":3183}},{"source":"routes/message_route.js","name":"mgaccess","original":{"line":144,"column":39},"generated":{"line":1,"column":3196}},{"source":"routes/message_route.js","name":"getlist","original":{"line":144,"column":48},"generated":{"line":1,"column":3198}},{"source":"routes/message_route.js","name":"db","original":{"line":144,"column":56},"generated":{"line":1,"column":3206}},{"source":"routes/message_route.js","original":{"line":15,"column":21},"generated":{"line":1,"column":3208}},{"source":"routes/message_route.js","name":"paging","original":{"line":144,"column":74},"generated":{"line":1,"column":3219}},{"source":"routes/message_route.js","name":"invoke_getlist","original":{"line":148,"column":16},"generated":{"line":1,"column":3223}},{"source":"routes/message_route.js","name":"then","original":{"line":148,"column":33},"generated":{"line":1,"column":3226}},{"source":"routes/message_route.js","name":"messages","original":{"line":149,"column":20},"generated":{"line":1,"column":3231}},{"source":"routes/message_route.js","name":"res","original":{"line":150,"column":24},"generated":{"line":1,"column":3235}},{"source":"routes/message_route.js","name":"status","original":{"line":150,"column":28},"generated":{"line":1,"column":3237}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":150,"column":35},"generated":{"line":1,"column":3244}},{"source":"routes/message_route.js","name":"OK","original":{"line":150,"column":46},"generated":{"line":1,"column":3246}},{"source":"routes/message_route.js","name":"OK","original":{"line":150,"column":46},"generated":{"line":1,"column":3254}},{"source":"routes/message_route.js","name":"json","original":{"line":150,"column":50},"generated":{"line":1,"column":3258}},{"source":"routes/message_route.js","original":{"line":150,"column":55},"generated":{"line":1,"column":3264}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":150,"column":70},"generated":{"line":1,"column":3266}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":150,"column":70},"generated":{"line":1,"column":3268}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":150,"column":70},"generated":{"line":1,"column":3284}},{"source":"routes/message_route.js","name":"OK","original":{"line":150,"column":81},"generated":{"line":1,"column":3286}},{"source":"routes/message_route.js","name":"OK","original":{"line":150,"column":81},"generated":{"line":1,"column":3294}},{"source":"routes/message_route.js","original":{"line":150,"column":85},"generated":{"line":1,"column":3297}},{"source":"routes/message_route.js","name":"messages","original":{"line":150,"column":89},"generated":{"line":1,"column":3300}},{"source":"routes/message_route.js","name":"err","original":{"line":152,"column":20},"generated":{"line":1,"column":3305}},{"source":"routes/message_route.js","name":"error","original":{"line":153,"column":32},"generated":{"line":1,"column":3309}},{"source":"routes/message_route.js","name":"error","original":{"line":153,"column":32},"generated":{"line":1,"column":3311}},{"source":"routes/message_route.js","name":"error","original":{"line":153,"column":32},"generated":{"line":1,"column":3319}},{"source":"routes/message_route.js","name":"err","original":{"line":153,"column":38},"generated":{"line":1,"column":3325}},{"source":"routes/message_route.js","name":"res","original":{"line":154,"column":24},"generated":{"line":1,"column":3328}},{"source":"routes/message_route.js","name":"status","original":{"line":154,"column":28},"generated":{"line":1,"column":3330}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":154,"column":35},"generated":{"line":1,"column":3337}},{"source":"routes/message_route.js","name":"INTERNAL_SERVER_ERROR","original":{"line":154,"column":46},"generated":{"line":1,"column":3339}},{"source":"routes/message_route.js","name":"INTERNAL_SERVER_ERROR","original":{"line":154,"column":46},"generated":{"line":1,"column":3347}},{"source":"routes/message_route.js","name":"json","original":{"line":154,"column":69},"generated":{"line":1,"column":3370}},{"source":"routes/message_route.js","original":{"line":154,"column":74},"generated":{"line":1,"column":3376}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":154,"column":89},"generated":{"line":1,"column":3378}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":154,"column":89},"generated":{"line":1,"column":3380}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":154,"column":89},"generated":{"line":1,"column":3396}},{"source":"routes/message_route.js","name":"INTERNAL_SERVER_ERROR","original":{"line":154,"column":100},"generated":{"line":1,"column":3398}},{"source":"routes/message_route.js","name":"INTERNAL_SERVER_ERROR","original":{"line":154,"column":100},"generated":{"line":1,"column":3406}},{"source":"routes/message_route.js","name":"err","original":{"line":154,"column":123},"generated":{"line":1,"column":3428}},{"source":"routes/message_route.js","name":"message","original":{"line":154,"column":127},"generated":{"line":1,"column":3430}},{"source":"routes/message_route.js","name":"err","original":{"line":154,"column":136},"generated":{"line":1,"column":3438}},{"source":"routes/message_route.js","name":"err","original":{"line":158,"column":12},"generated":{"line":1,"column":3445}},{"source":"routes/message_route.js","name":"error","original":{"line":159,"column":24},"generated":{"line":1,"column":3449}},{"source":"routes/message_route.js","name":"error","original":{"line":159,"column":24},"generated":{"line":1,"column":3451}},{"source":"routes/message_route.js","name":"error","original":{"line":159,"column":24},"generated":{"line":1,"column":3459}},{"source":"routes/message_route.js","name":"err","original":{"line":159,"column":30},"generated":{"line":1,"column":3465}},{"source":"routes/message_route.js","name":"res","original":{"line":160,"column":16},"generated":{"line":1,"column":3468}},{"source":"routes/message_route.js","name":"status","original":{"line":160,"column":20},"generated":{"line":1,"column":3470}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":160,"column":27},"generated":{"line":1,"column":3477}},{"source":"routes/message_route.js","name":"INTERNAL_SERVER_ERROR","original":{"line":160,"column":38},"generated":{"line":1,"column":3479}},{"source":"routes/message_route.js","name":"INTERNAL_SERVER_ERROR","original":{"line":160,"column":38},"generated":{"line":1,"column":3487}},{"source":"routes/message_route.js","name":"json","original":{"line":160,"column":61},"generated":{"line":1,"column":3510}},{"source":"routes/message_route.js","original":{"line":160,"column":66},"generated":{"line":1,"column":3516}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":160,"column":81},"generated":{"line":1,"column":3518}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":160,"column":81},"generated":{"line":1,"column":3520}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":160,"column":81},"generated":{"line":1,"column":3536}},{"source":"routes/message_route.js","name":"INTERNAL_SERVER_ERROR","original":{"line":160,"column":92},"generated":{"line":1,"column":3538}},{"source":"routes/message_route.js","name":"INTERNAL_SERVER_ERROR","original":{"line":160,"column":92},"generated":{"line":1,"column":3546}},{"source":"routes/message_route.js","name":"err","original":{"line":160,"column":115},"generated":{"line":1,"column":3568}},{"source":"routes/message_route.js","name":"message","original":{"line":160,"column":119},"generated":{"line":1,"column":3570}},{"source":"routes/message_route.js","name":"err","original":{"line":160,"column":128},"generated":{"line":1,"column":3578}},{"source":"routes/message_route.js","name":"router","original":{"line":167,"column":0},"generated":{"line":1,"column":3586}},{"source":"routes/message_route.js","name":"post","original":{"line":167,"column":7},"generated":{"line":1,"column":3588}},{"source":"routes/message_route.js","original":{"line":167,"column":12},"generated":{"line":1,"column":3593}},{"source":"routes/message_route.js","original":{"line":167,"column":34},"generated":{"line":1,"column":3614}},{"source":"routes/message_route.js","name":"req","original":{"line":167,"column":35},"generated":{"line":1,"column":3615}},{"source":"routes/message_route.js","name":"res","original":{"line":167,"column":40},"generated":{"line":1,"column":3617}},{"source":"routes/message_route.js","name":"message","original":{"line":168,"column":10},"generated":{"line":1,"column":3622}},{"source":"routes/message_route.js","name":"message","original":{"line":168,"column":10},"generated":{"line":1,"column":3628}},{"source":"routes/message_route.js","name":"req","original":{"line":168,"column":20},"generated":{"line":1,"column":3630}},{"source":"routes/message_route.js","name":"body","original":{"line":168,"column":24},"generated":{"line":1,"column":3632}},{"source":"routes/message_route.js","name":"validation","original":{"line":169,"column":10},"generated":{"line":1,"column":3637}},{"source":"routes/message_route.js","name":"validateMessage","original":{"line":169,"column":23},"generated":{"line":1,"column":3639}},{"source":"routes/message_route.js","name":"message","original":{"line":169,"column":39},"generated":{"line":1,"column":3641}},{"source":"routes/message_route.js","name":"id","original":{"line":171,"column":10},"generated":{"line":1,"column":3644}},{"source":"routes/message_route.js","name":"req","original":{"line":171,"column":15},"generated":{"line":1,"column":3646}},{"source":"routes/message_route.js","name":"params","original":{"line":171,"column":19},"generated":{"line":1,"column":3648}},{"source":"routes/message_route.js","name":"id","original":{"line":171,"column":26},"generated":{"line":1,"column":3655}},{"source":"routes/message_route.js","name":"validation","original":{"line":172,"column":4},"generated":{"line":1,"column":3658}},{"source":"routes/message_route.js","name":"validate","original":{"line":172,"column":15},"generated":{"line":1,"column":3660}},{"source":"routes/message_route.js","name":"id","original":{"line":172,"column":24},"generated":{"line":1,"column":3669}},{"source":"routes/message_route.js","name":"isNotEmpty","original":{"line":172,"column":28},"generated":{"line":1,"column":3672}},{"source":"routes/message_route.js","name":"isMongoObjectId","original":{"line":172,"column":41},"generated":{"line":1,"column":3685}},{"source":"routes/message_route.js","name":"validation","original":{"line":174,"column":8},"generated":{"line":1,"column":3703}},{"source":"routes/message_route.js","name":"hasErrors","original":{"line":174,"column":19},"generated":{"line":1,"column":3705}},{"source":"routes/message_route.js","name":"res","original":{"line":175,"column":8},"generated":{"line":1,"column":3717}},{"source":"routes/message_route.js","name":"status","original":{"line":175,"column":12},"generated":{"line":1,"column":3719}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":175,"column":19},"generated":{"line":1,"column":3726}},{"source":"routes/message_route.js","name":"BAD_REQUEST","original":{"line":175,"column":30},"generated":{"line":1,"column":3728}},{"source":"routes/message_route.js","name":"BAD_REQUEST","original":{"line":175,"column":30},"generated":{"line":1,"column":3736}},{"source":"routes/message_route.js","name":"json","original":{"line":175,"column":43},"generated":{"line":1,"column":3749}},{"source":"routes/message_route.js","original":{"line":175,"column":48},"generated":{"line":1,"column":3755}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":175,"column":63},"generated":{"line":1,"column":3757}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":175,"column":63},"generated":{"line":1,"column":3759}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":175,"column":63},"generated":{"line":1,"column":3775}},{"source":"routes/message_route.js","name":"BAD_REQUEST","original":{"line":175,"column":74},"generated":{"line":1,"column":3777}},{"source":"routes/message_route.js","name":"BAD_REQUEST","original":{"line":175,"column":74},"generated":{"line":1,"column":3785}},{"source":"routes/message_route.js","name":"VALIDATION_MSG","original":{"line":175,"column":87},"generated":{"line":1,"column":3797}},{"source":"routes/message_route.js","name":"validation","original":{"line":175,"column":103},"generated":{"line":1,"column":3799}},{"source":"routes/message_route.js","name":"getErrors","original":{"line":175,"column":114},"generated":{"line":1,"column":3801}},{"source":"routes/message_route.js","name":"message","original":{"line":178,"column":8},"generated":{"line":1,"column":3816}},{"source":"routes/message_route.js","name":"task","original":{"line":178,"column":16},"generated":{"line":1,"column":3818}},{"source":"routes/message_route.js","name":"id","original":{"line":178,"column":23},"generated":{"line":1,"column":3823}},{"source":"routes/message_route.js","name":"message","original":{"line":179,"column":8},"generated":{"line":1,"column":3825}},{"source":"routes/message_route.js","name":"isRead","original":{"line":179,"column":16},"generated":{"line":1,"column":3827}},{"source":"routes/message_route.js","original":{"line":179,"column":25},"generated":{"line":1,"column":3835}},{"source":"routes/message_route.js","name":"message","original":{"line":180,"column":8},"generated":{"line":1,"column":3837}},{"source":"routes/message_route.js","name":"sentdate","original":{"line":180,"column":16},"generated":{"line":1,"column":3839}},{"source":"routes/message_route.js","original":{"line":180,"column":27},"generated":{"line":1,"column":3848}},{"source":"routes/message_route.js","name":"Date","original":{"line":180,"column":31},"generated":{"line":1,"column":3852}},{"source":"routes/message_route.js","name":"mgaccess","original":{"line":182,"column":8},"generated":{"line":1,"column":3857}},{"source":"routes/message_route.js","name":"get_connection","original":{"line":182,"column":17},"generated":{"line":1,"column":3859}},{"source":"routes/message_route.js","name":"common","original":{"line":182,"column":32},"generated":{"line":1,"column":3874}},{"source":"routes/message_route.js","name":"database_uri","original":{"line":182,"column":39},"generated":{"line":1,"column":3876}},{"source":"routes/message_route.js","name":"database_uri","original":{"line":182,"column":39},"generated":{"line":1,"column":3884}},{"source":"routes/message_route.js","name":"database_name","original":{"line":182,"column":53},"generated":{"line":1,"column":3897}},{"source":"routes/message_route.js","name":"options","original":{"line":182,"column":68},"generated":{"line":1,"column":3899}},{"source":"routes/message_route.js","original":{"line":182,"column":8},"generated":{"line":1,"column":3901}},{"source":"routes/message_route.js","name":"then","original":{"line":182,"column":77},"generated":{"line":1,"column":3910}},{"source":"routes/message_route.js","name":"db","original":{"line":183,"column":12},"generated":{"line":1,"column":3915}},{"source":"routes/message_route.js","original":{"line":184,"column":39},"generated":{"line":1,"column":3919}},{"source":"routes/message_route.js","name":"result","original":{"line":186,"column":27},"generated":{"line":1,"column":3930}},{"source":"routes/message_route.js","name":"mgaccess","original":{"line":185,"column":39},"generated":{"line":1,"column":3943}},{"source":"routes/message_route.js","name":"create","original":{"line":185,"column":48},"generated":{"line":1,"column":3945}},{"source":"routes/message_route.js","name":"db","original":{"line":185,"column":55},"generated":{"line":1,"column":3952}},{"source":"routes/message_route.js","original":{"line":15,"column":21},"generated":{"line":1,"column":3954}},{"source":"routes/message_route.js","name":"message","original":{"line":185,"column":73},"generated":{"line":1,"column":3965}},{"source":"routes/message_route.js","name":"invoke_getlist","original":{"line":189,"column":16},"generated":{"line":1,"column":3969}},{"source":"routes/message_route.js","name":"then","original":{"line":189,"column":33},"generated":{"line":1,"column":3972}},{"source":"routes/message_route.js","name":"message","original":{"line":190,"column":20},"generated":{"line":1,"column":3977}},{"source":"routes/message_route.js","name":"res","original":{"line":191,"column":24},"generated":{"line":1,"column":3981}},{"source":"routes/message_route.js","name":"status","original":{"line":191,"column":28},"generated":{"line":1,"column":3983}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":191,"column":35},"generated":{"line":1,"column":3990}},{"source":"routes/message_route.js","name":"OK","original":{"line":191,"column":46},"generated":{"line":1,"column":3992}},{"source":"routes/message_route.js","name":"OK","original":{"line":191,"column":46},"generated":{"line":1,"column":4000}},{"source":"routes/message_route.js","name":"json","original":{"line":191,"column":50},"generated":{"line":1,"column":4004}},{"source":"routes/message_route.js","original":{"line":191,"column":55},"generated":{"line":1,"column":4010}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":191,"column":70},"generated":{"line":1,"column":4012}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":191,"column":70},"generated":{"line":1,"column":4014}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":191,"column":70},"generated":{"line":1,"column":4030}},{"source":"routes/message_route.js","name":"OK","original":{"line":191,"column":81},"generated":{"line":1,"column":4032}},{"source":"routes/message_route.js","name":"OK","original":{"line":191,"column":81},"generated":{"line":1,"column":4040}},{"source":"routes/message_route.js","original":{"line":191,"column":85},"generated":{"line":1,"column":4043}},{"source":"routes/message_route.js","name":"message","original":{"line":191,"column":89},"generated":{"line":1,"column":4046}},{"source":"routes/message_route.js","name":"ops","original":{"line":191,"column":97},"generated":{"line":1,"column":4048}},{"source":"routes/message_route.js","original":{"line":191,"column":101},"generated":{"line":1,"column":4052}},{"source":"routes/message_route.js","name":"err","original":{"line":193,"column":20},"generated":{"line":1,"column":4058}},{"source":"routes/message_route.js","name":"error","original":{"line":194,"column":32},"generated":{"line":1,"column":4062}},{"source":"routes/message_route.js","name":"error","original":{"line":194,"column":32},"generated":{"line":1,"column":4064}},{"source":"routes/message_route.js","name":"error","original":{"line":194,"column":32},"generated":{"line":1,"column":4072}},{"source":"routes/message_route.js","name":"err","original":{"line":194,"column":38},"generated":{"line":1,"column":4078}},{"source":"routes/message_route.js","name":"res","original":{"line":195,"column":24},"generated":{"line":1,"column":4081}},{"source":"routes/message_route.js","name":"status","original":{"line":195,"column":28},"generated":{"line":1,"column":4083}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":195,"column":35},"generated":{"line":1,"column":4090}},{"source":"routes/message_route.js","name":"INTERNAL_SERVER_ERROR","original":{"line":195,"column":46},"generated":{"line":1,"column":4092}},{"source":"routes/message_route.js","name":"INTERNAL_SERVER_ERROR","original":{"line":195,"column":46},"generated":{"line":1,"column":4100}},{"source":"routes/message_route.js","name":"json","original":{"line":195,"column":69},"generated":{"line":1,"column":4123}},{"source":"routes/message_route.js","original":{"line":195,"column":74},"generated":{"line":1,"column":4129}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":195,"column":89},"generated":{"line":1,"column":4131}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":195,"column":89},"generated":{"line":1,"column":4133}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":195,"column":89},"generated":{"line":1,"column":4149}},{"source":"routes/message_route.js","name":"INTERNAL_SERVER_ERROR","original":{"line":195,"column":100},"generated":{"line":1,"column":4151}},{"source":"routes/message_route.js","name":"INTERNAL_SERVER_ERROR","original":{"line":195,"column":100},"generated":{"line":1,"column":4159}},{"source":"routes/message_route.js","name":"err","original":{"line":195,"column":123},"generated":{"line":1,"column":4181}},{"source":"routes/message_route.js","name":"message","original":{"line":195,"column":127},"generated":{"line":1,"column":4183}},{"source":"routes/message_route.js","name":"err","original":{"line":195,"column":136},"generated":{"line":1,"column":4191}},{"source":"routes/message_route.js","name":"err","original":{"line":199,"column":12},"generated":{"line":1,"column":4198}},{"source":"routes/message_route.js","name":"error","original":{"line":200,"column":24},"generated":{"line":1,"column":4202}},{"source":"routes/message_route.js","name":"error","original":{"line":200,"column":24},"generated":{"line":1,"column":4204}},{"source":"routes/message_route.js","name":"error","original":{"line":200,"column":24},"generated":{"line":1,"column":4212}},{"source":"routes/message_route.js","name":"err","original":{"line":200,"column":30},"generated":{"line":1,"column":4218}},{"source":"routes/message_route.js","name":"res","original":{"line":201,"column":16},"generated":{"line":1,"column":4221}},{"source":"routes/message_route.js","name":"status","original":{"line":201,"column":20},"generated":{"line":1,"column":4223}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":201,"column":27},"generated":{"line":1,"column":4230}},{"source":"routes/message_route.js","name":"INTERNAL_SERVER_ERROR","original":{"line":201,"column":38},"generated":{"line":1,"column":4232}},{"source":"routes/message_route.js","name":"INTERNAL_SERVER_ERROR","original":{"line":201,"column":38},"generated":{"line":1,"column":4240}},{"source":"routes/message_route.js","name":"json","original":{"line":201,"column":61},"generated":{"line":1,"column":4263}},{"source":"routes/message_route.js","original":{"line":201,"column":66},"generated":{"line":1,"column":4269}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":201,"column":81},"generated":{"line":1,"column":4271}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":201,"column":81},"generated":{"line":1,"column":4273}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":201,"column":81},"generated":{"line":1,"column":4289}},{"source":"routes/message_route.js","name":"INTERNAL_SERVER_ERROR","original":{"line":201,"column":92},"generated":{"line":1,"column":4291}},{"source":"routes/message_route.js","name":"INTERNAL_SERVER_ERROR","original":{"line":201,"column":92},"generated":{"line":1,"column":4299}},{"source":"routes/message_route.js","name":"err","original":{"line":201,"column":115},"generated":{"line":1,"column":4321}},{"source":"routes/message_route.js","name":"message","original":{"line":201,"column":119},"generated":{"line":1,"column":4323}},{"source":"routes/message_route.js","name":"err","original":{"line":201,"column":128},"generated":{"line":1,"column":4331}},{"source":"routes/message_route.js","name":"router","original":{"line":209,"column":0},"generated":{"line":1,"column":4340}},{"source":"routes/message_route.js","name":"post","original":{"line":209,"column":7},"generated":{"line":1,"column":4342}},{"source":"routes/message_route.js","original":{"line":209,"column":12},"generated":{"line":1,"column":4347}},{"source":"routes/message_route.js","original":{"line":209,"column":28},"generated":{"line":1,"column":4362}},{"source":"routes/message_route.js","name":"req","original":{"line":209,"column":29},"generated":{"line":1,"column":4363}},{"source":"routes/message_route.js","name":"res","original":{"line":209,"column":34},"generated":{"line":1,"column":4365}},{"source":"routes/message_route.js","name":"message","original":{"line":210,"column":10},"generated":{"line":1,"column":4370}},{"source":"routes/message_route.js","name":"message","original":{"line":210,"column":10},"generated":{"line":1,"column":4376}},{"source":"routes/message_route.js","name":"req","original":{"line":210,"column":20},"generated":{"line":1,"column":4378}},{"source":"routes/message_route.js","name":"body","original":{"line":210,"column":24},"generated":{"line":1,"column":4380}},{"source":"routes/message_route.js","name":"validation","original":{"line":211,"column":10},"generated":{"line":1,"column":4385}},{"source":"routes/message_route.js","name":"validateMessage","original":{"line":211,"column":23},"generated":{"line":1,"column":4387}},{"source":"routes/message_route.js","name":"message","original":{"line":211,"column":39},"generated":{"line":1,"column":4389}},{"source":"routes/message_route.js","name":"validation","original":{"line":213,"column":8},"generated":{"line":1,"column":4392}},{"source":"routes/message_route.js","name":"hasErrors","original":{"line":213,"column":19},"generated":{"line":1,"column":4394}},{"source":"routes/message_route.js","name":"res","original":{"line":214,"column":8},"generated":{"line":1,"column":4406}},{"source":"routes/message_route.js","name":"status","original":{"line":214,"column":12},"generated":{"line":1,"column":4408}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":214,"column":19},"generated":{"line":1,"column":4415}},{"source":"routes/message_route.js","name":"BAD_REQUEST","original":{"line":214,"column":30},"generated":{"line":1,"column":4417}},{"source":"routes/message_route.js","name":"BAD_REQUEST","original":{"line":214,"column":30},"generated":{"line":1,"column":4425}},{"source":"routes/message_route.js","name":"json","original":{"line":214,"column":43},"generated":{"line":1,"column":4438}},{"source":"routes/message_route.js","original":{"line":214,"column":48},"generated":{"line":1,"column":4444}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":214,"column":63},"generated":{"line":1,"column":4446}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":214,"column":63},"generated":{"line":1,"column":4448}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":214,"column":63},"generated":{"line":1,"column":4464}},{"source":"routes/message_route.js","name":"BAD_REQUEST","original":{"line":214,"column":74},"generated":{"line":1,"column":4466}},{"source":"routes/message_route.js","name":"BAD_REQUEST","original":{"line":214,"column":74},"generated":{"line":1,"column":4474}},{"source":"routes/message_route.js","name":"VALIDATION_MSG","original":{"line":214,"column":87},"generated":{"line":1,"column":4486}},{"source":"routes/message_route.js","name":"validation","original":{"line":214,"column":103},"generated":{"line":1,"column":4488}},{"source":"routes/message_route.js","name":"getErrors","original":{"line":214,"column":114},"generated":{"line":1,"column":4490}},{"source":"routes/message_route.js","name":"mgaccess","original":{"line":216,"column":8},"generated":{"line":1,"column":4504}},{"source":"routes/message_route.js","name":"get_connection","original":{"line":216,"column":17},"generated":{"line":1,"column":4506}},{"source":"routes/message_route.js","name":"common","original":{"line":216,"column":32},"generated":{"line":1,"column":4521}},{"source":"routes/message_route.js","name":"database_uri","original":{"line":216,"column":39},"generated":{"line":1,"column":4523}},{"source":"routes/message_route.js","name":"database_uri","original":{"line":216,"column":39},"generated":{"line":1,"column":4531}},{"source":"routes/message_route.js","name":"database_name","original":{"line":216,"column":53},"generated":{"line":1,"column":4544}},{"source":"routes/message_route.js","name":"options","original":{"line":216,"column":68},"generated":{"line":1,"column":4546}},{"source":"routes/message_route.js","original":{"line":216,"column":8},"generated":{"line":1,"column":4548}},{"source":"routes/message_route.js","name":"then","original":{"line":216,"column":77},"generated":{"line":1,"column":4557}},{"source":"routes/message_route.js","name":"db","original":{"line":217,"column":12},"generated":{"line":1,"column":4562}},{"source":"routes/message_route.js","original":{"line":218,"column":41},"generated":{"line":1,"column":4566}},{"source":"routes/message_route.js","name":"result","original":{"line":220,"column":27},"generated":{"line":1,"column":4577}},{"source":"routes/message_route.js","name":"mgaccess","original":{"line":219,"column":39},"generated":{"line":1,"column":4590}},{"source":"routes/message_route.js","name":"create","original":{"line":219,"column":48},"generated":{"line":1,"column":4592}},{"source":"routes/message_route.js","name":"db","original":{"line":219,"column":55},"generated":{"line":1,"column":4599}},{"source":"routes/message_route.js","original":{"line":15,"column":21},"generated":{"line":1,"column":4601}},{"source":"routes/message_route.js","name":"message","original":{"line":219,"column":73},"generated":{"line":1,"column":4612}},{"source":"routes/message_route.js","name":"invoke_updateone","original":{"line":223,"column":16},"generated":{"line":1,"column":4616}},{"source":"routes/message_route.js","name":"then","original":{"line":223,"column":35},"generated":{"line":1,"column":4619}},{"source":"routes/message_route.js","name":"tasks","original":{"line":224,"column":20},"generated":{"line":1,"column":4624}},{"source":"routes/message_route.js","name":"res","original":{"line":225,"column":24},"generated":{"line":1,"column":4628}},{"source":"routes/message_route.js","name":"status","original":{"line":225,"column":28},"generated":{"line":1,"column":4630}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":225,"column":35},"generated":{"line":1,"column":4637}},{"source":"routes/message_route.js","name":"OK","original":{"line":225,"column":46},"generated":{"line":1,"column":4639}},{"source":"routes/message_route.js","name":"OK","original":{"line":225,"column":46},"generated":{"line":1,"column":4647}},{"source":"routes/message_route.js","name":"json","original":{"line":225,"column":50},"generated":{"line":1,"column":4651}},{"source":"routes/message_route.js","original":{"line":225,"column":55},"generated":{"line":1,"column":4657}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":225,"column":70},"generated":{"line":1,"column":4659}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":225,"column":70},"generated":{"line":1,"column":4661}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":225,"column":70},"generated":{"line":1,"column":4677}},{"source":"routes/message_route.js","name":"OK","original":{"line":225,"column":81},"generated":{"line":1,"column":4679}},{"source":"routes/message_route.js","name":"OK","original":{"line":225,"column":81},"generated":{"line":1,"column":4687}},{"source":"routes/message_route.js","original":{"line":225,"column":85},"generated":{"line":1,"column":4690}},{"source":"routes/message_route.js","name":"tasks","original":{"line":225,"column":89},"generated":{"line":1,"column":4693}},{"source":"routes/message_route.js","name":"err","original":{"line":227,"column":20},"generated":{"line":1,"column":4698}},{"source":"routes/message_route.js","name":"error","original":{"line":228,"column":32},"generated":{"line":1,"column":4702}},{"source":"routes/message_route.js","name":"error","original":{"line":228,"column":32},"generated":{"line":1,"column":4704}},{"source":"routes/message_route.js","name":"error","original":{"line":228,"column":32},"generated":{"line":1,"column":4712}},{"source":"routes/message_route.js","name":"err","original":{"line":228,"column":38},"generated":{"line":1,"column":4718}},{"source":"routes/message_route.js","name":"res","original":{"line":229,"column":24},"generated":{"line":1,"column":4721}},{"source":"routes/message_route.js","name":"status","original":{"line":229,"column":28},"generated":{"line":1,"column":4723}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":229,"column":35},"generated":{"line":1,"column":4730}},{"source":"routes/message_route.js","name":"INTERNAL_SERVER_ERROR","original":{"line":229,"column":46},"generated":{"line":1,"column":4732}},{"source":"routes/message_route.js","name":"INTERNAL_SERVER_ERROR","original":{"line":229,"column":46},"generated":{"line":1,"column":4740}},{"source":"routes/message_route.js","name":"json","original":{"line":229,"column":69},"generated":{"line":1,"column":4763}},{"source":"routes/message_route.js","original":{"line":229,"column":74},"generated":{"line":1,"column":4769}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":229,"column":89},"generated":{"line":1,"column":4771}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":229,"column":89},"generated":{"line":1,"column":4773}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":229,"column":89},"generated":{"line":1,"column":4789}},{"source":"routes/message_route.js","name":"INTERNAL_SERVER_ERROR","original":{"line":229,"column":100},"generated":{"line":1,"column":4791}},{"source":"routes/message_route.js","name":"INTERNAL_SERVER_ERROR","original":{"line":229,"column":100},"generated":{"line":1,"column":4799}},{"source":"routes/message_route.js","name":"err","original":{"line":229,"column":123},"generated":{"line":1,"column":4821}},{"source":"routes/message_route.js","name":"message","original":{"line":229,"column":127},"generated":{"line":1,"column":4823}},{"source":"routes/message_route.js","name":"err","original":{"line":229,"column":136},"generated":{"line":1,"column":4831}},{"source":"routes/message_route.js","name":"err","original":{"line":233,"column":12},"generated":{"line":1,"column":4838}},{"source":"routes/message_route.js","name":"error","original":{"line":234,"column":24},"generated":{"line":1,"column":4842}},{"source":"routes/message_route.js","name":"error","original":{"line":234,"column":24},"generated":{"line":1,"column":4844}},{"source":"routes/message_route.js","name":"error","original":{"line":234,"column":24},"generated":{"line":1,"column":4852}},{"source":"routes/message_route.js","name":"err","original":{"line":234,"column":30},"generated":{"line":1,"column":4858}},{"source":"routes/message_route.js","name":"res","original":{"line":235,"column":16},"generated":{"line":1,"column":4861}},{"source":"routes/message_route.js","name":"status","original":{"line":235,"column":20},"generated":{"line":1,"column":4863}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":235,"column":27},"generated":{"line":1,"column":4870}},{"source":"routes/message_route.js","name":"INTERNAL_SERVER_ERROR","original":{"line":235,"column":38},"generated":{"line":1,"column":4872}},{"source":"routes/message_route.js","name":"INTERNAL_SERVER_ERROR","original":{"line":235,"column":38},"generated":{"line":1,"column":4880}},{"source":"routes/message_route.js","name":"json","original":{"line":235,"column":61},"generated":{"line":1,"column":4903}},{"source":"routes/message_route.js","original":{"line":235,"column":66},"generated":{"line":1,"column":4909}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":235,"column":81},"generated":{"line":1,"column":4911}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":235,"column":81},"generated":{"line":1,"column":4913}},{"source":"routes/message_route.js","name":"HttpStatus","original":{"line":235,"column":81},"generated":{"line":1,"column":4929}},{"source":"routes/message_route.js","name":"INTERNAL_SERVER_ERROR","original":{"line":235,"column":92},"generated":{"line":1,"column":4931}},{"source":"routes/message_route.js","name":"INTERNAL_SERVER_ERROR","original":{"line":235,"column":92},"generated":{"line":1,"column":4939}},{"source":"routes/message_route.js","name":"err","original":{"line":235,"column":115},"generated":{"line":1,"column":4961}},{"source":"routes/message_route.js","name":"message","original":{"line":235,"column":119},"generated":{"line":1,"column":4963}},{"source":"routes/message_route.js","name":"err","original":{"line":235,"column":128},"generated":{"line":1,"column":4971}},{"source":"routes/message_route.js","original":{"line":241,"column":0},"generated":{"line":1,"column":4979}},{"source":"routes/message_route.js","name":"validateMessage","original":{"line":241,"column":6},"generated":{"line":1,"column":4985}},{"source":"routes/message_route.js","name":"message","original":{"line":241,"column":25},"generated":{"line":1,"column":4987}},{"source":"routes/message_route.js","name":"validation","original":{"line":248,"column":11},"generated":{"line":1,"column":4991}},{"source":"routes/message_route.js","original":{"line":242,"column":23},"generated":{"line":1,"column":4998}},{"source":"routes/message_route.js","name":"validate","original":{"line":243,"column":9},"generated":{"line":1,"column":5000}},{"source":"routes/message_route.js","name":"validate","original":{"line":243,"column":9},"generated":{"line":1,"column":5002}},{"source":"routes/message_route.js","name":"validate","original":{"line":243,"column":9},"generated":{"line":1,"column":5013}},{"source":"routes/message_route.js","name":"message","original":{"line":243,"column":18},"generated":{"line":1,"column":5022}},{"source":"routes/message_route.js","name":"from","original":{"line":243,"column":26},"generated":{"line":1,"column":5024}},{"source":"routes/message_route.js","name":"isNotNull","original":{"line":243,"column":32},"generated":{"line":1,"column":5030}},{"source":"routes/message_route.js","name":"and","original":{"line":243,"column":44},"generated":{"line":1,"column":5042}},{"source":"routes/message_route.js","name":"isNotEmpty","original":{"line":243,"column":48},"generated":{"line":1,"column":5046}},{"source":"routes/message_route.js","name":"and","original":{"line":243,"column":61},"generated":{"line":1,"column":5059}},{"source":"routes/message_route.js","name":"isMongoObjectId","original":{"line":243,"column":65},"generated":{"line":1,"column":5063}},{"source":"routes/message_route.js","name":"validate","original":{"line":244,"column":9},"generated":{"line":1,"column":5081}},{"source":"routes/message_route.js","name":"message","original":{"line":244,"column":18},"generated":{"line":1,"column":5090}},{"source":"routes/message_route.js","name":"to","original":{"line":244,"column":26},"generated":{"line":1,"column":5092}},{"source":"routes/message_route.js","name":"isNotNull","original":{"line":244,"column":30},"generated":{"line":1,"column":5096}},{"source":"routes/message_route.js","name":"and","original":{"line":244,"column":42},"generated":{"line":1,"column":5108}},{"source":"routes/message_route.js","name":"isNotEmpty","original":{"line":244,"column":46},"generated":{"line":1,"column":5112}},{"source":"routes/message_route.js","name":"and","original":{"line":244,"column":59},"generated":{"line":1,"column":5125}},{"source":"routes/message_route.js","name":"isMongoObjectId","original":{"line":244,"column":63},"generated":{"line":1,"column":5129}},{"source":"routes/message_route.js","name":"validate","original":{"line":245,"column":9},"generated":{"line":1,"column":5147}},{"source":"routes/message_route.js","name":"message","original":{"line":245,"column":18},"generated":{"line":1,"column":5156}},{"source":"routes/message_route.js","name":"message","original":{"line":245,"column":26},"generated":{"line":1,"column":5158}},{"source":"routes/message_route.js","name":"isNotNull","original":{"line":245,"column":35},"generated":{"line":1,"column":5167}},{"source":"routes/message_route.js","name":"and","original":{"line":245,"column":47},"generated":{"line":1,"column":5179}},{"source":"routes/message_route.js","name":"isNotEmpty","original":{"line":245,"column":51},"generated":{"line":1,"column":5183}},{"source":"routes/message_route.js","name":"validate","original":{"line":246,"column":9},"generated":{"line":1,"column":5196}},{"source":"routes/message_route.js","name":"message","original":{"line":246,"column":18},"generated":{"line":1,"column":5205}},{"source":"routes/message_route.js","name":"replyto","original":{"line":246,"column":26},"generated":{"line":1,"column":5207}},{"source":"routes/message_route.js","name":"isNull","original":{"line":246,"column":35},"generated":{"line":1,"column":5216}},{"source":"routes/message_route.js","name":"or","original":{"line":246,"column":44},"generated":{"line":1,"column":5225}},{"source":"routes/message_route.js","name":"isMongoObjectId","original":{"line":246,"column":47},"generated":{"line":1,"column":5228}},{"source":"routes/message_route.js","name":"module","original":{"line":251,"column":0},"generated":{"line":1,"column":5247}},{"source":"routes/message_route.js","name":"exports","original":{"line":251,"column":7},"generated":{"line":1,"column":5254}},{"source":"routes/message_route.js","name":"router","original":{"line":251,"column":17},"generated":{"line":1,"column":5262}}],"sources":{"routes/message_route.js":"/* eslint-disable no-unused-vars */\n'use strict'\n\nimport express from 'express'\nimport validator from 'fluent-validator'\nimport HttpStatus from 'http-status-codes'\n\nimport common from '../shared/common'\nimport { build_response, options, build_paging } from '../shared/lib'\nimport winston from '../shared/winston'\n\nconst mgaccess = require('../data/mongo_access')\nconst router = express.Router()\nconst database_name = process.env.MESSAGE_DATABASE || 'dg_messagedb'\nconst MESSAGE_COLL = 'messages'\nconst VALIDATION_MSG = 'validation errors encountered'\n\nconst collections = [MESSAGE_COLL]\nmgaccess.setup_database(common.database_uri, database_name, options, collections).then(\n    _ => {\n        winston.info(`Collection ${collections} created!`)\n    },\n    err => { winston.error('Error! ', err) }\n)\n\n// message\nrouter.get('/messages/:id', (req, res) => {\n    const id = req.params.id\n    var validation = validator().validate(id).isNotEmpty().and.isMongoObjectId()\n\n    if (validation.hasErrors()) {\n        res.status(HttpStatus.BAD_REQUEST).json(build_response(HttpStatus.BAD_REQUEST, VALIDATION_MSG, validation.getErrors()))\n    } else {\n        mgaccess.get_connection(common.database_uri, database_name, options).then(\n            db => {\n                const invoke_getone = async() => {\n                    var result = await mgaccess.getone(db, MESSAGE_COLL, { _id: id })\n                    return result\n                }\n\n                invoke_getone().then(\n                    message => {\n                        res.status(HttpStatus.OK).json(build_response(HttpStatus.OK, '', message))\n                    },\n                    err => {\n                        winston.error(err)\n                        res.status(HttpStatus.INTERNAL_SERVER_ERROR).json(build_response(HttpStatus.INTERNAL_SERVER_ERROR, err.message, err))\n                    }\n                )\n            },\n            err => {\n                winston.error(err)\n                res.status(HttpStatus.INTERNAL_SERVER_ERROR).json(build_response(HttpStatus.INTERNAL_SERVER_ERROR, err.message, err))\n            }\n        )\n    }\n})\n\nrouter.get('/messages/to/:sender', (req, res) => {\n    const sender = req.params.sender\n    var validation = validator().validate(sender).isNotEmpty().and.isMongoObjectId()\n\n    const paging = build_paging(req)\n    paging.filter = { to: sender }\n\n    if (validation.hasErrors()) {\n        res.status(HttpStatus.BAD_REQUEST).json(build_response(HttpStatus.BAD_REQUEST, VALIDATION_MSG, validation.getErrors()))\n    } else {\n        mgaccess.get_connection(common.database_uri, database_name, options).then(\n            db => {\n                const invoke_getlist = async() => {\n                    var result = await mgaccess.getlist(db, MESSAGE_COLL, paging)\n                    return result\n                }\n\n                invoke_getlist().then(\n                    messages => {\n                        res.status(HttpStatus.OK).json(build_response(HttpStatus.OK, '', messages))\n                    },\n                    err => {\n                        winston.error(err)\n                        res.status(HttpStatus.INTERNAL_SERVER_ERROR).json(build_response(HttpStatus.INTERNAL_SERVER_ERROR, err.message, err))\n                    }\n                )\n            },\n            err => {\n                winston.error(err)\n                res.status(HttpStatus.INTERNAL_SERVER_ERROR).json(build_response(HttpStatus.INTERNAL_SERVER_ERROR, err.message, err))\n            }\n        )\n    }\n})\n\n// my messages\nrouter.get('/messages/from/:sender', (req, res) => {\n    const sender = req.params.sender\n    var validation = validator().validate(sender).isNotEmpty().and.isMongoObjectId()\n\n    const paging = build_paging(req)\n    paging.filter = { from: sender }\n\n    if (validation.hasErrors()) {\n        res.status(HttpStatus.BAD_REQUEST).json(build_response(HttpStatus.BAD_REQUEST, VALIDATION_MSG, validation.getErrors()))\n    } else {\n        mgaccess.get_connection(common.database_uri, database_name, options).then(\n            db => {\n                const invoke_getlist = async() => {\n                    var result = await mgaccess.getlist(db, MESSAGE_COLL, paging)\n                    return result\n                }\n\n                invoke_getlist().then(\n                    messages => {\n                        res.status(HttpStatus.OK).json(build_response(HttpStatus.OK, '', messages))\n                    },\n                    err => {\n                        winston.error(err)\n                        res.status(HttpStatus.INTERNAL_SERVER_ERROR).json(build_response(HttpStatus.INTERNAL_SERVER_ERROR, err.message, err))\n                    }\n                )\n            },\n            err => {\n                winston.error(err)\n                res.status(HttpStatus.INTERNAL_SERVER_ERROR).json(build_response(HttpStatus.INTERNAL_SERVER_ERROR, err.message, err))\n            }\n        )\n    }\n})\n\n// task message\nrouter.get('/messages/task/:id', (req, res) => {\n    const id = req.params.id\n    var validation = validator().validate(id).isNotNull().and.isNotEmpty().and.isMongoObjectId()\n\n    const paging = build_paging(req)\n    paging.filter = { 'task': id }\n\n    if (validation.hasErrors()) {\n        res.status(HttpStatus.BAD_REQUEST).json(build_response(HttpStatus.BAD_REQUEST, VALIDATION_MSG, validation.getErrors()))\n    } else {\n        mgaccess.get_connection(common.database_uri, database_name, options).then(\n            db => {\n                const invoke_getlist = async() => {\n                    var result = await mgaccess.getlist(db, MESSAGE_COLL, paging)\n                    return result\n                }\n\n                invoke_getlist().then(\n                    messages => {\n                        res.status(HttpStatus.OK).json(build_response(HttpStatus.OK, '', messages))\n                    },\n                    err => {\n                        winston.error(err)\n                        res.status(HttpStatus.INTERNAL_SERVER_ERROR).json(build_response(HttpStatus.INTERNAL_SERVER_ERROR, err.message, err))\n                    }\n                )\n            },\n            err => {\n                winston.error(err)\n                res.status(HttpStatus.INTERNAL_SERVER_ERROR).json(build_response(HttpStatus.INTERNAL_SERVER_ERROR, err.message, err))\n            }\n        )\n    }\n})\n\n// new message\nrouter.post('/messages/task/:id', (req, res) => {\n    const message = req.body\n    const validation = validateMessage(message)\n\n    const id = req.params.id\n    validation.validate(id).isNotEmpty().isMongoObjectId()\n\n    if (validation.hasErrors()) {\n        res.status(HttpStatus.BAD_REQUEST).json(build_response(HttpStatus.BAD_REQUEST, VALIDATION_MSG, validation.getErrors()))\n    } else {\n        //enrich\n        message.task = id\n        message.isRead = false\n        message.sentdate = new Date()\n\n        mgaccess.get_connection(common.database_uri, database_name, options).then(\n            db => {\n                const invoke_getlist = async() => {\n                    var result = await mgaccess.create(db, MESSAGE_COLL, message)\n                    return result\n                }\n\n                invoke_getlist().then(\n                    message => {\n                        res.status(HttpStatus.OK).json(build_response(HttpStatus.OK, '', message.ops[0]))\n                    },\n                    err => {\n                        winston.error(err)\n                        res.status(HttpStatus.INTERNAL_SERVER_ERROR).json(build_response(HttpStatus.INTERNAL_SERVER_ERROR, err.message, err))\n                    }\n                )\n            },\n            err => {\n                winston.error(err)\n                res.status(HttpStatus.INTERNAL_SERVER_ERROR).json(build_response(HttpStatus.INTERNAL_SERVER_ERROR, err.message, err))\n            }\n        )\n    }\n})\n\n\n// get messages\nrouter.post('/sendmessage', (req, res) => {\n    const message = req.body\n    const validation = validateMessage(message)\n\n    if (validation.hasErrors()) {\n        res.status(HttpStatus.BAD_REQUEST).json(build_response(HttpStatus.BAD_REQUEST, VALIDATION_MSG, validation.getErrors()))\n    } else {\n        mgaccess.get_connection(common.database_uri, database_name, options).then(\n            db => {\n                const invoke_updateone = async() => {\n                    var result = await mgaccess.create(db, MESSAGE_COLL, message)\n                    return result\n                }\n\n                invoke_updateone().then(\n                    tasks => {\n                        res.status(HttpStatus.OK).json(build_response(HttpStatus.OK, '', tasks))\n                    },\n                    err => {\n                        winston.error(err)\n                        res.status(HttpStatus.INTERNAL_SERVER_ERROR).json(build_response(HttpStatus.INTERNAL_SERVER_ERROR, err.message, err))\n                    }\n                )\n            },\n            err => {\n                winston.error(err)\n                res.status(HttpStatus.INTERNAL_SERVER_ERROR).json(build_response(HttpStatus.INTERNAL_SERVER_ERROR, err.message, err))\n            }\n        )\n    }\n})\n\nconst validateMessage = (message) => {\n    const validation = validator()\n        .validate(message.from).isNotNull().and.isNotEmpty().and.isMongoObjectId()\n        .validate(message.to).isNotNull().and.isNotEmpty().and.isMongoObjectId()\n        .validate(message.message).isNotNull().and.isNotEmpty()\n        .validate(message.replyto).isNull().or.isMongoObjectId()\n\n    return validation\n}\n\nmodule.exports = router"},"lineCount":null}},"error":null,"hash":"ffed085eb24b3134eb8d722aa35ed8da","cacheData":{"env":{}}}