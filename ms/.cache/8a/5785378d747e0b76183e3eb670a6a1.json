{"id":"DULr","dependencies":[{"name":"/Users/murpheux/Workspace/projects/dgiini/microservices/package.json","includedInParent":true,"mtime":1563323962672},{"name":"/Users/murpheux/Workspace/projects/dgiini/microservices/.babelrc","includedInParent":true,"mtime":1557029603000},{"name":"/Users/murpheux/Workspace/projects/dgiini/microservices/node_modules/mongodb/package.json","includedInParent":true,"mtime":1561227911480},{"name":"events","loc":{"line":3,"column":22},"parent":"/Users/murpheux/Workspace/projects/dgiini/microservices/node_modules/mongodb/lib/gridfs-stream/index.js","resolved":"/Users/murpheux/.config/yarn/global/node_modules/node-libs-browser/node_modules/events/events.js"},{"name":"./download","loc":{"line":4,"column":37},"parent":"/Users/murpheux/Workspace/projects/dgiini/microservices/node_modules/mongodb/lib/gridfs-stream/index.js","resolved":"/Users/murpheux/Workspace/projects/dgiini/microservices/node_modules/mongodb/lib/gridfs-stream/download.js"},{"name":"./upload","loc":{"line":5,"column":38},"parent":"/Users/murpheux/Workspace/projects/dgiini/microservices/node_modules/mongodb/lib/gridfs-stream/index.js","resolved":"/Users/murpheux/Workspace/projects/dgiini/microservices/node_modules/mongodb/lib/gridfs-stream/upload.js"},{"name":"../utils","loc":{"line":9,"column":31},"parent":"/Users/murpheux/Workspace/projects/dgiini/microservices/node_modules/mongodb/lib/gridfs-stream/index.js","resolved":"/Users/murpheux/Workspace/projects/dgiini/microservices/node_modules/mongodb/lib/utils.js"},{"name":"util","loc":{"line":8,"column":19},"parent":"/Users/murpheux/Workspace/projects/dgiini/microservices/node_modules/mongodb/lib/gridfs-stream/index.js","resolved":"/Users/murpheux/.config/yarn/global/node_modules/node-libs-browser/node_modules/util/util.js"}],"generated":{"js":"\"use strict\";function e(t){return(e=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(t)}var t=require(\"events\").EventEmitter,o=require(\"./download\"),i=require(\"./upload\"),n=require(\"../utils\").shallowClone,s=require(\"../utils\").toError,r=require(\"util\"),l=require(\"../utils\").executeOperation,u={bucketName:\"fs\",chunkSizeBytes:261120};function c(o,i){if(t.apply(this),this.setMaxListeners(0),i&&\"object\"===e(i)){i=n(i);for(var s=Object.keys(u),r=0;r<s.length;++r)i[s[r]]||(i[s[r]]=u[s[r]])}else i=u;this.s={db:o,options:i,_chunksCollection:o.collection(i.bucketName+\".chunks\"),_filesCollection:o.collection(i.bucketName+\".files\"),checkedIndexes:!1,calledOpenUploadStream:!1,promiseLibrary:o.s.promiseLibrary||Promise}}function p(e,t,o){e.s._filesCollection.deleteOne({_id:t},function(i,n){if(i)return o(i);e.s._chunksCollection.deleteMany({files_id:t},function(e){return e?o(e):n.result.n?void o():o(new Error(\"FileNotFound: no file with id \"+t+\" found\"))})})}function a(e,t,o,i){var n={_id:t},r={$set:{filename:o}};e.s._filesCollection.updateOne(n,r,function(e,o){return e?i(e):o.result.n?void i():i(s(\"File with id \"+t+\" not found\"))})}function f(e,t){e.s._filesCollection.drop(function(o){if(o)return t(o);e.s._chunksCollection.drop(function(e){return e?t(e):t()})})}module.exports=c,r.inherits(c,t),c.prototype.openUploadStream=function(e,t){return(t=t?n(t):{}).chunkSizeBytes||(t.chunkSizeBytes=this.s.options.chunkSizeBytes),new i(this,e,t)},c.prototype.openUploadStreamWithId=function(e,t,o){return(o=o?n(o):{}).chunkSizeBytes||(o.chunkSizeBytes=this.s.options.chunkSizeBytes),o.id=e,new i(this,t,o)},c.prototype.openDownloadStream=function(e,t){var i={_id:e};return t={start:t&&t.start,end:t&&t.end},new o(this.s._chunksCollection,this.s._filesCollection,this.s.options.readPreference,i,t)},c.prototype.delete=function(e,t){return l(this.s.db.s.topology,p,[this,e,t],{skipSessions:!0})},c.prototype.find=function(e,t){e=e||{},t=t||{};var o=this.s._filesCollection.find(e);return null!=t.batchSize&&o.batchSize(t.batchSize),null!=t.limit&&o.limit(t.limit),null!=t.maxTimeMS&&o.maxTimeMS(t.maxTimeMS),null!=t.noCursorTimeout&&o.addCursorFlag(\"noCursorTimeout\",t.noCursorTimeout),null!=t.skip&&o.skip(t.skip),null!=t.sort&&o.sort(t.sort),o},c.prototype.openDownloadStreamByName=function(e,t){var i={uploadDate:-1},n=null;t&&null!=t.revision&&(t.revision>=0?(i={uploadDate:1},n=t.revision):n=-t.revision-1);var s={filename:e};return t={sort:i,skip:n,start:t&&t.start,end:t&&t.end},new o(this.s._chunksCollection,this.s._filesCollection,this.s.options.readPreference,s,t)},c.prototype.rename=function(e,t,o){return l(this.s.db.s.topology,a,[this,e,t,o],{skipSessions:!0})},c.prototype.drop=function(e){return l(this.s.db.s.topology,f,[this,e],{skipSessions:!0})},c.prototype.getLogger=function(){return this.s.db.s.logger};"},"sourceMaps":{"js":{"mappings":[{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":354,"column":0},"generated":{"line":1,"column":13}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":354,"column":0},"generated":{"line":1,"column":22}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":354,"column":0},"generated":{"line":1,"column":24}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":354,"column":0},"generated":{"line":1,"column":27}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":354,"column":0},"generated":{"line":1,"column":34}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":354,"column":0},"generated":{"line":1,"column":36}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":354,"column":0},"generated":{"line":1,"column":55}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":354,"column":0},"generated":{"line":1,"column":63}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":354,"column":0},"generated":{"line":1,"column":80}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":354,"column":0},"generated":{"line":1,"column":87}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":354,"column":0},"generated":{"line":1,"column":96}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":354,"column":0},"generated":{"line":1,"column":105}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":354,"column":0},"generated":{"line":1,"column":108}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":354,"column":0},"generated":{"line":1,"column":122}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":354,"column":0},"generated":{"line":1,"column":125}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":354,"column":0},"generated":{"line":1,"column":134}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":354,"column":0},"generated":{"line":1,"column":137}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":354,"column":0},"generated":{"line":1,"column":144}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":354,"column":0},"generated":{"line":1,"column":147}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":354,"column":0},"generated":{"line":1,"column":166}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":354,"column":0},"generated":{"line":1,"column":174}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":354,"column":0},"generated":{"line":1,"column":176}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":354,"column":0},"generated":{"line":1,"column":190}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":354,"column":0},"generated":{"line":1,"column":198}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":354,"column":0},"generated":{"line":1,"column":202}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":354,"column":0},"generated":{"line":1,"column":209}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":354,"column":0},"generated":{"line":1,"column":219}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":354,"column":0},"generated":{"line":1,"column":235}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":354,"column":0},"generated":{"line":1,"column":239}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":3,"column":0},"generated":{"line":1,"column":242}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"Emitter","original":{"line":3,"column":4},"generated":{"line":1,"column":246}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"require","original":{"line":3,"column":14},"generated":{"line":1,"column":248}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":3,"column":22},"generated":{"line":1,"column":256}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"EventEmitter","original":{"line":3,"column":32},"generated":{"line":1,"column":266}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"GridFSBucketReadStream","original":{"line":4,"column":4},"generated":{"line":1,"column":279}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"require","original":{"line":4,"column":29},"generated":{"line":1,"column":281}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":4,"column":37},"generated":{"line":1,"column":289}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"GridFSBucketWriteStream","original":{"line":5,"column":4},"generated":{"line":1,"column":303}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"require","original":{"line":5,"column":30},"generated":{"line":1,"column":305}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":5,"column":38},"generated":{"line":1,"column":313}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"shallowClone","original":{"line":6,"column":4},"generated":{"line":1,"column":325}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"require","original":{"line":6,"column":19},"generated":{"line":1,"column":327}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":6,"column":27},"generated":{"line":1,"column":335}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"shallowClone","original":{"line":6,"column":39},"generated":{"line":1,"column":347}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"toError","original":{"line":7,"column":4},"generated":{"line":1,"column":360}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"require","original":{"line":7,"column":14},"generated":{"line":1,"column":362}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":7,"column":22},"generated":{"line":1,"column":370}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"toError","original":{"line":7,"column":34},"generated":{"line":1,"column":382}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"util","original":{"line":8,"column":4},"generated":{"line":1,"column":390}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"require","original":{"line":8,"column":11},"generated":{"line":1,"column":392}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":8,"column":19},"generated":{"line":1,"column":400}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"executeOperation","original":{"line":9,"column":4},"generated":{"line":1,"column":408}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"require","original":{"line":9,"column":23},"generated":{"line":1,"column":410}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":9,"column":31},"generated":{"line":1,"column":418}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"executeOperation","original":{"line":9,"column":43},"generated":{"line":1,"column":430}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"DEFAULT_GRIDFS_BUCKET_OPTIONS","original":{"line":11,"column":4},"generated":{"line":1,"column":447}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":11,"column":36},"generated":{"line":1,"column":449}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"bucketName","original":{"line":12,"column":2},"generated":{"line":1,"column":450}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":12,"column":14},"generated":{"line":1,"column":461}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"chunkSizeBytes","original":{"line":13,"column":2},"generated":{"line":1,"column":466}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":13,"column":18},"generated":{"line":1,"column":481}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":31,"column":0},"generated":{"line":1,"column":489}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"GridFSBucket","original":{"line":31,"column":9},"generated":{"line":1,"column":498}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"db","original":{"line":31,"column":22},"generated":{"line":1,"column":500}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":31,"column":26},"generated":{"line":1,"column":502}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":35,"column":6},"generated":{"line":1,"column":505}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"Emitter","original":{"line":32,"column":2},"generated":{"line":1,"column":508}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"apply","original":{"line":32,"column":10},"generated":{"line":1,"column":510}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":32,"column":16},"generated":{"line":1,"column":516}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"setMaxListeners","original":{"line":33,"column":7},"generated":{"line":1,"column":522}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"setMaxListeners","original":{"line":33,"column":7},"generated":{"line":1,"column":527}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":33,"column":23},"generated":{"line":1,"column":543}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":35,"column":6},"generated":{"line":1,"column":546}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":35,"column":36},"generated":{"line":1,"column":549}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":35,"column":17},"generated":{"line":1,"column":560}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":35,"column":24},"generated":{"line":1,"column":562}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":35,"column":46},"generated":{"line":1,"column":565}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":36,"column":4},"generated":{"line":1,"column":566}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"shallowClone","original":{"line":36,"column":14},"generated":{"line":1,"column":568}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":36,"column":27},"generated":{"line":1,"column":570}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":38,"column":9},"generated":{"line":1,"column":573}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"keys","original":{"line":37,"column":8},"generated":{"line":1,"column":577}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"keys","original":{"line":37,"column":8},"generated":{"line":1,"column":581}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"Object","original":{"line":37,"column":15},"generated":{"line":1,"column":583}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"keys","original":{"line":37,"column":22},"generated":{"line":1,"column":590}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"DEFAULT_GRIDFS_BUCKET_OPTIONS","original":{"line":37,"column":27},"generated":{"line":1,"column":595}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"i","original":{"line":38,"column":13},"generated":{"line":1,"column":598}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":38,"column":17},"generated":{"line":1,"column":600}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"i","original":{"line":38,"column":20},"generated":{"line":1,"column":602}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"keys","original":{"line":38,"column":24},"generated":{"line":1,"column":604}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"length","original":{"line":38,"column":29},"generated":{"line":1,"column":606}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"i","original":{"line":38,"column":39},"generated":{"line":1,"column":615}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":39,"column":11},"generated":{"line":1,"column":617}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"keys","original":{"line":39,"column":19},"generated":{"line":1,"column":619}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"i","original":{"line":39,"column":24},"generated":{"line":1,"column":621}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":40,"column":8},"generated":{"line":1,"column":627}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"keys","original":{"line":40,"column":16},"generated":{"line":1,"column":629}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"i","original":{"line":40,"column":21},"generated":{"line":1,"column":631}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"DEFAULT_GRIDFS_BUCKET_OPTIONS","original":{"line":40,"column":27},"generated":{"line":1,"column":635}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"keys","original":{"line":40,"column":57},"generated":{"line":1,"column":637}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"i","original":{"line":40,"column":62},"generated":{"line":1,"column":639}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":44,"column":4},"generated":{"line":1,"column":649}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"DEFAULT_GRIDFS_BUCKET_OPTIONS","original":{"line":44,"column":14},"generated":{"line":1,"column":651}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"s","original":{"line":47,"column":7},"generated":{"line":1,"column":653}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"s","original":{"line":47,"column":7},"generated":{"line":1,"column":658}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":47,"column":11},"generated":{"line":1,"column":660}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"db","original":{"line":48,"column":4},"generated":{"line":1,"column":661}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"db","original":{"line":48,"column":8},"generated":{"line":1,"column":664}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":49,"column":4},"generated":{"line":1,"column":666}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":49,"column":13},"generated":{"line":1,"column":674}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"_chunksCollection","original":{"line":50,"column":4},"generated":{"line":1,"column":676}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"db","original":{"line":50,"column":23},"generated":{"line":1,"column":694}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"collection","original":{"line":50,"column":26},"generated":{"line":1,"column":696}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":50,"column":37},"generated":{"line":1,"column":707}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"bucketName","original":{"line":50,"column":45},"generated":{"line":1,"column":709}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":50,"column":58},"generated":{"line":1,"column":720}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"_filesCollection","original":{"line":51,"column":4},"generated":{"line":1,"column":731}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"db","original":{"line":51,"column":22},"generated":{"line":1,"column":748}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"collection","original":{"line":51,"column":25},"generated":{"line":1,"column":750}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":51,"column":36},"generated":{"line":1,"column":761}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"bucketName","original":{"line":51,"column":44},"generated":{"line":1,"column":763}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":51,"column":57},"generated":{"line":1,"column":774}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"checkedIndexes","original":{"line":52,"column":4},"generated":{"line":1,"column":784}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":52,"column":20},"generated":{"line":1,"column":800}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"calledOpenUploadStream","original":{"line":53,"column":4},"generated":{"line":1,"column":802}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":53,"column":28},"generated":{"line":1,"column":826}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"promiseLibrary","original":{"line":54,"column":4},"generated":{"line":1,"column":828}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"db","original":{"line":54,"column":20},"generated":{"line":1,"column":843}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"s","original":{"line":54,"column":23},"generated":{"line":1,"column":845}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"promiseLibrary","original":{"line":54,"column":25},"generated":{"line":1,"column":847}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"Promise","original":{"line":54,"column":43},"generated":{"line":1,"column":863}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":174,"column":0},"generated":{"line":1,"column":872}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"_delete","original":{"line":174,"column":9},"generated":{"line":1,"column":881}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"_this","original":{"line":174,"column":17},"generated":{"line":1,"column":883}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"id","original":{"line":174,"column":24},"generated":{"line":1,"column":885}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"callback","original":{"line":174,"column":28},"generated":{"line":1,"column":887}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"_this","original":{"line":175,"column":2},"generated":{"line":1,"column":890}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"s","original":{"line":175,"column":8},"generated":{"line":1,"column":892}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"_filesCollection","original":{"line":175,"column":10},"generated":{"line":1,"column":894}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"deleteOne","original":{"line":175,"column":27},"generated":{"line":1,"column":911}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":175,"column":37},"generated":{"line":1,"column":921}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"_id","original":{"line":175,"column":39},"generated":{"line":1,"column":922}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"id","original":{"line":175,"column":44},"generated":{"line":1,"column":926}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":175,"column":50},"generated":{"line":1,"column":929}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"error","original":{"line":175,"column":59},"generated":{"line":1,"column":938}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"res","original":{"line":175,"column":66},"generated":{"line":1,"column":940}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"error","original":{"line":176,"column":8},"generated":{"line":1,"column":943}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"error","original":{"line":176,"column":8},"generated":{"line":1,"column":946}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"callback","original":{"line":177,"column":13},"generated":{"line":1,"column":948}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"callback","original":{"line":177,"column":13},"generated":{"line":1,"column":955}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"error","original":{"line":177,"column":22},"generated":{"line":1,"column":957}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"_this","original":{"line":180,"column":4},"generated":{"line":1,"column":960}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"s","original":{"line":180,"column":10},"generated":{"line":1,"column":962}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"_chunksCollection","original":{"line":180,"column":12},"generated":{"line":1,"column":964}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"deleteMany","original":{"line":180,"column":30},"generated":{"line":1,"column":982}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":180,"column":41},"generated":{"line":1,"column":993}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"files_id","original":{"line":180,"column":43},"generated":{"line":1,"column":994}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"id","original":{"line":180,"column":53},"generated":{"line":1,"column":1003}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":180,"column":59},"generated":{"line":1,"column":1006}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"error","original":{"line":180,"column":68},"generated":{"line":1,"column":1015}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"error","original":{"line":181,"column":10},"generated":{"line":1,"column":1018}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"error","original":{"line":181,"column":10},"generated":{"line":1,"column":1025}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"callback","original":{"line":182,"column":15},"generated":{"line":1,"column":1027}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"error","original":{"line":182,"column":24},"generated":{"line":1,"column":1029}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"res","original":{"line":186,"column":11},"generated":{"line":1,"column":1032}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"result","original":{"line":186,"column":15},"generated":{"line":1,"column":1034}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"n","original":{"line":186,"column":22},"generated":{"line":1,"column":1041}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"callback","original":{"line":191,"column":6},"generated":{"line":1,"column":1048}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"callback","original":{"line":188,"column":15},"generated":{"line":1,"column":1052}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":188,"column":24},"generated":{"line":1,"column":1054}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"Error","original":{"line":188,"column":28},"generated":{"line":1,"column":1058}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":187,"column":21},"generated":{"line":1,"column":1064}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"id","original":{"line":187,"column":56},"generated":{"line":1,"column":1097}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":187,"column":61},"generated":{"line":1,"column":1099}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":299,"column":0},"generated":{"line":1,"column":1114}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"_rename","original":{"line":299,"column":9},"generated":{"line":1,"column":1123}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"_this","original":{"line":299,"column":17},"generated":{"line":1,"column":1125}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"id","original":{"line":299,"column":24},"generated":{"line":1,"column":1127}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"filename","original":{"line":299,"column":28},"generated":{"line":1,"column":1129}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"callback","original":{"line":299,"column":38},"generated":{"line":1,"column":1131}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"filter","original":{"line":300,"column":6},"generated":{"line":1,"column":1134}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"filter","original":{"line":300,"column":6},"generated":{"line":1,"column":1138}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":300,"column":15},"generated":{"line":1,"column":1140}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"_id","original":{"line":300,"column":17},"generated":{"line":1,"column":1141}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"id","original":{"line":300,"column":22},"generated":{"line":1,"column":1145}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"update","original":{"line":301,"column":6},"generated":{"line":1,"column":1148}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":301,"column":15},"generated":{"line":1,"column":1150}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"$set","original":{"line":301,"column":17},"generated":{"line":1,"column":1151}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":301,"column":23},"generated":{"line":1,"column":1156}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"filename","original":{"line":301,"column":25},"generated":{"line":1,"column":1157}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"filename","original":{"line":301,"column":35},"generated":{"line":1,"column":1166}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"_this","original":{"line":302,"column":2},"generated":{"line":1,"column":1170}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"s","original":{"line":302,"column":8},"generated":{"line":1,"column":1172}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"_filesCollection","original":{"line":302,"column":10},"generated":{"line":1,"column":1174}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"updateOne","original":{"line":302,"column":27},"generated":{"line":1,"column":1191}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"filter","original":{"line":302,"column":37},"generated":{"line":1,"column":1201}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"update","original":{"line":302,"column":45},"generated":{"line":1,"column":1203}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":302,"column":53},"generated":{"line":1,"column":1205}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"error","original":{"line":302,"column":62},"generated":{"line":1,"column":1214}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"res","original":{"line":302,"column":69},"generated":{"line":1,"column":1216}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"error","original":{"line":303,"column":8},"generated":{"line":1,"column":1219}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"error","original":{"line":303,"column":8},"generated":{"line":1,"column":1226}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"callback","original":{"line":304,"column":13},"generated":{"line":1,"column":1228}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"error","original":{"line":304,"column":22},"generated":{"line":1,"column":1230}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"res","original":{"line":306,"column":9},"generated":{"line":1,"column":1233}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"result","original":{"line":306,"column":13},"generated":{"line":1,"column":1235}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"n","original":{"line":306,"column":20},"generated":{"line":1,"column":1242}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"callback","original":{"line":309,"column":4},"generated":{"line":1,"column":1249}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"callback","original":{"line":307,"column":13},"generated":{"line":1,"column":1253}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"toError","original":{"line":307,"column":22},"generated":{"line":1,"column":1255}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":307,"column":30},"generated":{"line":1,"column":1257}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"id","original":{"line":307,"column":48},"generated":{"line":1,"column":1273}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":307,"column":53},"generated":{"line":1,"column":1275}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":339,"column":0},"generated":{"line":1,"column":1292}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"_drop","original":{"line":339,"column":9},"generated":{"line":1,"column":1301}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"_this","original":{"line":339,"column":15},"generated":{"line":1,"column":1303}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"callback","original":{"line":339,"column":22},"generated":{"line":1,"column":1305}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"_this","original":{"line":340,"column":2},"generated":{"line":1,"column":1308}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"s","original":{"line":340,"column":8},"generated":{"line":1,"column":1310}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"_filesCollection","original":{"line":340,"column":10},"generated":{"line":1,"column":1312}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"drop","original":{"line":340,"column":27},"generated":{"line":1,"column":1329}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":340,"column":32},"generated":{"line":1,"column":1334}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"error","original":{"line":340,"column":41},"generated":{"line":1,"column":1343}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"error","original":{"line":341,"column":8},"generated":{"line":1,"column":1346}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"error","original":{"line":341,"column":8},"generated":{"line":1,"column":1349}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"callback","original":{"line":342,"column":13},"generated":{"line":1,"column":1351}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"callback","original":{"line":342,"column":13},"generated":{"line":1,"column":1358}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"error","original":{"line":342,"column":22},"generated":{"line":1,"column":1360}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"_this","original":{"line":344,"column":4},"generated":{"line":1,"column":1363}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"s","original":{"line":344,"column":10},"generated":{"line":1,"column":1365}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"_chunksCollection","original":{"line":344,"column":12},"generated":{"line":1,"column":1367}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"drop","original":{"line":344,"column":30},"generated":{"line":1,"column":1385}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":344,"column":35},"generated":{"line":1,"column":1390}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"error","original":{"line":344,"column":44},"generated":{"line":1,"column":1399}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"error","original":{"line":345,"column":10},"generated":{"line":1,"column":1402}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"error","original":{"line":345,"column":10},"generated":{"line":1,"column":1409}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"callback","original":{"line":346,"column":15},"generated":{"line":1,"column":1411}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"error","original":{"line":346,"column":24},"generated":{"line":1,"column":1413}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"callback","original":{"line":349,"column":13},"generated":{"line":1,"column":1416}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"module","original":{"line":16,"column":0},"generated":{"line":1,"column":1424}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"exports","original":{"line":16,"column":7},"generated":{"line":1,"column":1431}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"GridFSBucket","original":{"line":16,"column":17},"generated":{"line":1,"column":1439}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"util","original":{"line":58,"column":0},"generated":{"line":1,"column":1441}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"inherits","original":{"line":58,"column":5},"generated":{"line":1,"column":1443}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"GridFSBucket","original":{"line":58,"column":14},"generated":{"line":1,"column":1452}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"Emitter","original":{"line":58,"column":28},"generated":{"line":1,"column":1454}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"GridFSBucket","original":{"line":86,"column":0},"generated":{"line":1,"column":1457}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"prototype","original":{"line":86,"column":13},"generated":{"line":1,"column":1459}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"openUploadStream","original":{"line":86,"column":23},"generated":{"line":1,"column":1469}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":86,"column":42},"generated":{"line":1,"column":1486}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"filename","original":{"line":86,"column":51},"generated":{"line":1,"column":1495}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":86,"column":61},"generated":{"line":1,"column":1497}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":95,"column":9},"generated":{"line":1,"column":1500}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":88,"column":4},"generated":{"line":1,"column":1507}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":87,"column":6},"generated":{"line":1,"column":1509}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"shallowClone","original":{"line":88,"column":14},"generated":{"line":1,"column":1511}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":88,"column":27},"generated":{"line":1,"column":1513}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":90,"column":14},"generated":{"line":1,"column":1516}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"chunkSizeBytes","original":{"line":92,"column":15},"generated":{"line":1,"column":1520}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":93,"column":4},"generated":{"line":1,"column":1537}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"chunkSizeBytes","original":{"line":93,"column":12},"generated":{"line":1,"column":1539}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":93,"column":29},"generated":{"line":1,"column":1554}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"s","original":{"line":93,"column":34},"generated":{"line":1,"column":1559}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":93,"column":36},"generated":{"line":1,"column":1561}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"chunkSizeBytes","original":{"line":93,"column":44},"generated":{"line":1,"column":1569}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":95,"column":9},"generated":{"line":1,"column":1585}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"GridFSBucketWriteStream","original":{"line":95,"column":13},"generated":{"line":1,"column":1589}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":95,"column":37},"generated":{"line":1,"column":1591}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"filename","original":{"line":95,"column":43},"generated":{"line":1,"column":1596}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":95,"column":53},"generated":{"line":1,"column":1598}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"GridFSBucket","original":{"line":114,"column":0},"generated":{"line":1,"column":1602}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"prototype","original":{"line":114,"column":13},"generated":{"line":1,"column":1604}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"openUploadStreamWithId","original":{"line":114,"column":23},"generated":{"line":1,"column":1614}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":114,"column":48},"generated":{"line":1,"column":1637}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"id","original":{"line":114,"column":57},"generated":{"line":1,"column":1646}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"filename","original":{"line":114,"column":61},"generated":{"line":1,"column":1648}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":114,"column":71},"generated":{"line":1,"column":1650}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":127,"column":9},"generated":{"line":1,"column":1653}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":116,"column":4},"generated":{"line":1,"column":1660}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":115,"column":6},"generated":{"line":1,"column":1662}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"shallowClone","original":{"line":116,"column":14},"generated":{"line":1,"column":1664}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":116,"column":27},"generated":{"line":1,"column":1666}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":118,"column":14},"generated":{"line":1,"column":1669}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"chunkSizeBytes","original":{"line":121,"column":15},"generated":{"line":1,"column":1673}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":122,"column":4},"generated":{"line":1,"column":1690}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"chunkSizeBytes","original":{"line":122,"column":12},"generated":{"line":1,"column":1692}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":122,"column":29},"generated":{"line":1,"column":1707}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"s","original":{"line":122,"column":34},"generated":{"line":1,"column":1712}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":122,"column":36},"generated":{"line":1,"column":1714}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"chunkSizeBytes","original":{"line":122,"column":44},"generated":{"line":1,"column":1722}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":125,"column":2},"generated":{"line":1,"column":1738}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"id","original":{"line":125,"column":10},"generated":{"line":1,"column":1740}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"id","original":{"line":125,"column":15},"generated":{"line":1,"column":1743}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":127,"column":9},"generated":{"line":1,"column":1745}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"GridFSBucketWriteStream","original":{"line":127,"column":13},"generated":{"line":1,"column":1749}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":127,"column":37},"generated":{"line":1,"column":1751}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"filename","original":{"line":127,"column":43},"generated":{"line":1,"column":1756}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":127,"column":53},"generated":{"line":1,"column":1758}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"GridFSBucket","original":{"line":141,"column":0},"generated":{"line":1,"column":1762}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"prototype","original":{"line":141,"column":13},"generated":{"line":1,"column":1764}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"openDownloadStream","original":{"line":141,"column":23},"generated":{"line":1,"column":1774}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":141,"column":44},"generated":{"line":1,"column":1793}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"id","original":{"line":141,"column":53},"generated":{"line":1,"column":1802}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":141,"column":57},"generated":{"line":1,"column":1804}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"filter","original":{"line":142,"column":6},"generated":{"line":1,"column":1807}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"filter","original":{"line":142,"column":6},"generated":{"line":1,"column":1811}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":142,"column":15},"generated":{"line":1,"column":1813}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"_id","original":{"line":142,"column":17},"generated":{"line":1,"column":1814}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"id","original":{"line":142,"column":22},"generated":{"line":1,"column":1818}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":148,"column":9},"generated":{"line":1,"column":1821}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":143,"column":2},"generated":{"line":1,"column":1828}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":143,"column":12},"generated":{"line":1,"column":1830}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"start","original":{"line":144,"column":4},"generated":{"line":1,"column":1831}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":144,"column":11},"generated":{"line":1,"column":1837}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":144,"column":22},"generated":{"line":1,"column":1840}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"start","original":{"line":144,"column":30},"generated":{"line":1,"column":1842}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"end","original":{"line":145,"column":4},"generated":{"line":1,"column":1848}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":145,"column":9},"generated":{"line":1,"column":1852}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":145,"column":20},"generated":{"line":1,"column":1855}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"end","original":{"line":145,"column":28},"generated":{"line":1,"column":1857}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":148,"column":9},"generated":{"line":1,"column":1862}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"GridFSBucketReadStream","original":{"line":148,"column":13},"generated":{"line":1,"column":1866}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":149,"column":4},"generated":{"line":1,"column":1868}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"s","original":{"line":149,"column":9},"generated":{"line":1,"column":1873}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"_chunksCollection","original":{"line":149,"column":11},"generated":{"line":1,"column":1875}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":150,"column":4},"generated":{"line":1,"column":1893}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"s","original":{"line":150,"column":9},"generated":{"line":1,"column":1898}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"_filesCollection","original":{"line":150,"column":11},"generated":{"line":1,"column":1900}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":151,"column":4},"generated":{"line":1,"column":1917}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"s","original":{"line":151,"column":9},"generated":{"line":1,"column":1922}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":151,"column":11},"generated":{"line":1,"column":1924}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"readPreference","original":{"line":151,"column":19},"generated":{"line":1,"column":1932}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"filter","original":{"line":152,"column":4},"generated":{"line":1,"column":1947}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":153,"column":4},"generated":{"line":1,"column":1949}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"GridFSBucket","original":{"line":164,"column":0},"generated":{"line":1,"column":1953}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"prototype","original":{"line":164,"column":13},"generated":{"line":1,"column":1955}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"delete","original":{"line":164,"column":23},"generated":{"line":1,"column":1965}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":164,"column":32},"generated":{"line":1,"column":1972}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"id","original":{"line":164,"column":41},"generated":{"line":1,"column":1981}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"callback","original":{"line":164,"column":45},"generated":{"line":1,"column":1983}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"executeOperation","original":{"line":165,"column":9},"generated":{"line":1,"column":1986}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"executeOperation","original":{"line":165,"column":9},"generated":{"line":1,"column":1993}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":165,"column":26},"generated":{"line":1,"column":1995}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"s","original":{"line":165,"column":31},"generated":{"line":1,"column":2000}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"db","original":{"line":165,"column":33},"generated":{"line":1,"column":2002}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"s","original":{"line":165,"column":36},"generated":{"line":1,"column":2005}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"topology","original":{"line":165,"column":38},"generated":{"line":1,"column":2007}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"_delete","original":{"line":165,"column":48},"generated":{"line":1,"column":2016}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":165,"column":57},"generated":{"line":1,"column":2018}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":165,"column":58},"generated":{"line":1,"column":2019}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"id","original":{"line":165,"column":64},"generated":{"line":1,"column":2024}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"callback","original":{"line":165,"column":68},"generated":{"line":1,"column":2026}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":165,"column":79},"generated":{"line":1,"column":2029}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"skipSessions","original":{"line":166,"column":4},"generated":{"line":1,"column":2030}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":166,"column":18},"generated":{"line":1,"column":2044}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"GridFSBucket","original":{"line":210,"column":0},"generated":{"line":1,"column":2049}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"prototype","original":{"line":210,"column":13},"generated":{"line":1,"column":2051}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"find","original":{"line":210,"column":23},"generated":{"line":1,"column":2061}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":210,"column":30},"generated":{"line":1,"column":2066}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"filter","original":{"line":210,"column":39},"generated":{"line":1,"column":2075}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":210,"column":47},"generated":{"line":1,"column":2077}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"filter","original":{"line":211,"column":2},"generated":{"line":1,"column":2080}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"filter","original":{"line":211,"column":11},"generated":{"line":1,"column":2082}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":211,"column":21},"generated":{"line":1,"column":2085}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":212,"column":2},"generated":{"line":1,"column":2088}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":212,"column":12},"generated":{"line":1,"column":2090}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":212,"column":23},"generated":{"line":1,"column":2093}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"cursor","original":{"line":214,"column":6},"generated":{"line":1,"column":2096}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"cursor","original":{"line":214,"column":6},"generated":{"line":1,"column":2100}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":214,"column":15},"generated":{"line":1,"column":2102}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"s","original":{"line":214,"column":20},"generated":{"line":1,"column":2107}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"_filesCollection","original":{"line":214,"column":22},"generated":{"line":1,"column":2109}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"find","original":{"line":214,"column":39},"generated":{"line":1,"column":2126}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"filter","original":{"line":214,"column":44},"generated":{"line":1,"column":2131}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"cursor","original":{"line":235,"column":9},"generated":{"line":1,"column":2134}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":216,"column":27},"generated":{"line":1,"column":2141}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":216,"column":6},"generated":{"line":1,"column":2147}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"batchSize","original":{"line":216,"column":14},"generated":{"line":1,"column":2149}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"cursor","original":{"line":217,"column":4},"generated":{"line":1,"column":2160}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"batchSize","original":{"line":217,"column":11},"generated":{"line":1,"column":2162}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":217,"column":21},"generated":{"line":1,"column":2172}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"batchSize","original":{"line":217,"column":29},"generated":{"line":1,"column":2174}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":219,"column":23},"generated":{"line":1,"column":2185}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":219,"column":6},"generated":{"line":1,"column":2191}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"limit","original":{"line":219,"column":14},"generated":{"line":1,"column":2193}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"cursor","original":{"line":220,"column":4},"generated":{"line":1,"column":2200}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"limit","original":{"line":220,"column":11},"generated":{"line":1,"column":2202}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":220,"column":17},"generated":{"line":1,"column":2208}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"limit","original":{"line":220,"column":25},"generated":{"line":1,"column":2210}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":222,"column":27},"generated":{"line":1,"column":2217}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":222,"column":6},"generated":{"line":1,"column":2223}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"maxTimeMS","original":{"line":222,"column":14},"generated":{"line":1,"column":2225}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"cursor","original":{"line":223,"column":4},"generated":{"line":1,"column":2236}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"maxTimeMS","original":{"line":223,"column":11},"generated":{"line":1,"column":2238}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":223,"column":21},"generated":{"line":1,"column":2248}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"maxTimeMS","original":{"line":223,"column":29},"generated":{"line":1,"column":2250}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":225,"column":33},"generated":{"line":1,"column":2261}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":225,"column":6},"generated":{"line":1,"column":2267}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"noCursorTimeout","original":{"line":225,"column":14},"generated":{"line":1,"column":2269}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"cursor","original":{"line":226,"column":4},"generated":{"line":1,"column":2286}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"addCursorFlag","original":{"line":226,"column":11},"generated":{"line":1,"column":2288}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":226,"column":25},"generated":{"line":1,"column":2302}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":226,"column":44},"generated":{"line":1,"column":2320}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"noCursorTimeout","original":{"line":226,"column":52},"generated":{"line":1,"column":2322}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":228,"column":22},"generated":{"line":1,"column":2339}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":228,"column":6},"generated":{"line":1,"column":2345}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"skip","original":{"line":228,"column":14},"generated":{"line":1,"column":2347}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"cursor","original":{"line":229,"column":4},"generated":{"line":1,"column":2353}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"skip","original":{"line":229,"column":11},"generated":{"line":1,"column":2355}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":229,"column":16},"generated":{"line":1,"column":2360}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"skip","original":{"line":229,"column":24},"generated":{"line":1,"column":2362}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":231,"column":22},"generated":{"line":1,"column":2368}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":231,"column":6},"generated":{"line":1,"column":2374}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"sort","original":{"line":231,"column":14},"generated":{"line":1,"column":2376}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"cursor","original":{"line":232,"column":4},"generated":{"line":1,"column":2382}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"sort","original":{"line":232,"column":11},"generated":{"line":1,"column":2384}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":232,"column":16},"generated":{"line":1,"column":2389}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"sort","original":{"line":232,"column":24},"generated":{"line":1,"column":2391}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"cursor","original":{"line":235,"column":9},"generated":{"line":1,"column":2397}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"GridFSBucket","original":{"line":253,"column":0},"generated":{"line":1,"column":2400}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"prototype","original":{"line":253,"column":13},"generated":{"line":1,"column":2402}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"openDownloadStreamByName","original":{"line":253,"column":23},"generated":{"line":1,"column":2412}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":253,"column":50},"generated":{"line":1,"column":2437}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"filename","original":{"line":253,"column":59},"generated":{"line":1,"column":2446}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":253,"column":69},"generated":{"line":1,"column":2448}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"sort","original":{"line":254,"column":6},"generated":{"line":1,"column":2451}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"sort","original":{"line":254,"column":6},"generated":{"line":1,"column":2455}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":254,"column":13},"generated":{"line":1,"column":2457}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"uploadDate","original":{"line":254,"column":15},"generated":{"line":1,"column":2458}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":254,"column":28},"generated":{"line":1,"column":2470}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"skip","original":{"line":255,"column":6},"generated":{"line":1,"column":2473}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":255,"column":13},"generated":{"line":1,"column":2475}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":256,"column":6},"generated":{"line":1,"column":2480}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":256,"column":37},"generated":{"line":1,"column":2483}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":256,"column":17},"generated":{"line":1,"column":2489}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"revision","original":{"line":256,"column":25},"generated":{"line":1,"column":2491}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":257,"column":8},"generated":{"line":1,"column":2502}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"revision","original":{"line":257,"column":16},"generated":{"line":1,"column":2504}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":257,"column":28},"generated":{"line":1,"column":2514}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"sort","original":{"line":258,"column":6},"generated":{"line":1,"column":2517}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":258,"column":13},"generated":{"line":1,"column":2519}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"uploadDate","original":{"line":258,"column":15},"generated":{"line":1,"column":2520}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":258,"column":27},"generated":{"line":1,"column":2531}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"skip","original":{"line":259,"column":6},"generated":{"line":1,"column":2534}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":259,"column":13},"generated":{"line":1,"column":2536}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"revision","original":{"line":259,"column":21},"generated":{"line":1,"column":2538}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"skip","original":{"line":261,"column":6},"generated":{"line":1,"column":2548}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":261,"column":14},"generated":{"line":1,"column":2551}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"revision","original":{"line":261,"column":22},"generated":{"line":1,"column":2553}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":261,"column":33},"generated":{"line":1,"column":2562}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"filter","original":{"line":265,"column":6},"generated":{"line":1,"column":2565}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"filter","original":{"line":265,"column":6},"generated":{"line":1,"column":2569}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":265,"column":15},"generated":{"line":1,"column":2571}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"filename","original":{"line":265,"column":17},"generated":{"line":1,"column":2572}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"filename","original":{"line":265,"column":27},"generated":{"line":1,"column":2581}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":272,"column":9},"generated":{"line":1,"column":2584}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":266,"column":2},"generated":{"line":1,"column":2591}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":266,"column":12},"generated":{"line":1,"column":2593}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"sort","original":{"line":267,"column":4},"generated":{"line":1,"column":2594}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"sort","original":{"line":267,"column":10},"generated":{"line":1,"column":2599}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"skip","original":{"line":268,"column":4},"generated":{"line":1,"column":2601}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"skip","original":{"line":268,"column":10},"generated":{"line":1,"column":2606}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"start","original":{"line":269,"column":4},"generated":{"line":1,"column":2608}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":269,"column":11},"generated":{"line":1,"column":2614}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":269,"column":22},"generated":{"line":1,"column":2617}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"start","original":{"line":269,"column":30},"generated":{"line":1,"column":2619}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"end","original":{"line":270,"column":4},"generated":{"line":1,"column":2625}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":270,"column":9},"generated":{"line":1,"column":2629}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":270,"column":20},"generated":{"line":1,"column":2632}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"end","original":{"line":270,"column":28},"generated":{"line":1,"column":2634}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":272,"column":9},"generated":{"line":1,"column":2639}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"GridFSBucketReadStream","original":{"line":272,"column":13},"generated":{"line":1,"column":2643}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":273,"column":4},"generated":{"line":1,"column":2645}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"s","original":{"line":273,"column":9},"generated":{"line":1,"column":2650}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"_chunksCollection","original":{"line":273,"column":11},"generated":{"line":1,"column":2652}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":274,"column":4},"generated":{"line":1,"column":2670}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"s","original":{"line":274,"column":9},"generated":{"line":1,"column":2675}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"_filesCollection","original":{"line":274,"column":11},"generated":{"line":1,"column":2677}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":275,"column":4},"generated":{"line":1,"column":2694}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"s","original":{"line":275,"column":9},"generated":{"line":1,"column":2699}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":275,"column":11},"generated":{"line":1,"column":2701}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"readPreference","original":{"line":275,"column":19},"generated":{"line":1,"column":2709}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"filter","original":{"line":276,"column":4},"generated":{"line":1,"column":2724}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":277,"column":4},"generated":{"line":1,"column":2726}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"GridFSBucket","original":{"line":289,"column":0},"generated":{"line":1,"column":2730}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"prototype","original":{"line":289,"column":13},"generated":{"line":1,"column":2732}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"rename","original":{"line":289,"column":23},"generated":{"line":1,"column":2742}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":289,"column":32},"generated":{"line":1,"column":2749}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"id","original":{"line":289,"column":41},"generated":{"line":1,"column":2758}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"filename","original":{"line":289,"column":45},"generated":{"line":1,"column":2760}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"callback","original":{"line":289,"column":55},"generated":{"line":1,"column":2762}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"executeOperation","original":{"line":290,"column":9},"generated":{"line":1,"column":2765}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"executeOperation","original":{"line":290,"column":9},"generated":{"line":1,"column":2772}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":290,"column":26},"generated":{"line":1,"column":2774}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"s","original":{"line":290,"column":31},"generated":{"line":1,"column":2779}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"db","original":{"line":290,"column":33},"generated":{"line":1,"column":2781}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"s","original":{"line":290,"column":36},"generated":{"line":1,"column":2784}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"topology","original":{"line":290,"column":38},"generated":{"line":1,"column":2786}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"_rename","original":{"line":290,"column":48},"generated":{"line":1,"column":2795}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":290,"column":57},"generated":{"line":1,"column":2797}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":290,"column":58},"generated":{"line":1,"column":2798}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"id","original":{"line":290,"column":64},"generated":{"line":1,"column":2803}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"filename","original":{"line":290,"column":68},"generated":{"line":1,"column":2805}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"callback","original":{"line":290,"column":78},"generated":{"line":1,"column":2807}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":290,"column":89},"generated":{"line":1,"column":2810}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"skipSessions","original":{"line":291,"column":4},"generated":{"line":1,"column":2811}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":291,"column":18},"generated":{"line":1,"column":2825}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"GridFSBucket","original":{"line":319,"column":0},"generated":{"line":1,"column":2830}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"prototype","original":{"line":319,"column":13},"generated":{"line":1,"column":2832}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"drop","original":{"line":319,"column":23},"generated":{"line":1,"column":2842}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":319,"column":30},"generated":{"line":1,"column":2847}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"callback","original":{"line":319,"column":39},"generated":{"line":1,"column":2856}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"executeOperation","original":{"line":320,"column":9},"generated":{"line":1,"column":2859}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"executeOperation","original":{"line":320,"column":9},"generated":{"line":1,"column":2866}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":320,"column":26},"generated":{"line":1,"column":2868}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"s","original":{"line":320,"column":31},"generated":{"line":1,"column":2873}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"db","original":{"line":320,"column":33},"generated":{"line":1,"column":2875}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"s","original":{"line":320,"column":36},"generated":{"line":1,"column":2878}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"topology","original":{"line":320,"column":38},"generated":{"line":1,"column":2880}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"_drop","original":{"line":320,"column":48},"generated":{"line":1,"column":2889}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":320,"column":55},"generated":{"line":1,"column":2891}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":320,"column":56},"generated":{"line":1,"column":2892}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"callback","original":{"line":320,"column":62},"generated":{"line":1,"column":2897}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":320,"column":73},"generated":{"line":1,"column":2900}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"skipSessions","original":{"line":321,"column":4},"generated":{"line":1,"column":2901}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":321,"column":18},"generated":{"line":1,"column":2915}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"GridFSBucket","original":{"line":331,"column":0},"generated":{"line":1,"column":2920}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"prototype","original":{"line":331,"column":13},"generated":{"line":1,"column":2922}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"getLogger","original":{"line":331,"column":23},"generated":{"line":1,"column":2932}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":331,"column":35},"generated":{"line":1,"column":2942}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":332,"column":9},"generated":{"line":1,"column":2953}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":332,"column":9},"generated":{"line":1,"column":2960}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"s","original":{"line":332,"column":14},"generated":{"line":1,"column":2965}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"db","original":{"line":332,"column":16},"generated":{"line":1,"column":2967}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"s","original":{"line":332,"column":19},"generated":{"line":1,"column":2970}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"logger","original":{"line":332,"column":21},"generated":{"line":1,"column":2972}}],"sources":{"../node_modules/mongodb/lib/gridfs-stream/index.js":"'use strict';\n\nvar Emitter = require('events').EventEmitter;\nvar GridFSBucketReadStream = require('./download');\nvar GridFSBucketWriteStream = require('./upload');\nvar shallowClone = require('../utils').shallowClone;\nvar toError = require('../utils').toError;\nvar util = require('util');\nvar executeOperation = require('../utils').executeOperation;\n\nvar DEFAULT_GRIDFS_BUCKET_OPTIONS = {\n  bucketName: 'fs',\n  chunkSizeBytes: 255 * 1024\n};\n\nmodule.exports = GridFSBucket;\n\n/**\n * Constructor for a streaming GridFS interface\n * @class\n * @param {Db} db A db handle\n * @param {object} [options] Optional settings.\n * @param {string} [options.bucketName=\"fs\"] The 'files' and 'chunks' collections will be prefixed with the bucket name followed by a dot.\n * @param {number} [options.chunkSizeBytes=255 * 1024] Number of bytes stored in each chunk. Defaults to 255KB\n * @param {object} [options.writeConcern] Optional write concern to be passed to write operations, for instance `{ w: 1 }`\n * @param {object} [options.readPreference] Optional read preference to be passed to read operations\n * @fires GridFSBucketWriteStream#index\n * @return {GridFSBucket}\n */\n\nfunction GridFSBucket(db, options) {\n  Emitter.apply(this);\n  this.setMaxListeners(0);\n\n  if (options && typeof options === 'object') {\n    options = shallowClone(options);\n    var keys = Object.keys(DEFAULT_GRIDFS_BUCKET_OPTIONS);\n    for (var i = 0; i < keys.length; ++i) {\n      if (!options[keys[i]]) {\n        options[keys[i]] = DEFAULT_GRIDFS_BUCKET_OPTIONS[keys[i]];\n      }\n    }\n  } else {\n    options = DEFAULT_GRIDFS_BUCKET_OPTIONS;\n  }\n\n  this.s = {\n    db: db,\n    options: options,\n    _chunksCollection: db.collection(options.bucketName + '.chunks'),\n    _filesCollection: db.collection(options.bucketName + '.files'),\n    checkedIndexes: false,\n    calledOpenUploadStream: false,\n    promiseLibrary: db.s.promiseLibrary || Promise\n  };\n}\n\nutil.inherits(GridFSBucket, Emitter);\n\n/**\n * When the first call to openUploadStream is made, the upload stream will\n * check to see if it needs to create the proper indexes on the chunks and\n * files collections. This event is fired either when 1) it determines that\n * no index creation is necessary, 2) when it successfully creates the\n * necessary indexes.\n *\n * @event GridFSBucket#index\n * @type {Error}\n */\n\n/**\n * Returns a writable stream (GridFSBucketWriteStream) for writing\n * buffers to GridFS. The stream's 'id' property contains the resulting\n * file's id.\n * @method\n * @param {string} filename The value of the 'filename' key in the files doc\n * @param {object} [options] Optional settings.\n * @param {number} [options.chunkSizeBytes] Optional overwrite this bucket's chunkSizeBytes for this file\n * @param {object} [options.metadata] Optional object to store in the file document's `metadata` field\n * @param {string} [options.contentType] Optional string to store in the file document's `contentType` field\n * @param {array} [options.aliases] Optional array of strings to store in the file document's `aliases` field\n * @param {boolean} [options.disableMD5=false] If true, disables adding an md5 field to file data\n * @return {GridFSBucketWriteStream}\n */\n\nGridFSBucket.prototype.openUploadStream = function(filename, options) {\n  if (options) {\n    options = shallowClone(options);\n  } else {\n    options = {};\n  }\n  if (!options.chunkSizeBytes) {\n    options.chunkSizeBytes = this.s.options.chunkSizeBytes;\n  }\n  return new GridFSBucketWriteStream(this, filename, options);\n};\n\n/**\n * Returns a writable stream (GridFSBucketWriteStream) for writing\n * buffers to GridFS for a custom file id. The stream's 'id' property contains the resulting\n * file's id.\n * @method\n * @param {string|number|object} id A custom id used to identify the file\n * @param {string} filename The value of the 'filename' key in the files doc\n * @param {object} [options] Optional settings.\n * @param {number} [options.chunkSizeBytes] Optional overwrite this bucket's chunkSizeBytes for this file\n * @param {object} [options.metadata] Optional object to store in the file document's `metadata` field\n * @param {string} [options.contentType] Optional string to store in the file document's `contentType` field\n * @param {array} [options.aliases] Optional array of strings to store in the file document's `aliases` field\n * @param {boolean} [options.disableMD5=false] If true, disables adding an md5 field to file data\n * @return {GridFSBucketWriteStream}\n */\n\nGridFSBucket.prototype.openUploadStreamWithId = function(id, filename, options) {\n  if (options) {\n    options = shallowClone(options);\n  } else {\n    options = {};\n  }\n\n  if (!options.chunkSizeBytes) {\n    options.chunkSizeBytes = this.s.options.chunkSizeBytes;\n  }\n\n  options.id = id;\n\n  return new GridFSBucketWriteStream(this, filename, options);\n};\n\n/**\n * Returns a readable stream (GridFSBucketReadStream) for streaming file\n * data from GridFS.\n * @method\n * @param {ObjectId} id The id of the file doc\n * @param {Object} [options] Optional settings.\n * @param {Number} [options.start] Optional 0-based offset in bytes to start streaming from\n * @param {Number} [options.end] Optional 0-based offset in bytes to stop streaming before\n * @return {GridFSBucketReadStream}\n */\n\nGridFSBucket.prototype.openDownloadStream = function(id, options) {\n  var filter = { _id: id };\n  options = {\n    start: options && options.start,\n    end: options && options.end\n  };\n\n  return new GridFSBucketReadStream(\n    this.s._chunksCollection,\n    this.s._filesCollection,\n    this.s.options.readPreference,\n    filter,\n    options\n  );\n};\n\n/**\n * Deletes a file with the given id\n * @method\n * @param {ObjectId} id The id of the file doc\n * @param {GridFSBucket~errorCallback} [callback]\n */\n\nGridFSBucket.prototype.delete = function(id, callback) {\n  return executeOperation(this.s.db.s.topology, _delete, [this, id, callback], {\n    skipSessions: true\n  });\n};\n\n/**\n * @ignore\n */\n\nfunction _delete(_this, id, callback) {\n  _this.s._filesCollection.deleteOne({ _id: id }, function(error, res) {\n    if (error) {\n      return callback(error);\n    }\n\n    _this.s._chunksCollection.deleteMany({ files_id: id }, function(error) {\n      if (error) {\n        return callback(error);\n      }\n\n      // Delete orphaned chunks before returning FileNotFound\n      if (!res.result.n) {\n        var errmsg = 'FileNotFound: no file with id ' + id + ' found';\n        return callback(new Error(errmsg));\n      }\n\n      callback();\n    });\n  });\n}\n\n/**\n * Convenience wrapper around find on the files collection\n * @method\n * @param {Object} filter\n * @param {Object} [options] Optional settings for cursor\n * @param {number} [options.batchSize] Optional batch size for cursor\n * @param {number} [options.limit] Optional limit for cursor\n * @param {number} [options.maxTimeMS] Optional maxTimeMS for cursor\n * @param {boolean} [options.noCursorTimeout] Optionally set cursor's `noCursorTimeout` flag\n * @param {number} [options.skip] Optional skip for cursor\n * @param {object} [options.sort] Optional sort for cursor\n * @return {Cursor}\n */\n\nGridFSBucket.prototype.find = function(filter, options) {\n  filter = filter || {};\n  options = options || {};\n\n  var cursor = this.s._filesCollection.find(filter);\n\n  if (options.batchSize != null) {\n    cursor.batchSize(options.batchSize);\n  }\n  if (options.limit != null) {\n    cursor.limit(options.limit);\n  }\n  if (options.maxTimeMS != null) {\n    cursor.maxTimeMS(options.maxTimeMS);\n  }\n  if (options.noCursorTimeout != null) {\n    cursor.addCursorFlag('noCursorTimeout', options.noCursorTimeout);\n  }\n  if (options.skip != null) {\n    cursor.skip(options.skip);\n  }\n  if (options.sort != null) {\n    cursor.sort(options.sort);\n  }\n\n  return cursor;\n};\n\n/**\n * Returns a readable stream (GridFSBucketReadStream) for streaming the\n * file with the given name from GridFS. If there are multiple files with\n * the same name, this will stream the most recent file with the given name\n * (as determined by the `uploadDate` field). You can set the `revision`\n * option to change this behavior.\n * @method\n * @param {String} filename The name of the file to stream\n * @param {Object} [options] Optional settings\n * @param {number} [options.revision=-1] The revision number relative to the oldest file with the given filename. 0 gets you the oldest file, 1 gets you the 2nd oldest, -1 gets you the newest.\n * @param {Number} [options.start] Optional 0-based offset in bytes to start streaming from\n * @param {Number} [options.end] Optional 0-based offset in bytes to stop streaming before\n * @return {GridFSBucketReadStream}\n */\n\nGridFSBucket.prototype.openDownloadStreamByName = function(filename, options) {\n  var sort = { uploadDate: -1 };\n  var skip = null;\n  if (options && options.revision != null) {\n    if (options.revision >= 0) {\n      sort = { uploadDate: 1 };\n      skip = options.revision;\n    } else {\n      skip = -options.revision - 1;\n    }\n  }\n\n  var filter = { filename: filename };\n  options = {\n    sort: sort,\n    skip: skip,\n    start: options && options.start,\n    end: options && options.end\n  };\n  return new GridFSBucketReadStream(\n    this.s._chunksCollection,\n    this.s._filesCollection,\n    this.s.options.readPreference,\n    filter,\n    options\n  );\n};\n\n/**\n * Renames the file with the given _id to the given string\n * @method\n * @param {ObjectId} id the id of the file to rename\n * @param {String} filename new name for the file\n * @param {GridFSBucket~errorCallback} [callback]\n */\n\nGridFSBucket.prototype.rename = function(id, filename, callback) {\n  return executeOperation(this.s.db.s.topology, _rename, [this, id, filename, callback], {\n    skipSessions: true\n  });\n};\n\n/**\n * @ignore\n */\n\nfunction _rename(_this, id, filename, callback) {\n  var filter = { _id: id };\n  var update = { $set: { filename: filename } };\n  _this.s._filesCollection.updateOne(filter, update, function(error, res) {\n    if (error) {\n      return callback(error);\n    }\n    if (!res.result.n) {\n      return callback(toError('File with id ' + id + ' not found'));\n    }\n    callback();\n  });\n}\n\n/**\n * Removes this bucket's files collection, followed by its chunks collection.\n * @method\n * @param {GridFSBucket~errorCallback} [callback]\n */\n\nGridFSBucket.prototype.drop = function(callback) {\n  return executeOperation(this.s.db.s.topology, _drop, [this, callback], {\n    skipSessions: true\n  });\n};\n\n/**\n * Return the db logger\n * @method\n * @return {Logger} return the db logger\n * @ignore\n */\nGridFSBucket.prototype.getLogger = function() {\n  return this.s.db.s.logger;\n};\n\n/**\n * @ignore\n */\n\nfunction _drop(_this, callback) {\n  _this.s._filesCollection.drop(function(error) {\n    if (error) {\n      return callback(error);\n    }\n    _this.s._chunksCollection.drop(function(error) {\n      if (error) {\n        return callback(error);\n      }\n\n      return callback();\n    });\n  });\n}\n\n/**\n * Callback format for all GridFSBucket methods that can accept a callback.\n * @callback GridFSBucket~errorCallback\n * @param {MongoError} error An error instance representing any errors that occurred\n */\n"},"lineCount":null}},"error":null,"hash":"df2daf4059eed22d3f41202333dfece5","cacheData":{"env":{}}}