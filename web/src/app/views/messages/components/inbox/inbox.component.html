<section class="page-wrapper">
    <div class="page-heading text-white">
        <div class="container">
            <h3>My Inbox</h3>
            <p>Monitor your messages while using dgiini.</p>
            <i class="fas fa-tasks shadow-icon"></i>
        </div>
    </div>

    <div class="container">
        <div class="row">
            <div class="col">
            </div>
        </div>

        <div class="row align-items-start">
            <div class="col-3">
                <div *ngIf="buddies">
                    <div *ngFor="let buddy of buddies">
                        <div class="">
                            <div class="row mt-2">
                                <div class="col-3">
                                    <img [src]="buddy ? buddy?.picture : 'assets/images/user.jpg'" class="profile-img border rounded-circle" alt=""/>
                                </div>
                                <div class="col-9">
                                    <div class="float-left" *ngIf="buddy">
                                        <div>
                                            <span class="font-weight-bold">{{ buddy.name }}</span>
                                        </div>
                                        <div>
                                            <span>{{ buddy.email }}</span>
                                        </div>
                                        <hr>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-7">
                <div *ngIf="conversations">
                    <div *ngFor="let conversation of conversations">
                        <div [ngClass]="conversation.from === currentUser._id ? 'msg msg-left': 'msg msg-right'" *ngIf="conversation.fromUser">
                            <div>
                                <span>{{ conversation.message | slice:0:100 }}</span>
                            </div>
                            <div class="mt-3 i small">{{ conversation.sentdate | date: "medium" }}</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-2">

                        <div class="" *ngIf="buddies">
                            <div class="row mt-2">
                                <div class="col-3">
                                    <img [src]="buddies[0] ? buddies[0]?.picture : 'assets/images/user.jpg'" class="profile-img border rounded-circle" alt=""/>
                                </div>
                                <div class="col-9">
                                        <div>
                                            <span class="font-weight-bold">{{ buddies[0].name }}</span>
                                        </div>
                                        <div>
                                            <span>{{ buddies[0].email }}</span>
                                        </div>
                                        <hr>
                                </div>
                            </div>
                        </div>
            </div>
        </div>
    </div>
</section>
