<header>
    <div class="d-flex flex-row flex-wrap justify-content-around">
        <div>
            <a href="/">
                <img src="assets/images/logo.png" class="img-fluid applogo">
            </a>
        </div>
        <div>
            <nav class="navbar top-nav navbar-expand-lg navbar-light">
                <ul class="navbar-nav d-flex flex-row justify-content-center flex-wrap">
                    <li class="nav-item m-1" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">
                        <a class="nav-link" [routerLink]="['./home']">
                            <mat-icon>home</mat-icon> home</a>
                    </li>
                    <li class="nav-item m-1" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">
                        <a class="nav-link" (click)="openDialog()">
                            <mat-icon>local_post_office</mat-icon>post a task</a>
                    </li>
                    <li class="nav-item m-1" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">
                        <a class="nav-link" routerLinkActive="active" [routerLink]="['./tasks']">
                            <mat-icon>local_library</mat-icon>browse tasks</a>
                    </li>
                    <li *ngIf="authService.loggedIn" class="nav-item m-1" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">
                        <a class="nav-link" routerLinkActive="active" [routerLink]="['./mytask']">
                            <mat-icon>note</mat-icon>my tasks</a>
                    </li>
                </ul>
            </nav>
        </div>
        <div class="d-flex flex-row sign-in-partial" *ngIf="!authService.loggedIn">
            <div class="dropdown ml-1">
                <button type="button" class="btn btn-link dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
                    <img src="assets/images/default-avatar.png">
                </button>
                <div class="dropdown-menu" x-placement="bottom-start" style="position: absolute; transform: translate3d(0px, 48px, 0px); top: 0px; left: 0px; will-change: transform;">
                    <a class="dropdown-item" (click)="login()">Sign in</a>
                    <a class="dropdown-item" (click)="openRegisterDialog()">Register</a>
                </div>
            </div>
            <div class="ml-1 font-weight-bold appuser"><a [routerLink]="[ './user/profile'] ">{{ currentUser?.name }}</a></div>
        </div>
        <div class="d-flex flex-row sign-in-partial" *ngIf="authService.userProfile$ | async as profile">
            <div class="dropdown ml-1">
                <button type="button" class="btn btn-link dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
                <img [src]="profile.picture">
            </button>
                <div class="dropdown-menu" x-placement="bottom-start" style="position: absolute; transform: translate3d(0px, 48px, 0px); top: 0px; left: 0px; will-change: transform;">
                    <a class="dropdown-item" [routerLink]="['./profile']">Profile</a>
                    <a class="dropdown-item" [routerLink]="['./user/upgrade']">Become Vendor</a>
                    <a class="dropdown-item" (click)="logout()">Sign out</a>
                </div>
            </div>
            <div class="ml-1 font-weight-bold appuser"><a [routerLink]="[ './user/profile'] ">{{ currentUser?.name }}</a></div>
        </div>
    </div>
</header>