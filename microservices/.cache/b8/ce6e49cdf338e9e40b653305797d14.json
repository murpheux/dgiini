{"id":"VfUO","dependencies":[{"name":"/Users/murpheux/Workspace/projects/dgiini/microservices/package.json","includedInParent":true,"mtime":1563323962672},{"name":"/Users/murpheux/Workspace/projects/dgiini/microservices/.babelrc","includedInParent":true,"mtime":1557029603000},{"name":"/Users/murpheux/Workspace/projects/dgiini/microservices/node_modules/mongodb/package.json","includedInParent":true,"mtime":1561227911480},{"name":"mongodb-core","loc":{"line":4,"column":40},"parent":"/Users/murpheux/Workspace/projects/dgiini/microservices/node_modules/mongodb/lib/error.js","resolved":"/Users/murpheux/Workspace/projects/dgiini/microservices/node_modules/mongodb-core/index.js"}],"generated":{"js":"\"use strict\";const e=require(\"mongodb-core\").MongoNetworkError,o=require(\"mongodb-core\").mongoErrorContextSymbol,r=new Set([136,237,11601]);function n(e){if(e[o])return e[o].isGetMore}function t(o){return!!n(o)&&!!(o instanceof e||!r.has(o.code)||o.message.match(/not master/)||o.message.match(/node is recovering/))}module.exports={GET_MORE_NON_RESUMABLE_CODES:r,isResumableError:t};"},"sourceMaps":{"js":{"mappings":[{"source":"../node_modules/mongodb/lib/error.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"../node_modules/mongodb/lib/error.js","original":{"line":3,"column":0},"generated":{"line":1,"column":13}},{"source":"../node_modules/mongodb/lib/error.js","name":"MongoNetworkError","original":{"line":3,"column":6},"generated":{"line":1,"column":19}},{"source":"../node_modules/mongodb/lib/error.js","name":"require","original":{"line":3,"column":26},"generated":{"line":1,"column":21}},{"source":"../node_modules/mongodb/lib/error.js","original":{"line":3,"column":34},"generated":{"line":1,"column":29}},{"source":"../node_modules/mongodb/lib/error.js","name":"MongoNetworkError","original":{"line":3,"column":50},"generated":{"line":1,"column":45}},{"source":"../node_modules/mongodb/lib/error.js","name":"mongoErrorContextSymbol","original":{"line":4,"column":6},"generated":{"line":1,"column":63}},{"source":"../node_modules/mongodb/lib/error.js","name":"require","original":{"line":4,"column":32},"generated":{"line":1,"column":65}},{"source":"../node_modules/mongodb/lib/error.js","original":{"line":4,"column":40},"generated":{"line":1,"column":73}},{"source":"../node_modules/mongodb/lib/error.js","name":"mongoErrorContextSymbol","original":{"line":4,"column":56},"generated":{"line":1,"column":89}},{"source":"../node_modules/mongodb/lib/error.js","name":"GET_MORE_NON_RESUMABLE_CODES","original":{"line":6,"column":6},"generated":{"line":1,"column":113}},{"source":"../node_modules/mongodb/lib/error.js","original":{"line":6,"column":37},"generated":{"line":1,"column":115}},{"source":"../node_modules/mongodb/lib/error.js","name":"Set","original":{"line":6,"column":41},"generated":{"line":1,"column":119}},{"source":"../node_modules/mongodb/lib/error.js","original":{"line":6,"column":45},"generated":{"line":1,"column":123}},{"source":"../node_modules/mongodb/lib/error.js","original":{"line":7,"column":2},"generated":{"line":1,"column":124}},{"source":"../node_modules/mongodb/lib/error.js","original":{"line":8,"column":2},"generated":{"line":1,"column":128}},{"source":"../node_modules/mongodb/lib/error.js","original":{"line":9,"column":2},"generated":{"line":1,"column":132}},{"source":"../node_modules/mongodb/lib/error.js","original":{"line":24,"column":0},"generated":{"line":1,"column":140}},{"source":"../node_modules/mongodb/lib/error.js","name":"isGetMoreError","original":{"line":24,"column":9},"generated":{"line":1,"column":149}},{"source":"../node_modules/mongodb/lib/error.js","name":"error","original":{"line":24,"column":24},"generated":{"line":1,"column":151}},{"source":"../node_modules/mongodb/lib/error.js","name":"error","original":{"line":25,"column":6},"generated":{"line":1,"column":154}},{"source":"../node_modules/mongodb/lib/error.js","name":"error","original":{"line":25,"column":6},"generated":{"line":1,"column":157}},{"source":"../node_modules/mongodb/lib/error.js","name":"mongoErrorContextSymbol","original":{"line":25,"column":12},"generated":{"line":1,"column":159}},{"source":"../node_modules/mongodb/lib/error.js","name":"error","original":{"line":26,"column":11},"generated":{"line":1,"column":162}},{"source":"../node_modules/mongodb/lib/error.js","name":"error","original":{"line":26,"column":11},"generated":{"line":1,"column":169}},{"source":"../node_modules/mongodb/lib/error.js","name":"mongoErrorContextSymbol","original":{"line":26,"column":17},"generated":{"line":1,"column":171}},{"source":"../node_modules/mongodb/lib/error.js","name":"isGetMore","original":{"line":26,"column":42},"generated":{"line":1,"column":174}},{"source":"../node_modules/mongodb/lib/error.js","original":{"line":30,"column":0},"generated":{"line":1,"column":184}},{"source":"../node_modules/mongodb/lib/error.js","name":"isResumableError","original":{"line":30,"column":9},"generated":{"line":1,"column":193}},{"source":"../node_modules/mongodb/lib/error.js","name":"error","original":{"line":30,"column":26},"generated":{"line":1,"column":195}},{"source":"../node_modules/mongodb/lib/error.js","original":{"line":31,"column":6},"generated":{"line":1,"column":198}},{"source":"../node_modules/mongodb/lib/error.js","name":"isGetMoreError","original":{"line":31,"column":7},"generated":{"line":1,"column":206}},{"source":"../node_modules/mongodb/lib/error.js","name":"error","original":{"line":31,"column":22},"generated":{"line":1,"column":208}},{"source":"../node_modules/mongodb/lib/error.js","name":"error","original":{"line":36,"column":4},"generated":{"line":1,"column":215}},{"source":"../node_modules/mongodb/lib/error.js","name":"MongoNetworkError","original":{"line":36,"column":21},"generated":{"line":1,"column":228}},{"source":"../node_modules/mongodb/lib/error.js","name":"GET_MORE_NON_RESUMABLE_CODES","original":{"line":37,"column":5},"generated":{"line":1,"column":232}},{"source":"../node_modules/mongodb/lib/error.js","name":"has","original":{"line":37,"column":34},"generated":{"line":1,"column":234}},{"source":"../node_modules/mongodb/lib/error.js","name":"error","original":{"line":37,"column":38},"generated":{"line":1,"column":238}},{"source":"../node_modules/mongodb/lib/error.js","name":"code","original":{"line":37,"column":44},"generated":{"line":1,"column":240}},{"source":"../node_modules/mongodb/lib/error.js","name":"error","original":{"line":38,"column":4},"generated":{"line":1,"column":247}},{"source":"../node_modules/mongodb/lib/error.js","name":"message","original":{"line":38,"column":10},"generated":{"line":1,"column":249}},{"source":"../node_modules/mongodb/lib/error.js","name":"match","original":{"line":38,"column":18},"generated":{"line":1,"column":257}},{"source":"../node_modules/mongodb/lib/error.js","original":{"line":38,"column":24},"generated":{"line":1,"column":263}},{"source":"../node_modules/mongodb/lib/error.js","name":"error","original":{"line":39,"column":4},"generated":{"line":1,"column":278}},{"source":"../node_modules/mongodb/lib/error.js","name":"message","original":{"line":39,"column":10},"generated":{"line":1,"column":280}},{"source":"../node_modules/mongodb/lib/error.js","name":"match","original":{"line":39,"column":18},"generated":{"line":1,"column":288}},{"source":"../node_modules/mongodb/lib/error.js","original":{"line":39,"column":24},"generated":{"line":1,"column":294}},{"source":"../node_modules/mongodb/lib/error.js","name":"module","original":{"line":43,"column":0},"generated":{"line":1,"column":317}},{"source":"../node_modules/mongodb/lib/error.js","name":"exports","original":{"line":43,"column":7},"generated":{"line":1,"column":324}},{"source":"../node_modules/mongodb/lib/error.js","original":{"line":43,"column":17},"generated":{"line":1,"column":332}},{"source":"../node_modules/mongodb/lib/error.js","name":"GET_MORE_NON_RESUMABLE_CODES","original":{"line":43,"column":19},"generated":{"line":1,"column":333}},{"source":"../node_modules/mongodb/lib/error.js","name":"GET_MORE_NON_RESUMABLE_CODES","original":{"line":43,"column":19},"generated":{"line":1,"column":362}},{"source":"../node_modules/mongodb/lib/error.js","name":"isResumableError","original":{"line":43,"column":49},"generated":{"line":1,"column":364}},{"source":"../node_modules/mongodb/lib/error.js","name":"isResumableError","original":{"line":43,"column":49},"generated":{"line":1,"column":381}}],"sources":{"../node_modules/mongodb/lib/error.js":"'use strict';\n\nconst MongoNetworkError = require('mongodb-core').MongoNetworkError;\nconst mongoErrorContextSymbol = require('mongodb-core').mongoErrorContextSymbol;\n\nconst GET_MORE_NON_RESUMABLE_CODES = new Set([\n  136, // CappedPositionLost\n  237, // CursorKilled\n  11601 // Interrupted\n]);\n\n// From spec@https://github.com/mongodb/specifications/blob/35e466ddf25059cb30e4113de71cdebd3754657f/source/change-streams.rst#resumable-error:\n//\n// An error is considered resumable if it meets any of the following criteria:\n// - any error encountered which is not a server error (e.g. a timeout error or network error)\n// - any server error response from a getMore command excluding those containing the following error codes\n//   - Interrupted: 11601\n//   - CappedPositionLost: 136\n//   - CursorKilled: 237\n// - a server error response with an error message containing the substring \"not master\" or \"node is recovering\"\n//\n// An error on an aggregate command is not a resumable error. Only errors on a getMore command may be considered resumable errors.\n\nfunction isGetMoreError(error) {\n  if (error[mongoErrorContextSymbol]) {\n    return error[mongoErrorContextSymbol].isGetMore;\n  }\n}\n\nfunction isResumableError(error) {\n  if (!isGetMoreError(error)) {\n    return false;\n  }\n\n  return !!(\n    error instanceof MongoNetworkError ||\n    !GET_MORE_NON_RESUMABLE_CODES.has(error.code) ||\n    error.message.match(/not master/) ||\n    error.message.match(/node is recovering/)\n  );\n}\n\nmodule.exports = { GET_MORE_NON_RESUMABLE_CODES, isResumableError };\n"},"lineCount":null}},"error":null,"hash":"e746ccd4d803a4cdfedba6d58cf510af","cacheData":{"env":{}}}