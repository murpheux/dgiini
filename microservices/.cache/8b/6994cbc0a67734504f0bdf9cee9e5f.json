{"id":"y/Ts","dependencies":[{"name":"/Users/murpheux/Workspace/projects/dgiini/microservices/package.json","includedInParent":true,"mtime":1563323962672},{"name":"/Users/murpheux/Workspace/projects/dgiini/microservices/.babelrc","includedInParent":true,"mtime":1557029603000},{"name":"/Users/murpheux/Workspace/projects/dgiini/microservices/node_modules/mongodb-core/package.json","includedInParent":true,"mtime":1561227911279},{"name":"../wireprotocol/shared","loc":{"line":31,"column":34},"parent":"/Users/murpheux/Workspace/projects/dgiini/microservices/node_modules/mongodb-core/lib/connection/msg.js","resolved":"/Users/murpheux/Workspace/projects/dgiini/microservices/node_modules/mongodb-core/lib/wireprotocol/shared.js"},{"name":"../topologies/read_preference","loc":{"line":32,"column":31},"parent":"/Users/murpheux/Workspace/projects/dgiini/microservices/node_modules/mongodb-core/lib/connection/msg.js","resolved":"/Users/murpheux/Workspace/projects/dgiini/microservices/node_modules/mongodb-core/lib/topologies/read_preference.js"},{"name":"buffer","parent":"/Users/murpheux/Workspace/projects/dgiini/microservices/node_modules/mongodb-core/lib/connection/msg.js","resolved":"/Users/murpheux/.config/yarn/global/node_modules/node-libs-browser/node_modules/buffer/index.js"}],"generated":{"js":"var Buffer = require(\"buffer\").Buffer;\nvar e=require(\"buffer\").Buffer;const s=require(\"../wireprotocol/shared\").opcodes,t=require(\"../wireprotocol/shared\").databaseNamespace,o=require(\"../topologies/read_preference\");let r=0;const i=1,n=2,h=65536;class a{constructor(e,s,r,i){if(null==r)throw new Error(\"query must be specified for query\");this.bson=e,this.ns=s,this.command=r,this.command.$db=t(s),i.readPreference&&i.readPreference.mode!==o.PRIMARY&&(this.command.$readPreference=i.readPreference.toJSON()),this.options=i||{},this.requestId=a.getRequestId(),this.serializeFunctions=\"boolean\"==typeof i.serializeFunctions&&i.serializeFunctions,this.ignoreUndefined=\"boolean\"==typeof i.ignoreUndefined&&i.ignoreUndefined,this.checkKeys=\"boolean\"==typeof i.checkKeys&&i.checkKeys,this.maxBsonSize=i.maxBsonSize||16777216,this.checksumPresent=!1,this.moreToCome=i.moreToCome||!1,this.exhaustAllowed=!1}toBin(){const t=[];let o=0;this.checksumPresent&&(o|=i),this.moreToCome&&(o|=n),this.exhaustAllowed&&(o|=h);const r=new e(20);t.push(r);let a=r.length;const d=this.command;return a+=this.makeDocumentSegment(t,d),r.writeInt32LE(a,0),r.writeInt32LE(this.requestId,4),r.writeInt32LE(0,8),r.writeInt32LE(s.OP_MSG,12),r.writeUInt32LE(o,16),t}makeDocumentSegment(s,t){const o=new e(1);o[0]=0;const r=this.serializeBson(t);return s.push(o),s.push(r),o.length+r.length}serializeBson(e){return this.bson.serialize(e,{checkKeys:this.checkKeys,serializeFunctions:this.serializeFunctions,ignoreUndefined:this.ignoreUndefined})}}a.getRequestId=function(){return++r};class d{constructor(e,s,t,o,r){r=r||{promoteLongs:!0,promoteValues:!0,promoteBuffers:!1},this.parsed=!1,this.raw=s,this.data=o,this.bson=e,this.opts=r,this.length=t.length,this.requestId=t.requestId,this.responseTo=t.responseTo,this.opCode=t.opCode,this.fromCompressed=t.fromCompressed,this.responseFlags=o.readInt32LE(0),this.checksumPresent=0!=(this.responseFlags&i),this.moreToCome=0!=(this.responseFlags&n),this.exhaustAllowed=0!=(this.responseFlags&h),this.promoteLongs=\"boolean\"!=typeof r.promoteLongs||r.promoteLongs,this.promoteValues=\"boolean\"!=typeof r.promoteValues||r.promoteValues,this.promoteBuffers=\"boolean\"==typeof r.promoteBuffers&&r.promoteBuffers,this.documents=[]}isParsed(){return this.parsed}parse(e){if(this.parsed)return;e=e||{},this.index=4;const s=e.raw||!1,t=e.documentsReturnedIn||null,o={promoteLongs:\"boolean\"==typeof e.promoteLongs?e.promoteLongs:this.opts.promoteLongs,promoteValues:\"boolean\"==typeof e.promoteValues?e.promoteValues:this.opts.promoteValues,promoteBuffers:\"boolean\"==typeof e.promoteBuffers?e.promoteBuffers:this.opts.promoteBuffers};for(;this.index<this.data.length;){const e=this.data.readUInt8(this.index++);if(1===e)console.error(\"TYPE 1\");else if(0===e){const e=this.data.readUInt32LE(this.index),t=this.data.slice(this.index,this.index+e);this.documents.push(s?t:this.bson.deserialize(t,o)),this.index+=e}}if(1===this.documents.length&&null!=t&&s){const e={};e[t]=!0,o.fieldsAsRaw=e;const s=this.bson.deserialize(this.documents[0],o);this.documents=[s]}this.parsed=!0}}module.exports={Msg:a,BinMsg:d};"},"sourceMaps":{"js":{"mappings":[{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":220,"column":0},"generated":{"line":2,"column":0}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":220,"column":0},"generated":{"line":2,"column":4}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":220,"column":0},"generated":{"line":2,"column":6}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":220,"column":0},"generated":{"line":2,"column":14}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":220,"column":0},"generated":{"line":2,"column":24}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":30,"column":0},"generated":{"line":2,"column":31}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":30,"column":0},"generated":{"line":2,"column":37}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":30,"column":0},"generated":{"line":2,"column":39}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":30,"column":0},"generated":{"line":2,"column":47}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":30,"column":0},"generated":{"line":2,"column":73}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":31,"column":0},"generated":{"line":2,"column":81}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":31,"column":0},"generated":{"line":2,"column":83}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":31,"column":0},"generated":{"line":2,"column":91}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":31,"column":0},"generated":{"line":2,"column":117}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":32,"column":0},"generated":{"line":2,"column":135}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":32,"column":0},"generated":{"line":2,"column":137}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":32,"column":0},"generated":{"line":2,"column":145}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":35,"column":0},"generated":{"line":2,"column":178}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":35,"column":0},"generated":{"line":2,"column":182}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":35,"column":0},"generated":{"line":2,"column":184}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":38,"column":0},"generated":{"line":2,"column":186}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":38,"column":0},"generated":{"line":2,"column":192}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":38,"column":0},"generated":{"line":2,"column":194}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":39,"column":0},"generated":{"line":2,"column":196}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":39,"column":0},"generated":{"line":2,"column":198}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":40,"column":0},"generated":{"line":2,"column":200}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":40,"column":0},"generated":{"line":2,"column":202}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":42,"column":0},"generated":{"line":2,"column":208}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":42,"column":0},"generated":{"line":2,"column":214}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":43,"column":0},"generated":{"line":2,"column":216}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":43,"column":0},"generated":{"line":2,"column":228}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":43,"column":0},"generated":{"line":2,"column":230}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":43,"column":0},"generated":{"line":2,"column":232}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":43,"column":0},"generated":{"line":2,"column":234}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":45,"column":0},"generated":{"line":2,"column":237}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":45,"column":0},"generated":{"line":2,"column":240}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":45,"column":0},"generated":{"line":2,"column":246}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":45,"column":0},"generated":{"line":2,"column":248}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":45,"column":0},"generated":{"line":2,"column":254}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":45,"column":0},"generated":{"line":2,"column":258}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":45,"column":0},"generated":{"line":2,"column":264}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":48,"column":0},"generated":{"line":2,"column":301}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":48,"column":0},"generated":{"line":2,"column":306}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":48,"column":0},"generated":{"line":2,"column":311}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":49,"column":0},"generated":{"line":2,"column":313}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":49,"column":0},"generated":{"line":2,"column":318}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":49,"column":0},"generated":{"line":2,"column":321}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":50,"column":0},"generated":{"line":2,"column":323}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":50,"column":0},"generated":{"line":2,"column":328}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":50,"column":0},"generated":{"line":2,"column":336}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":51,"column":0},"generated":{"line":2,"column":338}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":51,"column":0},"generated":{"line":2,"column":343}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":51,"column":0},"generated":{"line":2,"column":351}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":51,"column":0},"generated":{"line":2,"column":355}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":51,"column":0},"generated":{"line":2,"column":357}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":53,"column":0},"generated":{"line":2,"column":360}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":53,"column":0},"generated":{"line":2,"column":362}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":53,"column":0},"generated":{"line":2,"column":378}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":53,"column":0},"generated":{"line":2,"column":380}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":53,"column":0},"generated":{"line":2,"column":395}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":53,"column":0},"generated":{"line":2,"column":402}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":53,"column":0},"generated":{"line":2,"column":404}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":54,"column":0},"generated":{"line":2,"column":414}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":54,"column":0},"generated":{"line":2,"column":419}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":54,"column":0},"generated":{"line":2,"column":427}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":54,"column":0},"generated":{"line":2,"column":443}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":54,"column":0},"generated":{"line":2,"column":445}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":54,"column":0},"generated":{"line":2,"column":460}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":58,"column":0},"generated":{"line":2,"column":470}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":58,"column":0},"generated":{"line":2,"column":475}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":58,"column":0},"generated":{"line":2,"column":483}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":58,"column":0},"generated":{"line":2,"column":486}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":61,"column":0},"generated":{"line":2,"column":489}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":61,"column":0},"generated":{"line":2,"column":494}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":61,"column":0},"generated":{"line":2,"column":504}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":61,"column":0},"generated":{"line":2,"column":506}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":64,"column":0},"generated":{"line":2,"column":521}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":64,"column":0},"generated":{"line":2,"column":526}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":65,"column":0},"generated":{"line":2,"column":545}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":65,"column":0},"generated":{"line":2,"column":563}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":65,"column":0},"generated":{"line":2,"column":565}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":65,"column":0},"generated":{"line":2,"column":585}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":65,"column":0},"generated":{"line":2,"column":587}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":66,"column":0},"generated":{"line":2,"column":606}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":66,"column":0},"generated":{"line":2,"column":611}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":67,"column":0},"generated":{"line":2,"column":627}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":67,"column":0},"generated":{"line":2,"column":645}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":67,"column":0},"generated":{"line":2,"column":647}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":67,"column":0},"generated":{"line":2,"column":664}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":67,"column":0},"generated":{"line":2,"column":666}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":68,"column":0},"generated":{"line":2,"column":682}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":68,"column":0},"generated":{"line":2,"column":687}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":68,"column":0},"generated":{"line":2,"column":697}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":68,"column":0},"generated":{"line":2,"column":715}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":68,"column":0},"generated":{"line":2,"column":717}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":68,"column":0},"generated":{"line":2,"column":728}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":68,"column":0},"generated":{"line":2,"column":730}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":69,"column":0},"generated":{"line":2,"column":740}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":69,"column":0},"generated":{"line":2,"column":745}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":69,"column":0},"generated":{"line":2,"column":757}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":69,"column":0},"generated":{"line":2,"column":759}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":69,"column":0},"generated":{"line":2,"column":772}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":72,"column":0},"generated":{"line":2,"column":781}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":72,"column":0},"generated":{"line":2,"column":786}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":72,"column":0},"generated":{"line":2,"column":803}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":73,"column":0},"generated":{"line":2,"column":805}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":73,"column":0},"generated":{"line":2,"column":810}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":73,"column":0},"generated":{"line":2,"column":821}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":73,"column":0},"generated":{"line":2,"column":823}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":73,"column":0},"generated":{"line":2,"column":836}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":74,"column":0},"generated":{"line":2,"column":838}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":74,"column":0},"generated":{"line":2,"column":843}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":74,"column":0},"generated":{"line":2,"column":859}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":77,"column":0},"generated":{"line":2,"column":861}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":78,"column":0},"generated":{"line":2,"column":869}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":78,"column":0},"generated":{"line":2,"column":875}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":78,"column":0},"generated":{"line":2,"column":877}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":79,"column":0},"generated":{"line":2,"column":880}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":79,"column":0},"generated":{"line":2,"column":884}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":79,"column":0},"generated":{"line":2,"column":886}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":81,"column":0},"generated":{"line":2,"column":888}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":81,"column":0},"generated":{"line":2,"column":893}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":82,"column":0},"generated":{"line":2,"column":911}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":82,"column":0},"generated":{"line":2,"column":914}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":85,"column":0},"generated":{"line":2,"column":917}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":85,"column":0},"generated":{"line":2,"column":922}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":86,"column":0},"generated":{"line":2,"column":935}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":86,"column":0},"generated":{"line":2,"column":938}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":89,"column":0},"generated":{"line":2,"column":941}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":89,"column":0},"generated":{"line":2,"column":946}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":90,"column":0},"generated":{"line":2,"column":963}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":90,"column":0},"generated":{"line":2,"column":966}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":93,"column":0},"generated":{"line":2,"column":969}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":93,"column":0},"generated":{"line":2,"column":975}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":93,"column":0},"generated":{"line":2,"column":977}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":93,"column":0},"generated":{"line":2,"column":981}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":94,"column":0},"generated":{"line":2,"column":983}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":98,"column":0},"generated":{"line":2,"column":987}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":98,"column":0},"generated":{"line":2,"column":989}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":98,"column":0},"generated":{"line":2,"column":994}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":100,"column":0},"generated":{"line":2,"column":997}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":100,"column":0},"generated":{"line":2,"column":1001}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":100,"column":0},"generated":{"line":2,"column":1003}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":100,"column":0},"generated":{"line":2,"column":1005}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":101,"column":0},"generated":{"line":2,"column":1012}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":101,"column":0},"generated":{"line":2,"column":1018}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":101,"column":0},"generated":{"line":2,"column":1020}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":101,"column":0},"generated":{"line":2,"column":1025}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":109,"column":0},"generated":{"line":2,"column":1033}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":102,"column":0},"generated":{"line":2,"column":1040}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":102,"column":0},"generated":{"line":2,"column":1043}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":102,"column":0},"generated":{"line":2,"column":1048}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":102,"column":0},"generated":{"line":2,"column":1068}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":102,"column":0},"generated":{"line":2,"column":1070}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":104,"column":0},"generated":{"line":2,"column":1073}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":104,"column":0},"generated":{"line":2,"column":1075}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":104,"column":0},"generated":{"line":2,"column":1088}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":104,"column":0},"generated":{"line":2,"column":1090}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":105,"column":0},"generated":{"line":2,"column":1093}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":105,"column":0},"generated":{"line":2,"column":1095}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":105,"column":0},"generated":{"line":2,"column":1108}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":105,"column":0},"generated":{"line":2,"column":1113}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":105,"column":0},"generated":{"line":2,"column":1123}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":106,"column":0},"generated":{"line":2,"column":1126}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":106,"column":0},"generated":{"line":2,"column":1128}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":106,"column":0},"generated":{"line":2,"column":1141}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":106,"column":0},"generated":{"line":2,"column":1143}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":107,"column":0},"generated":{"line":2,"column":1146}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":107,"column":0},"generated":{"line":2,"column":1148}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":107,"column":0},"generated":{"line":2,"column":1161}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":107,"column":0},"generated":{"line":2,"column":1163}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":107,"column":0},"generated":{"line":2,"column":1170}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":108,"column":0},"generated":{"line":2,"column":1174}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":108,"column":0},"generated":{"line":2,"column":1176}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":108,"column":0},"generated":{"line":2,"column":1190}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":108,"column":0},"generated":{"line":2,"column":1192}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":109,"column":0},"generated":{"line":2,"column":1196}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":112,"column":0},"generated":{"line":2,"column":1198}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":112,"column":0},"generated":{"line":2,"column":1218}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":112,"column":0},"generated":{"line":2,"column":1220}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":113,"column":0},"generated":{"line":2,"column":1223}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":113,"column":0},"generated":{"line":2,"column":1229}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":113,"column":0},"generated":{"line":2,"column":1231}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":113,"column":0},"generated":{"line":2,"column":1235}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":113,"column":0},"generated":{"line":2,"column":1237}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":114,"column":0},"generated":{"line":2,"column":1240}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":114,"column":0},"generated":{"line":2,"column":1242}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":114,"column":0},"generated":{"line":2,"column":1245}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":116,"column":0},"generated":{"line":2,"column":1247}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":116,"column":0},"generated":{"line":2,"column":1253}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":116,"column":0},"generated":{"line":2,"column":1255}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":116,"column":0},"generated":{"line":2,"column":1260}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":116,"column":0},"generated":{"line":2,"column":1274}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":120,"column":0},"generated":{"line":2,"column":1277}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":117,"column":0},"generated":{"line":2,"column":1284}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":117,"column":0},"generated":{"line":2,"column":1286}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":117,"column":0},"generated":{"line":2,"column":1291}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":118,"column":0},"generated":{"line":2,"column":1294}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":118,"column":0},"generated":{"line":2,"column":1296}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":118,"column":0},"generated":{"line":2,"column":1301}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":120,"column":0},"generated":{"line":2,"column":1304}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":120,"column":0},"generated":{"line":2,"column":1306}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":120,"column":0},"generated":{"line":2,"column":1313}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":120,"column":0},"generated":{"line":2,"column":1315}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":123,"column":0},"generated":{"line":2,"column":1322}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":123,"column":0},"generated":{"line":2,"column":1336}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":124,"column":0},"generated":{"line":2,"column":1339}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":124,"column":0},"generated":{"line":2,"column":1346}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":124,"column":0},"generated":{"line":2,"column":1351}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":124,"column":0},"generated":{"line":2,"column":1356}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":124,"column":0},"generated":{"line":2,"column":1366}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":124,"column":0},"generated":{"line":2,"column":1368}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":125,"column":0},"generated":{"line":2,"column":1369}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":125,"column":0},"generated":{"line":2,"column":1379}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":125,"column":0},"generated":{"line":2,"column":1384}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":126,"column":0},"generated":{"line":2,"column":1394}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":126,"column":0},"generated":{"line":2,"column":1413}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":126,"column":0},"generated":{"line":2,"column":1418}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":127,"column":0},"generated":{"line":2,"column":1437}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":127,"column":0},"generated":{"line":2,"column":1453}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":127,"column":0},"generated":{"line":2,"column":1458}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":132,"column":0},"generated":{"line":2,"column":1477}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":132,"column":0},"generated":{"line":2,"column":1479}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":132,"column":0},"generated":{"line":2,"column":1492}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":133,"column":0},"generated":{"line":2,"column":1503}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":133,"column":0},"generated":{"line":2,"column":1511}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":136,"column":0},"generated":{"line":2,"column":1514}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":136,"column":0},"generated":{"line":2,"column":1520}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":137,"column":0},"generated":{"line":2,"column":1522}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":137,"column":0},"generated":{"line":2,"column":1534}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":137,"column":0},"generated":{"line":2,"column":1536}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":137,"column":0},"generated":{"line":2,"column":1538}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":137,"column":0},"generated":{"line":2,"column":1540}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":137,"column":0},"generated":{"line":2,"column":1542}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":138,"column":0},"generated":{"line":2,"column":1545}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":138,"column":0},"generated":{"line":2,"column":1547}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":138,"column":0},"generated":{"line":2,"column":1550}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":138,"column":0},"generated":{"line":2,"column":1551}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":138,"column":0},"generated":{"line":2,"column":1565}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":138,"column":0},"generated":{"line":2,"column":1567}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":138,"column":0},"generated":{"line":2,"column":1582}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":138,"column":0},"generated":{"line":2,"column":1584}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":138,"column":0},"generated":{"line":2,"column":1600}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":139,"column":0},"generated":{"line":2,"column":1603}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":139,"column":0},"generated":{"line":2,"column":1608}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":139,"column":0},"generated":{"line":2,"column":1616}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":140,"column":0},"generated":{"line":2,"column":1618}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":140,"column":0},"generated":{"line":2,"column":1623}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":140,"column":0},"generated":{"line":2,"column":1627}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":141,"column":0},"generated":{"line":2,"column":1629}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":141,"column":0},"generated":{"line":2,"column":1634}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":141,"column":0},"generated":{"line":2,"column":1639}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":142,"column":0},"generated":{"line":2,"column":1641}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":142,"column":0},"generated":{"line":2,"column":1646}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":142,"column":0},"generated":{"line":2,"column":1651}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":143,"column":0},"generated":{"line":2,"column":1653}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":143,"column":0},"generated":{"line":2,"column":1658}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":143,"column":0},"generated":{"line":2,"column":1663}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":146,"column":0},"generated":{"line":2,"column":1665}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":146,"column":0},"generated":{"line":2,"column":1670}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":146,"column":0},"generated":{"line":2,"column":1677}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":146,"column":0},"generated":{"line":2,"column":1679}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":147,"column":0},"generated":{"line":2,"column":1686}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":147,"column":0},"generated":{"line":2,"column":1691}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":147,"column":0},"generated":{"line":2,"column":1701}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":147,"column":0},"generated":{"line":2,"column":1703}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":148,"column":0},"generated":{"line":2,"column":1713}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":148,"column":0},"generated":{"line":2,"column":1718}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":148,"column":0},"generated":{"line":2,"column":1729}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":148,"column":0},"generated":{"line":2,"column":1731}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":149,"column":0},"generated":{"line":2,"column":1742}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":149,"column":0},"generated":{"line":2,"column":1747}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":149,"column":0},"generated":{"line":2,"column":1754}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":149,"column":0},"generated":{"line":2,"column":1756}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":150,"column":0},"generated":{"line":2,"column":1763}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":150,"column":0},"generated":{"line":2,"column":1768}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":150,"column":0},"generated":{"line":2,"column":1783}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":150,"column":0},"generated":{"line":2,"column":1785}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":153,"column":0},"generated":{"line":2,"column":1800}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":153,"column":0},"generated":{"line":2,"column":1805}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":153,"column":0},"generated":{"line":2,"column":1819}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":153,"column":0},"generated":{"line":2,"column":1821}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":153,"column":0},"generated":{"line":2,"column":1833}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":154,"column":0},"generated":{"line":2,"column":1836}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":154,"column":0},"generated":{"line":2,"column":1841}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":154,"column":0},"generated":{"line":2,"column":1857}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":154,"column":0},"generated":{"line":2,"column":1861}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":154,"column":0},"generated":{"line":2,"column":1866}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":154,"column":0},"generated":{"line":2,"column":1880}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":155,"column":0},"generated":{"line":2,"column":1883}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":155,"column":0},"generated":{"line":2,"column":1888}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":155,"column":0},"generated":{"line":2,"column":1899}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":155,"column":0},"generated":{"line":2,"column":1903}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":155,"column":0},"generated":{"line":2,"column":1908}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":155,"column":0},"generated":{"line":2,"column":1922}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":156,"column":0},"generated":{"line":2,"column":1925}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":156,"column":0},"generated":{"line":2,"column":1930}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":156,"column":0},"generated":{"line":2,"column":1945}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":156,"column":0},"generated":{"line":2,"column":1949}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":156,"column":0},"generated":{"line":2,"column":1954}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":156,"column":0},"generated":{"line":2,"column":1968}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":157,"column":0},"generated":{"line":2,"column":1971}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":157,"column":0},"generated":{"line":2,"column":1976}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":157,"column":0},"generated":{"line":2,"column":1989}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":157,"column":0},"generated":{"line":2,"column":2007}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":157,"column":0},"generated":{"line":2,"column":2009}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":157,"column":0},"generated":{"line":2,"column":2023}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":157,"column":0},"generated":{"line":2,"column":2025}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":158,"column":0},"generated":{"line":2,"column":2038}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":158,"column":0},"generated":{"line":2,"column":2043}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":158,"column":0},"generated":{"line":2,"column":2057}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":158,"column":0},"generated":{"line":2,"column":2075}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":158,"column":0},"generated":{"line":2,"column":2077}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":158,"column":0},"generated":{"line":2,"column":2092}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":158,"column":0},"generated":{"line":2,"column":2094}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":159,"column":0},"generated":{"line":2,"column":2108}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":159,"column":0},"generated":{"line":2,"column":2113}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":159,"column":0},"generated":{"line":2,"column":2128}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":159,"column":0},"generated":{"line":2,"column":2146}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":159,"column":0},"generated":{"line":2,"column":2148}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":159,"column":0},"generated":{"line":2,"column":2164}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":159,"column":0},"generated":{"line":2,"column":2166}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":161,"column":0},"generated":{"line":2,"column":2181}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":161,"column":0},"generated":{"line":2,"column":2186}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":161,"column":0},"generated":{"line":2,"column":2196}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":164,"column":0},"generated":{"line":2,"column":2199}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":165,"column":0},"generated":{"line":2,"column":2210}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":165,"column":0},"generated":{"line":2,"column":2217}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":165,"column":0},"generated":{"line":2,"column":2222}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":168,"column":0},"generated":{"line":2,"column":2229}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":168,"column":0},"generated":{"line":2,"column":2235}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":170,"column":0},"generated":{"line":2,"column":2238}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":170,"column":0},"generated":{"line":2,"column":2241}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":170,"column":0},"generated":{"line":2,"column":2246}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":170,"column":0},"generated":{"line":2,"column":2253}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":171,"column":0},"generated":{"line":2,"column":2260}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":171,"column":0},"generated":{"line":2,"column":2262}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":171,"column":0},"generated":{"line":2,"column":2265}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":173,"column":0},"generated":{"line":2,"column":2268}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":173,"column":0},"generated":{"line":2,"column":2273}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":173,"column":0},"generated":{"line":2,"column":2279}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":175,"column":0},"generated":{"line":2,"column":2281}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":175,"column":0},"generated":{"line":2,"column":2287}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":175,"column":0},"generated":{"line":2,"column":2289}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":175,"column":0},"generated":{"line":2,"column":2291}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":175,"column":0},"generated":{"line":2,"column":2297}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":176,"column":0},"generated":{"line":2,"column":2299}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":176,"column":0},"generated":{"line":2,"column":2301}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":176,"column":0},"generated":{"line":2,"column":2303}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":176,"column":0},"generated":{"line":2,"column":2324}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":187,"column":0},"generated":{"line":2,"column":2329}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":187,"column":0},"generated":{"line":2,"column":2331}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":188,"column":0},"generated":{"line":2,"column":2332}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":178,"column":0},"generated":{"line":2,"column":2345}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":178,"column":0},"generated":{"line":2,"column":2363}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":178,"column":0},"generated":{"line":2,"column":2365}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":178,"column":0},"generated":{"line":2,"column":2378}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":178,"column":0},"generated":{"line":2,"column":2380}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":178,"column":0},"generated":{"line":2,"column":2393}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":178,"column":0},"generated":{"line":2,"column":2398}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":178,"column":0},"generated":{"line":2,"column":2403}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":189,"column":0},"generated":{"line":2,"column":2416}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":180,"column":0},"generated":{"line":2,"column":2430}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":180,"column":0},"generated":{"line":2,"column":2448}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":180,"column":0},"generated":{"line":2,"column":2450}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":180,"column":0},"generated":{"line":2,"column":2464}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":180,"column":0},"generated":{"line":2,"column":2466}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":180,"column":0},"generated":{"line":2,"column":2480}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":180,"column":0},"generated":{"line":2,"column":2485}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":180,"column":0},"generated":{"line":2,"column":2490}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":190,"column":0},"generated":{"line":2,"column":2504}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":182,"column":0},"generated":{"line":2,"column":2519}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":182,"column":0},"generated":{"line":2,"column":2537}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":182,"column":0},"generated":{"line":2,"column":2539}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":183,"column":0},"generated":{"line":2,"column":2554}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":183,"column":0},"generated":{"line":2,"column":2556}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":184,"column":0},"generated":{"line":2,"column":2571}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":184,"column":0},"generated":{"line":2,"column":2576}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":184,"column":0},"generated":{"line":2,"column":2581}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":193,"column":0},"generated":{"line":2,"column":2597}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":193,"column":0},"generated":{"line":2,"column":2602}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":193,"column":0},"generated":{"line":2,"column":2607}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":193,"column":0},"generated":{"line":2,"column":2613}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":193,"column":0},"generated":{"line":2,"column":2618}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":193,"column":0},"generated":{"line":2,"column":2623}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":193,"column":0},"generated":{"line":2,"column":2631}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":194,"column":0},"generated":{"line":2,"column":2632}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":194,"column":0},"generated":{"line":2,"column":2638}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":194,"column":0},"generated":{"line":2,"column":2640}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":194,"column":0},"generated":{"line":2,"column":2645}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":194,"column":0},"generated":{"line":2,"column":2650}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":194,"column":0},"generated":{"line":2,"column":2660}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":194,"column":0},"generated":{"line":2,"column":2665}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":195,"column":0},"generated":{"line":2,"column":2674}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":195,"column":0},"generated":{"line":2,"column":2677}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":195,"column":0},"generated":{"line":2,"column":2681}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":196,"column":0},"generated":{"line":2,"column":2683}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":196,"column":0},"generated":{"line":2,"column":2691}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":196,"column":0},"generated":{"line":2,"column":2697}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":197,"column":0},"generated":{"line":2,"column":2712}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":197,"column":0},"generated":{"line":2,"column":2715}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":197,"column":0},"generated":{"line":2,"column":2719}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":197,"column":0},"generated":{"line":2,"column":2721}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":198,"column":0},"generated":{"line":2,"column":2722}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":198,"column":0},"generated":{"line":2,"column":2728}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":198,"column":0},"generated":{"line":2,"column":2730}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":198,"column":0},"generated":{"line":2,"column":2735}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":198,"column":0},"generated":{"line":2,"column":2740}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":198,"column":0},"generated":{"line":2,"column":2753}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":198,"column":0},"generated":{"line":2,"column":2758}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":199,"column":0},"generated":{"line":2,"column":2765}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":199,"column":0},"generated":{"line":2,"column":2767}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":199,"column":0},"generated":{"line":2,"column":2772}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":199,"column":0},"generated":{"line":2,"column":2777}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":199,"column":0},"generated":{"line":2,"column":2783}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":199,"column":0},"generated":{"line":2,"column":2788}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":199,"column":0},"generated":{"line":2,"column":2794}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":199,"column":0},"generated":{"line":2,"column":2799}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":199,"column":0},"generated":{"line":2,"column":2805}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":200,"column":0},"generated":{"line":2,"column":2808}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":200,"column":0},"generated":{"line":2,"column":2813}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":200,"column":0},"generated":{"line":2,"column":2823}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":200,"column":0},"generated":{"line":2,"column":2828}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":200,"column":0},"generated":{"line":2,"column":2830}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":200,"column":0},"generated":{"line":2,"column":2832}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":200,"column":0},"generated":{"line":2,"column":2837}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":200,"column":0},"generated":{"line":2,"column":2842}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":200,"column":0},"generated":{"line":2,"column":2854}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":200,"column":0},"generated":{"line":2,"column":2856}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":202,"column":0},"generated":{"line":2,"column":2860}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":202,"column":0},"generated":{"line":2,"column":2865}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":202,"column":0},"generated":{"line":2,"column":2872}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":206,"column":0},"generated":{"line":2,"column":2875}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":206,"column":0},"generated":{"line":2,"column":2878}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":206,"column":0},"generated":{"line":2,"column":2882}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":206,"column":0},"generated":{"line":2,"column":2887}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":206,"column":0},"generated":{"line":2,"column":2897}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":206,"column":0},"generated":{"line":2,"column":2905}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":206,"column":0},"generated":{"line":2,"column":2911}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":206,"column":0},"generated":{"line":2,"column":2914}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":206,"column":0},"generated":{"line":2,"column":2916}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":207,"column":0},"generated":{"line":2,"column":2917}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":207,"column":0},"generated":{"line":2,"column":2923}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":207,"column":0},"generated":{"line":2,"column":2925}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":208,"column":0},"generated":{"line":2,"column":2928}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":208,"column":0},"generated":{"line":2,"column":2930}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":208,"column":0},"generated":{"line":2,"column":2934}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":209,"column":0},"generated":{"line":2,"column":2936}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":209,"column":0},"generated":{"line":2,"column":2938}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":209,"column":0},"generated":{"line":2,"column":2950}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":211,"column":0},"generated":{"line":2,"column":2952}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":211,"column":0},"generated":{"line":2,"column":2958}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":211,"column":0},"generated":{"line":2,"column":2960}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":211,"column":0},"generated":{"line":2,"column":2965}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":211,"column":0},"generated":{"line":2,"column":2970}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":211,"column":0},"generated":{"line":2,"column":2982}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":211,"column":0},"generated":{"line":2,"column":2987}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":211,"column":0},"generated":{"line":2,"column":2997}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":211,"column":0},"generated":{"line":2,"column":3000}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":212,"column":0},"generated":{"line":2,"column":3003}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":212,"column":0},"generated":{"line":2,"column":3008}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":212,"column":0},"generated":{"line":2,"column":3018}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":212,"column":0},"generated":{"line":2,"column":3019}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":215,"column":0},"generated":{"line":2,"column":3022}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":215,"column":0},"generated":{"line":2,"column":3027}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":215,"column":0},"generated":{"line":2,"column":3035}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":219,"column":0},"generated":{"line":2,"column":3038}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":219,"column":0},"generated":{"line":2,"column":3045}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":219,"column":0},"generated":{"line":2,"column":3053}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":219,"column":0},"generated":{"line":2,"column":3054}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":219,"column":0},"generated":{"line":2,"column":3058}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":219,"column":0},"generated":{"line":2,"column":3060}},{"source":"../node_modules/mongodb-core/lib/connection/msg.js","original":{"line":219,"column":0},"generated":{"line":2,"column":3067}}],"sources":{"../node_modules/mongodb-core/lib/connection/msg.js":"'use strict';\n\n// Implementation of OP_MSG spec:\n// https://github.com/mongodb/specifications/blob/master/source/message/OP_MSG.rst\n//\n// struct Section {\n//   uint8 payloadType;\n//   union payload {\n//       document  document; // payloadType == 0\n//       struct sequence { // payloadType == 1\n//           int32      size;\n//           cstring    identifier;\n//           document*  documents;\n//       };\n//   };\n// };\n\n// struct OP_MSG {\n//   struct MsgHeader {\n//       int32  messageLength;\n//       int32  requestID;\n//       int32  responseTo;\n//       int32  opCode = 2013;\n//   };\n//   uint32      flagBits;\n//   Section+    sections;\n//   [uint32     checksum;]\n// };\n\nconst opcodes = require('../wireprotocol/shared').opcodes;\nconst databaseNamespace = require('../wireprotocol/shared').databaseNamespace;\nconst ReadPreference = require('../topologies/read_preference');\n\n// Incrementing request id\nlet _requestId = 0;\n\n// Msg Flags\nconst OPTS_CHECKSUM_PRESENT = 1;\nconst OPTS_MORE_TO_COME = 2;\nconst OPTS_EXHAUST_ALLOWED = 1 << 16;\n\nclass Msg {\n  constructor(bson, ns, command, options) {\n    // Basic options needed to be passed in\n    if (command == null) throw new Error('query must be specified for query');\n\n    // Basic options\n    this.bson = bson;\n    this.ns = ns;\n    this.command = command;\n    this.command.$db = databaseNamespace(ns);\n\n    if (options.readPreference && options.readPreference.mode !== ReadPreference.PRIMARY) {\n      this.command.$readPreference = options.readPreference.toJSON();\n    }\n\n    // Ensure empty options\n    this.options = options || {};\n\n    // Additional options\n    this.requestId = Msg.getRequestId();\n\n    // Serialization option\n    this.serializeFunctions =\n      typeof options.serializeFunctions === 'boolean' ? options.serializeFunctions : false;\n    this.ignoreUndefined =\n      typeof options.ignoreUndefined === 'boolean' ? options.ignoreUndefined : false;\n    this.checkKeys = typeof options.checkKeys === 'boolean' ? options.checkKeys : false;\n    this.maxBsonSize = options.maxBsonSize || 1024 * 1024 * 16;\n\n    // flags\n    this.checksumPresent = false;\n    this.moreToCome = options.moreToCome || false;\n    this.exhaustAllowed = false;\n  }\n\n  toBin() {\n    const buffers = [];\n    let flags = 0;\n\n    if (this.checksumPresent) {\n      flags |= OPTS_CHECKSUM_PRESENT;\n    }\n\n    if (this.moreToCome) {\n      flags |= OPTS_MORE_TO_COME;\n    }\n\n    if (this.exhaustAllowed) {\n      flags |= OPTS_EXHAUST_ALLOWED;\n    }\n\n    const header = new Buffer(\n      4 * 4 + // Header\n        4 // Flags\n    );\n\n    buffers.push(header);\n\n    let totalLength = header.length;\n    const command = this.command;\n    totalLength += this.makeDocumentSegment(buffers, command);\n\n    header.writeInt32LE(totalLength, 0); // messageLength\n    header.writeInt32LE(this.requestId, 4); // requestID\n    header.writeInt32LE(0, 8); // responseTo\n    header.writeInt32LE(opcodes.OP_MSG, 12); // opCode\n    header.writeUInt32LE(flags, 16); // flags\n    return buffers;\n  }\n\n  makeDocumentSegment(buffers, document) {\n    const payloadTypeBuffer = new Buffer(1);\n    payloadTypeBuffer[0] = 0;\n\n    const documentBuffer = this.serializeBson(document);\n    buffers.push(payloadTypeBuffer);\n    buffers.push(documentBuffer);\n\n    return payloadTypeBuffer.length + documentBuffer.length;\n  }\n\n  serializeBson(document) {\n    return this.bson.serialize(document, {\n      checkKeys: this.checkKeys,\n      serializeFunctions: this.serializeFunctions,\n      ignoreUndefined: this.ignoreUndefined\n    });\n  }\n}\n\nMsg.getRequestId = function() {\n  return ++_requestId;\n};\n\nclass BinMsg {\n  constructor(bson, message, msgHeader, msgBody, opts) {\n    opts = opts || { promoteLongs: true, promoteValues: true, promoteBuffers: false };\n    this.parsed = false;\n    this.raw = message;\n    this.data = msgBody;\n    this.bson = bson;\n    this.opts = opts;\n\n    // Read the message header\n    this.length = msgHeader.length;\n    this.requestId = msgHeader.requestId;\n    this.responseTo = msgHeader.responseTo;\n    this.opCode = msgHeader.opCode;\n    this.fromCompressed = msgHeader.fromCompressed;\n\n    // Read response flags\n    this.responseFlags = msgBody.readInt32LE(0);\n    this.checksumPresent = (this.responseFlags & OPTS_CHECKSUM_PRESENT) !== 0;\n    this.moreToCome = (this.responseFlags & OPTS_MORE_TO_COME) !== 0;\n    this.exhaustAllowed = (this.responseFlags & OPTS_EXHAUST_ALLOWED) !== 0;\n    this.promoteLongs = typeof opts.promoteLongs === 'boolean' ? opts.promoteLongs : true;\n    this.promoteValues = typeof opts.promoteValues === 'boolean' ? opts.promoteValues : true;\n    this.promoteBuffers = typeof opts.promoteBuffers === 'boolean' ? opts.promoteBuffers : false;\n\n    this.documents = [];\n  }\n\n  isParsed() {\n    return this.parsed;\n  }\n\n  parse(options) {\n    // Don't parse again if not needed\n    if (this.parsed) return;\n    options = options || {};\n\n    this.index = 4;\n    // Allow the return of raw documents instead of parsing\n    const raw = options.raw || false;\n    const documentsReturnedIn = options.documentsReturnedIn || null;\n    const promoteLongs =\n      typeof options.promoteLongs === 'boolean' ? options.promoteLongs : this.opts.promoteLongs;\n    const promoteValues =\n      typeof options.promoteValues === 'boolean' ? options.promoteValues : this.opts.promoteValues;\n    const promoteBuffers =\n      typeof options.promoteBuffers === 'boolean'\n        ? options.promoteBuffers\n        : this.opts.promoteBuffers;\n\n    // Set up the options\n    const _options = {\n      promoteLongs: promoteLongs,\n      promoteValues: promoteValues,\n      promoteBuffers: promoteBuffers\n    };\n\n    while (this.index < this.data.length) {\n      const payloadType = this.data.readUInt8(this.index++);\n      if (payloadType === 1) {\n        console.error('TYPE 1');\n      } else if (payloadType === 0) {\n        const bsonSize = this.data.readUInt32LE(this.index);\n        const bin = this.data.slice(this.index, this.index + bsonSize);\n        this.documents.push(raw ? bin : this.bson.deserialize(bin, _options));\n\n        this.index += bsonSize;\n      }\n    }\n\n    if (this.documents.length === 1 && documentsReturnedIn != null && raw) {\n      const fieldsAsRaw = {};\n      fieldsAsRaw[documentsReturnedIn] = true;\n      _options.fieldsAsRaw = fieldsAsRaw;\n\n      const doc = this.bson.deserialize(this.documents[0], _options);\n      this.documents = [doc];\n    }\n\n    this.parsed = true;\n  }\n}\n\nmodule.exports = { Msg, BinMsg };\n"},"lineCount":null}},"error":null,"hash":"60cf76b3fed66aeee21939d2e97225e9","cacheData":{"env":{}}}