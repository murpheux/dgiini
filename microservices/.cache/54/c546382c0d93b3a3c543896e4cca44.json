{"id":"ETNK","dependencies":[{"name":"/Users/murpheux/Workspace/projects/dgiini/microservices/package.json","includedInParent":true,"mtime":1563323962672},{"name":"/Users/murpheux/Workspace/projects/dgiini/microservices/.babelrc","includedInParent":true,"mtime":1557029603000},{"name":"/Users/murpheux/Workspace/projects/dgiini/microservices/node_modules/mongodb-core/package.json","includedInParent":true,"mtime":1561227911279},{"name":"../topologies/read_preference","loc":{"line":3,"column":31},"parent":"/Users/murpheux/Workspace/projects/dgiini/microservices/node_modules/mongodb-core/lib/wireprotocol/shared.js","resolved":"/Users/murpheux/Workspace/projects/dgiini/microservices/node_modules/mongodb-core/lib/topologies/read_preference.js"},{"name":"../error","loc":{"line":4,"column":27},"parent":"/Users/murpheux/Workspace/projects/dgiini/microservices/node_modules/mongodb-core/lib/wireprotocol/shared.js","resolved":"/Users/murpheux/Workspace/projects/dgiini/microservices/node_modules/mongodb-core/lib/error.js"},{"name":"../sdam/server_description","loc":{"line":5,"column":27},"parent":"/Users/murpheux/Workspace/projects/dgiini/microservices/node_modules/mongodb-core/lib/wireprotocol/shared.js","resolved":"/Users/murpheux/Workspace/projects/dgiini/microservices/node_modules/mongodb-core/lib/sdam/server_description.js"},{"name":"../sdam/topology_description","loc":{"line":6,"column":36},"parent":"/Users/murpheux/Workspace/projects/dgiini/microservices/node_modules/mongodb-core/lib/wireprotocol/shared.js","resolved":"/Users/murpheux/Workspace/projects/dgiini/microservices/node_modules/mongodb-core/lib/sdam/topology_description.js"}],"generated":{"js":"\"use strict\";const e=require(\"../topologies/read_preference\"),o=require(\"../error\").MongoError,r=require(\"../sdam/server_description\").ServerType,n=require(\"../sdam/topology_description\").TopologyDescription,t=16,s=9;var i={OP_REPLY:1,OP_UPDATE:2001,OP_INSERT:2002,OP_QUERY:2004,OP_GETMORE:2005,OP_DELETE:2006,OP_KILL_CURSORS:2007,OP_COMPRESSED:2012,OP_MSG:2013},p=function(r,n){var t=r.readPreference||new e(\"primary\");if(n.readPreference&&(t=n.readPreference),\"string\"==typeof t&&(t=new e(t)),!(t instanceof e))throw new o(\"read preference must be a ReadPreference instance\");return t},u=function(e){return{length:e.readInt32LE(0),requestId:e.readInt32LE(4),responseTo:e.readInt32LE(8),opCode:e.readInt32LE(12)}};function a(e,o){return Object.assign(e,{raw:\"boolean\"==typeof o.raw&&o.raw,promoteLongs:\"boolean\"!=typeof o.promoteLongs||o.promoteLongs,promoteValues:\"boolean\"!=typeof o.promoteValues||o.promoteValues,promoteBuffers:\"boolean\"==typeof o.promoteBuffers&&o.promoteBuffers,monitoring:\"boolean\"==typeof o.monitoring&&o.monitoring,fullResult:\"boolean\"==typeof o.fullResult&&o.fullResult}),\"number\"==typeof o.socketTimeout&&(e.socketTimeout=o.socketTimeout),o.session&&(e.session=o.session),\"string\"==typeof o.documentsReturnedIn&&(e.documentsReturnedIn=o.documentsReturnedIn),e}function c(e){if(\"mongos\"===e.type)return!0;if(e.description&&e.description.type===r.Mongos)return!0;if(e.description&&e.description instanceof n){return Array.from(e.description.servers.values()).some(e=>e.type===r.Mongos)}return!1}function f(e){return e.split(\".\")[0]}function d(e){return e.split(\".\").slice(1).join(\".\")}module.exports={getReadPreference:p,MESSAGE_HEADER_SIZE:16,COMPRESSION_DETAILS_SIZE:9,opcodes:i,parseHeader:u,applyCommonQueryOptions:a,isSharded:c,databaseNamespace:f,collectionNamespace:d};"},"sourceMaps":{"js":{"mappings":[{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":3,"column":0},"generated":{"line":1,"column":13}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":3,"column":0},"generated":{"line":1,"column":19}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":3,"column":0},"generated":{"line":1,"column":21}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":3,"column":0},"generated":{"line":1,"column":29}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":4,"column":0},"generated":{"line":1,"column":62}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":4,"column":0},"generated":{"line":1,"column":64}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":4,"column":0},"generated":{"line":1,"column":72}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":4,"column":0},"generated":{"line":1,"column":84}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":5,"column":0},"generated":{"line":1,"column":95}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":5,"column":0},"generated":{"line":1,"column":97}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":5,"column":0},"generated":{"line":1,"column":105}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":5,"column":0},"generated":{"line":1,"column":135}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":6,"column":0},"generated":{"line":1,"column":146}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":6,"column":0},"generated":{"line":1,"column":148}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":6,"column":0},"generated":{"line":1,"column":156}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":6,"column":0},"generated":{"line":1,"column":188}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":8,"column":0},"generated":{"line":1,"column":208}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":8,"column":0},"generated":{"line":1,"column":210}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":9,"column":0},"generated":{"line":1,"column":213}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":9,"column":0},"generated":{"line":1,"column":215}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":13,"column":0},"generated":{"line":1,"column":217}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":13,"column":0},"generated":{"line":1,"column":221}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":13,"column":0},"generated":{"line":1,"column":223}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":14,"column":0},"generated":{"line":1,"column":224}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":14,"column":0},"generated":{"line":1,"column":233}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":15,"column":0},"generated":{"line":1,"column":235}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":15,"column":0},"generated":{"line":1,"column":245}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":16,"column":0},"generated":{"line":1,"column":250}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":16,"column":0},"generated":{"line":1,"column":260}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":17,"column":0},"generated":{"line":1,"column":265}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":17,"column":0},"generated":{"line":1,"column":274}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":18,"column":0},"generated":{"line":1,"column":279}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":18,"column":0},"generated":{"line":1,"column":290}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":19,"column":0},"generated":{"line":1,"column":295}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":19,"column":0},"generated":{"line":1,"column":305}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":20,"column":0},"generated":{"line":1,"column":310}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":20,"column":0},"generated":{"line":1,"column":326}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":21,"column":0},"generated":{"line":1,"column":331}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":21,"column":0},"generated":{"line":1,"column":345}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":22,"column":0},"generated":{"line":1,"column":350}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":22,"column":0},"generated":{"line":1,"column":357}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":25,"column":0},"generated":{"line":1,"column":363}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":25,"column":0},"generated":{"line":1,"column":365}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":25,"column":0},"generated":{"line":1,"column":374}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":25,"column":0},"generated":{"line":1,"column":376}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":27,"column":0},"generated":{"line":1,"column":379}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":27,"column":0},"generated":{"line":1,"column":383}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":27,"column":0},"generated":{"line":1,"column":385}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":27,"column":0},"generated":{"line":1,"column":387}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":27,"column":0},"generated":{"line":1,"column":403}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":27,"column":0},"generated":{"line":1,"column":407}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":27,"column":0},"generated":{"line":1,"column":409}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":37,"column":0},"generated":{"line":1,"column":420}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":29,"column":0},"generated":{"line":1,"column":423}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":29,"column":0},"generated":{"line":1,"column":425}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":30,"column":0},"generated":{"line":1,"column":442}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":30,"column":0},"generated":{"line":1,"column":444}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":30,"column":0},"generated":{"line":1,"column":446}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":33,"column":0},"generated":{"line":1,"column":462}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":33,"column":0},"generated":{"line":1,"column":479}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":34,"column":0},"generated":{"line":1,"column":483}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":34,"column":0},"generated":{"line":1,"column":485}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":34,"column":0},"generated":{"line":1,"column":489}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":34,"column":0},"generated":{"line":1,"column":491}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":37,"column":0},"generated":{"line":1,"column":497}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":37,"column":0},"generated":{"line":1,"column":510}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":38,"column":0},"generated":{"line":1,"column":513}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":38,"column":0},"generated":{"line":1,"column":519}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":38,"column":0},"generated":{"line":1,"column":523}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":38,"column":0},"generated":{"line":1,"column":525}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":41,"column":0},"generated":{"line":1,"column":578}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":41,"column":0},"generated":{"line":1,"column":585}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":45,"column":0},"generated":{"line":1,"column":588}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":45,"column":0},"generated":{"line":1,"column":590}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":45,"column":0},"generated":{"line":1,"column":599}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":46,"column":0},"generated":{"line":1,"column":602}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":46,"column":0},"generated":{"line":1,"column":608}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":47,"column":0},"generated":{"line":1,"column":609}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":47,"column":0},"generated":{"line":1,"column":616}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":47,"column":0},"generated":{"line":1,"column":618}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":47,"column":0},"generated":{"line":1,"column":630}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":48,"column":0},"generated":{"line":1,"column":633}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":48,"column":0},"generated":{"line":1,"column":643}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":48,"column":0},"generated":{"line":1,"column":645}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":48,"column":0},"generated":{"line":1,"column":657}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":49,"column":0},"generated":{"line":1,"column":660}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":49,"column":0},"generated":{"line":1,"column":671}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":49,"column":0},"generated":{"line":1,"column":673}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":49,"column":0},"generated":{"line":1,"column":685}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":50,"column":0},"generated":{"line":1,"column":688}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":50,"column":0},"generated":{"line":1,"column":695}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":50,"column":0},"generated":{"line":1,"column":697}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":50,"column":0},"generated":{"line":1,"column":709}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":54,"column":0},"generated":{"line":1,"column":715}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":54,"column":0},"generated":{"line":1,"column":724}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":54,"column":0},"generated":{"line":1,"column":726}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":54,"column":0},"generated":{"line":1,"column":728}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":76,"column":0},"generated":{"line":1,"column":731}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":55,"column":0},"generated":{"line":1,"column":738}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":55,"column":0},"generated":{"line":1,"column":745}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":55,"column":0},"generated":{"line":1,"column":752}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":55,"column":0},"generated":{"line":1,"column":754}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":56,"column":0},"generated":{"line":1,"column":755}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":56,"column":0},"generated":{"line":1,"column":759}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":56,"column":0},"generated":{"line":1,"column":777}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":56,"column":0},"generated":{"line":1,"column":779}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":56,"column":0},"generated":{"line":1,"column":784}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":56,"column":0},"generated":{"line":1,"column":786}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":57,"column":0},"generated":{"line":1,"column":790}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":57,"column":0},"generated":{"line":1,"column":803}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":57,"column":0},"generated":{"line":1,"column":821}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":57,"column":0},"generated":{"line":1,"column":823}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":57,"column":0},"generated":{"line":1,"column":837}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":57,"column":0},"generated":{"line":1,"column":839}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":58,"column":0},"generated":{"line":1,"column":852}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":58,"column":0},"generated":{"line":1,"column":866}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":58,"column":0},"generated":{"line":1,"column":884}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":58,"column":0},"generated":{"line":1,"column":886}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":58,"column":0},"generated":{"line":1,"column":901}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":58,"column":0},"generated":{"line":1,"column":903}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":59,"column":0},"generated":{"line":1,"column":917}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":59,"column":0},"generated":{"line":1,"column":932}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":59,"column":0},"generated":{"line":1,"column":950}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":59,"column":0},"generated":{"line":1,"column":952}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":59,"column":0},"generated":{"line":1,"column":968}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":59,"column":0},"generated":{"line":1,"column":970}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":60,"column":0},"generated":{"line":1,"column":985}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":60,"column":0},"generated":{"line":1,"column":996}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":60,"column":0},"generated":{"line":1,"column":1014}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":60,"column":0},"generated":{"line":1,"column":1016}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":60,"column":0},"generated":{"line":1,"column":1028}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":60,"column":0},"generated":{"line":1,"column":1030}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":61,"column":0},"generated":{"line":1,"column":1041}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":61,"column":0},"generated":{"line":1,"column":1052}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":61,"column":0},"generated":{"line":1,"column":1070}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":61,"column":0},"generated":{"line":1,"column":1072}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":61,"column":0},"generated":{"line":1,"column":1084}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":61,"column":0},"generated":{"line":1,"column":1086}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":64,"column":0},"generated":{"line":1,"column":1099}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":64,"column":0},"generated":{"line":1,"column":1116}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":64,"column":0},"generated":{"line":1,"column":1118}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":65,"column":0},"generated":{"line":1,"column":1134}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":65,"column":0},"generated":{"line":1,"column":1136}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":65,"column":0},"generated":{"line":1,"column":1150}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":65,"column":0},"generated":{"line":1,"column":1152}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":68,"column":0},"generated":{"line":1,"column":1167}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":68,"column":0},"generated":{"line":1,"column":1169}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":69,"column":0},"generated":{"line":1,"column":1179}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":69,"column":0},"generated":{"line":1,"column":1181}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":69,"column":0},"generated":{"line":1,"column":1189}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":69,"column":0},"generated":{"line":1,"column":1191}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":72,"column":0},"generated":{"line":1,"column":1200}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":72,"column":0},"generated":{"line":1,"column":1217}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":72,"column":0},"generated":{"line":1,"column":1219}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":73,"column":0},"generated":{"line":1,"column":1241}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":73,"column":0},"generated":{"line":1,"column":1243}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":73,"column":0},"generated":{"line":1,"column":1263}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":73,"column":0},"generated":{"line":1,"column":1265}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":76,"column":0},"generated":{"line":1,"column":1286}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":79,"column":0},"generated":{"line":1,"column":1288}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":79,"column":0},"generated":{"line":1,"column":1297}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":79,"column":0},"generated":{"line":1,"column":1299}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":80,"column":0},"generated":{"line":1,"column":1302}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":80,"column":0},"generated":{"line":1,"column":1305}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":80,"column":0},"generated":{"line":1,"column":1316}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":80,"column":0},"generated":{"line":1,"column":1318}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":80,"column":0},"generated":{"line":1,"column":1323}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":80,"column":0},"generated":{"line":1,"column":1330}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":81,"column":0},"generated":{"line":1,"column":1332}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":81,"column":0},"generated":{"line":1,"column":1335}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":81,"column":0},"generated":{"line":1,"column":1337}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":81,"column":0},"generated":{"line":1,"column":1350}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":81,"column":0},"generated":{"line":1,"column":1352}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":81,"column":0},"generated":{"line":1,"column":1364}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":81,"column":0},"generated":{"line":1,"column":1371}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":81,"column":0},"generated":{"line":1,"column":1373}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":82,"column":0},"generated":{"line":1,"column":1380}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":82,"column":0},"generated":{"line":1,"column":1387}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":87,"column":0},"generated":{"line":1,"column":1389}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":87,"column":0},"generated":{"line":1,"column":1392}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":87,"column":0},"generated":{"line":1,"column":1394}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":87,"column":0},"generated":{"line":1,"column":1407}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":87,"column":0},"generated":{"line":1,"column":1409}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":87,"column":0},"generated":{"line":1,"column":1432}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":87,"column":0},"generated":{"line":1,"column":1434}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":89,"column":0},"generated":{"line":1,"column":1435}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":88,"column":0},"generated":{"line":1,"column":1442}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":88,"column":0},"generated":{"line":1,"column":1448}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":88,"column":0},"generated":{"line":1,"column":1453}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":88,"column":0},"generated":{"line":1,"column":1455}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":88,"column":0},"generated":{"line":1,"column":1467}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":88,"column":0},"generated":{"line":1,"column":1475}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":89,"column":0},"generated":{"line":1,"column":1485}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":89,"column":0},"generated":{"line":1,"column":1490}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":89,"column":0},"generated":{"line":1,"column":1493}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":89,"column":0},"generated":{"line":1,"column":1495}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":89,"column":0},"generated":{"line":1,"column":1502}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":89,"column":0},"generated":{"line":1,"column":1504}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":92,"column":0},"generated":{"line":1,"column":1512}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":92,"column":0},"generated":{"line":1,"column":1519}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":95,"column":0},"generated":{"line":1,"column":1521}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":95,"column":0},"generated":{"line":1,"column":1530}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":95,"column":0},"generated":{"line":1,"column":1532}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":96,"column":0},"generated":{"line":1,"column":1535}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":96,"column":0},"generated":{"line":1,"column":1542}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":96,"column":0},"generated":{"line":1,"column":1544}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":96,"column":0},"generated":{"line":1,"column":1550}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":96,"column":0},"generated":{"line":1,"column":1555}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":98,"column":0},"generated":{"line":1,"column":1558}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":98,"column":0},"generated":{"line":1,"column":1567}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":98,"column":0},"generated":{"line":1,"column":1569}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":99,"column":0},"generated":{"line":1,"column":1572}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":99,"column":0},"generated":{"line":1,"column":1579}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":100,"column":0},"generated":{"line":1,"column":1581}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":100,"column":0},"generated":{"line":1,"column":1587}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":101,"column":0},"generated":{"line":1,"column":1592}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":101,"column":0},"generated":{"line":1,"column":1598}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":102,"column":0},"generated":{"line":1,"column":1601}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":102,"column":0},"generated":{"line":1,"column":1606}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":105,"column":0},"generated":{"line":1,"column":1611}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":105,"column":0},"generated":{"line":1,"column":1618}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":105,"column":0},"generated":{"line":1,"column":1626}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":106,"column":0},"generated":{"line":1,"column":1627}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":106,"column":0},"generated":{"line":1,"column":1645}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":107,"column":0},"generated":{"line":1,"column":1647}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":8,"column":0},"generated":{"line":1,"column":1667}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":108,"column":0},"generated":{"line":1,"column":1670}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":9,"column":0},"generated":{"line":1,"column":1695}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":109,"column":0},"generated":{"line":1,"column":1697}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":109,"column":0},"generated":{"line":1,"column":1705}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":110,"column":0},"generated":{"line":1,"column":1707}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":110,"column":0},"generated":{"line":1,"column":1719}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":111,"column":0},"generated":{"line":1,"column":1721}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":111,"column":0},"generated":{"line":1,"column":1745}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":112,"column":0},"generated":{"line":1,"column":1747}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":112,"column":0},"generated":{"line":1,"column":1757}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":113,"column":0},"generated":{"line":1,"column":1759}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":113,"column":0},"generated":{"line":1,"column":1777}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":114,"column":0},"generated":{"line":1,"column":1779}},{"source":"../node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":114,"column":0},"generated":{"line":1,"column":1799}}],"sources":{"../node_modules/mongodb-core/lib/wireprotocol/shared.js":"'use strict';\n\nconst ReadPreference = require('../topologies/read_preference');\nconst MongoError = require('../error').MongoError;\nconst ServerType = require('../sdam/server_description').ServerType;\nconst TopologyDescription = require('../sdam/topology_description').TopologyDescription;\n\nconst MESSAGE_HEADER_SIZE = 16;\nconst COMPRESSION_DETAILS_SIZE = 9; // originalOpcode + uncompressedSize, compressorID\n\n// OPCODE Numbers\n// Defined at https://docs.mongodb.com/manual/reference/mongodb-wire-protocol/#request-opcodes\nvar opcodes = {\n  OP_REPLY: 1,\n  OP_UPDATE: 2001,\n  OP_INSERT: 2002,\n  OP_QUERY: 2004,\n  OP_GETMORE: 2005,\n  OP_DELETE: 2006,\n  OP_KILL_CURSORS: 2007,\n  OP_COMPRESSED: 2012,\n  OP_MSG: 2013\n};\n\nvar getReadPreference = function(cmd, options) {\n  // Default to command version of the readPreference\n  var readPreference = cmd.readPreference || new ReadPreference('primary');\n  // If we have an option readPreference override the command one\n  if (options.readPreference) {\n    readPreference = options.readPreference;\n  }\n\n  if (typeof readPreference === 'string') {\n    readPreference = new ReadPreference(readPreference);\n  }\n\n  if (!(readPreference instanceof ReadPreference)) {\n    throw new MongoError('read preference must be a ReadPreference instance');\n  }\n\n  return readPreference;\n};\n\n// Parses the header of a wire protocol message\nvar parseHeader = function(message) {\n  return {\n    length: message.readInt32LE(0),\n    requestId: message.readInt32LE(4),\n    responseTo: message.readInt32LE(8),\n    opCode: message.readInt32LE(12)\n  };\n};\n\nfunction applyCommonQueryOptions(queryOptions, options) {\n  Object.assign(queryOptions, {\n    raw: typeof options.raw === 'boolean' ? options.raw : false,\n    promoteLongs: typeof options.promoteLongs === 'boolean' ? options.promoteLongs : true,\n    promoteValues: typeof options.promoteValues === 'boolean' ? options.promoteValues : true,\n    promoteBuffers: typeof options.promoteBuffers === 'boolean' ? options.promoteBuffers : false,\n    monitoring: typeof options.monitoring === 'boolean' ? options.monitoring : false,\n    fullResult: typeof options.fullResult === 'boolean' ? options.fullResult : false\n  });\n\n  if (typeof options.socketTimeout === 'number') {\n    queryOptions.socketTimeout = options.socketTimeout;\n  }\n\n  if (options.session) {\n    queryOptions.session = options.session;\n  }\n\n  if (typeof options.documentsReturnedIn === 'string') {\n    queryOptions.documentsReturnedIn = options.documentsReturnedIn;\n  }\n\n  return queryOptions;\n}\n\nfunction isSharded(topologyOrServer) {\n  if (topologyOrServer.type === 'mongos') return true;\n  if (topologyOrServer.description && topologyOrServer.description.type === ServerType.Mongos) {\n    return true;\n  }\n\n  // NOTE: This is incredibly inefficient, and should be removed once command construction\n  //       happens based on `Server` not `Topology`.\n  if (topologyOrServer.description && topologyOrServer.description instanceof TopologyDescription) {\n    const servers = Array.from(topologyOrServer.description.servers.values());\n    return servers.some(server => server.type === ServerType.Mongos);\n  }\n\n  return false;\n}\n\nfunction databaseNamespace(ns) {\n  return ns.split('.')[0];\n}\nfunction collectionNamespace(ns) {\n  return ns\n    .split('.')\n    .slice(1)\n    .join('.');\n}\n\nmodule.exports = {\n  getReadPreference,\n  MESSAGE_HEADER_SIZE,\n  COMPRESSION_DETAILS_SIZE,\n  opcodes,\n  parseHeader,\n  applyCommonQueryOptions,\n  isSharded,\n  databaseNamespace,\n  collectionNamespace\n};\n"},"lineCount":null}},"error":null,"hash":"fdf7a49bd1f99a3e6b361157cd8870e5","cacheData":{"env":{}}}